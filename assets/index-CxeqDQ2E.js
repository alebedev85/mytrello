(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Cy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qm={exports:{}},Pu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fb;function uI(){if(fb)return Pu;fb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Pu.Fragment=e,Pu.jsx=n,Pu.jsxs=n,Pu}var db;function cI(){return db||(db=1,Qm.exports=uI()),Qm.exports}var G=cI(),Xm={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hb;function fI(){if(hb)return ze;hb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function E(B){return B===null||typeof B!="object"?null:(B=_&&B[_]||B["@@iterator"],typeof B=="function"?B:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,M={};function D(B,oe,be){this.props=B,this.context=oe,this.refs=M,this.updater=be||S}D.prototype.isReactComponent={},D.prototype.setState=function(B,oe){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,oe,"setState")},D.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function z(){}z.prototype=D.prototype;function F(B,oe,be){this.props=B,this.context=oe,this.refs=M,this.updater=be||S}var q=F.prototype=new z;q.constructor=F,R(q,D.prototype),q.isPureReactComponent=!0;var Z=Array.isArray,X={H:null,A:null,T:null,S:null},se=Object.prototype.hasOwnProperty;function P(B,oe,be,me,ge,Me){return be=Me.ref,{$$typeof:t,type:B,key:oe,ref:be!==void 0?be:null,props:Me}}function I(B,oe){return P(B.type,oe,void 0,void 0,void 0,B.props)}function C(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function x(B){var oe={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(be){return oe[be]})}var V=/\/+/g;function L(B,oe){return typeof B=="object"&&B!==null&&B.key!=null?x(""+B.key):oe.toString(36)}function O(){}function Ue(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(O,O):(B.status="pending",B.then(function(oe){B.status==="pending"&&(B.status="fulfilled",B.value=oe)},function(oe){B.status==="pending"&&(B.status="rejected",B.reason=oe)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function Ne(B,oe,be,me,ge){var Me=typeof B;(Me==="undefined"||Me==="boolean")&&(B=null);var xe=!1;if(B===null)xe=!0;else switch(Me){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(B.$$typeof){case t:case e:xe=!0;break;case y:return xe=B._init,Ne(xe(B._payload),oe,be,me,ge)}}if(xe)return ge=ge(B),xe=me===""?"."+L(B,0):me,Z(ge)?(be="",xe!=null&&(be=xe.replace(V,"$&/")+"/"),Ne(ge,oe,be,"",function(lt){return lt})):ge!=null&&(C(ge)&&(ge=I(ge,be+(ge.key==null||B&&B.key===ge.key?"":(""+ge.key).replace(V,"$&/")+"/")+xe)),oe.push(ge)),1;xe=0;var mt=me===""?".":me+":";if(Z(B))for(var qe=0;qe<B.length;qe++)me=B[qe],Me=mt+L(me,qe),xe+=Ne(me,oe,be,Me,ge);else if(qe=E(B),typeof qe=="function")for(B=qe.call(B),qe=0;!(me=B.next()).done;)me=me.value,Me=mt+L(me,qe++),xe+=Ne(me,oe,be,Me,ge);else if(Me==="object"){if(typeof B.then=="function")return Ne(Ue(B),oe,be,me,ge);throw oe=String(B),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return xe}function ue(B,oe,be){if(B==null)return B;var me=[],ge=0;return Ne(B,me,"","",function(Me){return oe.call(be,Me,ge++)}),me}function Ee(B){if(B._status===-1){var oe=B._result;oe=oe(),oe.then(function(be){(B._status===0||B._status===-1)&&(B._status=1,B._result=be)},function(be){(B._status===0||B._status===-1)&&(B._status=2,B._result=be)}),B._status===-1&&(B._status=0,B._result=oe)}if(B._status===1)return B._result.default;throw B._result}var ve=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function Fe(){}return ze.Children={map:ue,forEach:function(B,oe,be){ue(B,function(){oe.apply(this,arguments)},be)},count:function(B){var oe=0;return ue(B,function(){oe++}),oe},toArray:function(B){return ue(B,function(oe){return oe})||[]},only:function(B){if(!C(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},ze.Component=D,ze.Fragment=n,ze.Profiler=a,ze.PureComponent=F,ze.StrictMode=i,ze.Suspense=p,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,ze.act=function(){throw Error("act(...) is not supported in production builds of React.")},ze.cache=function(B){return function(){return B.apply(null,arguments)}},ze.cloneElement=function(B,oe,be){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var me=R({},B.props),ge=B.key,Me=void 0;if(oe!=null)for(xe in oe.ref!==void 0&&(Me=void 0),oe.key!==void 0&&(ge=""+oe.key),oe)!se.call(oe,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&oe.ref===void 0||(me[xe]=oe[xe]);var xe=arguments.length-2;if(xe===1)me.children=be;else if(1<xe){for(var mt=Array(xe),qe=0;qe<xe;qe++)mt[qe]=arguments[qe+2];me.children=mt}return P(B.type,ge,void 0,void 0,Me,me)},ze.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:l,_context:B},B},ze.createElement=function(B,oe,be){var me,ge={},Me=null;if(oe!=null)for(me in oe.key!==void 0&&(Me=""+oe.key),oe)se.call(oe,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(ge[me]=oe[me]);var xe=arguments.length-2;if(xe===1)ge.children=be;else if(1<xe){for(var mt=Array(xe),qe=0;qe<xe;qe++)mt[qe]=arguments[qe+2];ge.children=mt}if(B&&B.defaultProps)for(me in xe=B.defaultProps,xe)ge[me]===void 0&&(ge[me]=xe[me]);return P(B,Me,void 0,void 0,null,ge)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(B){return{$$typeof:d,render:B}},ze.isValidElement=C,ze.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:Ee}},ze.memo=function(B,oe){return{$$typeof:m,type:B,compare:oe===void 0?null:oe}},ze.startTransition=function(B){var oe=X.T,be={};X.T=be;try{var me=B(),ge=X.S;ge!==null&&ge(be,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(Fe,ve)}catch(Me){ve(Me)}finally{X.T=oe}},ze.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},ze.use=function(B){return X.H.use(B)},ze.useActionState=function(B,oe,be){return X.H.useActionState(B,oe,be)},ze.useCallback=function(B,oe){return X.H.useCallback(B,oe)},ze.useContext=function(B){return X.H.useContext(B)},ze.useDebugValue=function(){},ze.useDeferredValue=function(B,oe){return X.H.useDeferredValue(B,oe)},ze.useEffect=function(B,oe){return X.H.useEffect(B,oe)},ze.useId=function(){return X.H.useId()},ze.useImperativeHandle=function(B,oe,be){return X.H.useImperativeHandle(B,oe,be)},ze.useInsertionEffect=function(B,oe){return X.H.useInsertionEffect(B,oe)},ze.useLayoutEffect=function(B,oe){return X.H.useLayoutEffect(B,oe)},ze.useMemo=function(B,oe){return X.H.useMemo(B,oe)},ze.useOptimistic=function(B,oe){return X.H.useOptimistic(B,oe)},ze.useReducer=function(B,oe,be){return X.H.useReducer(B,oe,be)},ze.useRef=function(B){return X.H.useRef(B)},ze.useState=function(B){return X.H.useState(B)},ze.useSyncExternalStore=function(B,oe,be){return X.H.useSyncExternalStore(B,oe,be)},ze.useTransition=function(){return X.H.useTransition()},ze.version="19.0.0",ze}var pb;function Th(){return pb||(pb=1,Xm.exports=fI()),Xm.exports}var k=Th();const je=Cy(k);var Zm={exports:{}},Mu={},Jm={exports:{}},eg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mb;function dI(){return mb||(mb=1,function(t){function e(ue,Ee){var ve=ue.length;ue.push(Ee);e:for(;0<ve;){var Fe=ve-1>>>1,B=ue[Fe];if(0<a(B,Ee))ue[Fe]=Ee,ue[ve]=B,ve=Fe;else break e}}function n(ue){return ue.length===0?null:ue[0]}function i(ue){if(ue.length===0)return null;var Ee=ue[0],ve=ue.pop();if(ve!==Ee){ue[0]=ve;e:for(var Fe=0,B=ue.length,oe=B>>>1;Fe<oe;){var be=2*(Fe+1)-1,me=ue[be],ge=be+1,Me=ue[ge];if(0>a(me,ve))ge<B&&0>a(Me,me)?(ue[Fe]=Me,ue[ge]=ve,Fe=ge):(ue[Fe]=me,ue[be]=ve,Fe=be);else if(ge<B&&0>a(Me,ve))ue[Fe]=Me,ue[ge]=ve,Fe=ge;else break e}}return Ee}function a(ue,Ee){var ve=ue.sortIndex-Ee.sortIndex;return ve!==0?ve:ue.id-Ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var p=[],m=[],y=1,_=null,E=3,S=!1,R=!1,M=!1,D=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function q(ue){for(var Ee=n(m);Ee!==null;){if(Ee.callback===null)i(m);else if(Ee.startTime<=ue)i(m),Ee.sortIndex=Ee.expirationTime,e(p,Ee);else break;Ee=n(m)}}function Z(ue){if(M=!1,q(ue),!R)if(n(p)!==null)R=!0,Ue();else{var Ee=n(m);Ee!==null&&Ne(Z,Ee.startTime-ue)}}var X=!1,se=-1,P=5,I=-1;function C(){return!(t.unstable_now()-I<P)}function x(){if(X){var ue=t.unstable_now();I=ue;var Ee=!0;try{e:{R=!1,M&&(M=!1,z(se),se=-1),S=!0;var ve=E;try{t:{for(q(ue),_=n(p);_!==null&&!(_.expirationTime>ue&&C());){var Fe=_.callback;if(typeof Fe=="function"){_.callback=null,E=_.priorityLevel;var B=Fe(_.expirationTime<=ue);if(ue=t.unstable_now(),typeof B=="function"){_.callback=B,q(ue),Ee=!0;break t}_===n(p)&&i(p),q(ue)}else i(p);_=n(p)}if(_!==null)Ee=!0;else{var oe=n(m);oe!==null&&Ne(Z,oe.startTime-ue),Ee=!1}}break e}finally{_=null,E=ve,S=!1}Ee=void 0}}finally{Ee?V():X=!1}}}var V;if(typeof F=="function")V=function(){F(x)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,O=L.port2;L.port1.onmessage=x,V=function(){O.postMessage(null)}}else V=function(){D(x,0)};function Ue(){X||(X=!0,V())}function Ne(ue,Ee){se=D(function(){ue(t.unstable_now())},Ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ue){ue.callback=null},t.unstable_continueExecution=function(){R||S||(R=!0,Ue())},t.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ue?Math.floor(1e3/ue):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(ue){switch(E){case 1:case 2:case 3:var Ee=3;break;default:Ee=E}var ve=E;E=Ee;try{return ue()}finally{E=ve}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ue,Ee){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var ve=E;E=ue;try{return Ee()}finally{E=ve}},t.unstable_scheduleCallback=function(ue,Ee,ve){var Fe=t.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Fe+ve:Fe):ve=Fe,ue){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ve+B,ue={id:y++,callback:Ee,priorityLevel:ue,startTime:ve,expirationTime:B,sortIndex:-1},ve>Fe?(ue.sortIndex=ve,e(m,ue),n(p)===null&&ue===n(m)&&(M?(z(se),se=-1):M=!0,Ne(Z,ve-Fe))):(ue.sortIndex=B,e(p,ue),R||S||(R=!0,Ue())),ue},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(ue){var Ee=E;return function(){var ve=E;E=Ee;try{return ue.apply(this,arguments)}finally{E=ve}}}}(eg)),eg}var gb;function hI(){return gb||(gb=1,Jm.exports=dI()),Jm.exports}var tg={exports:{}},vn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yb;function pI(){if(yb)return vn;yb=1;var t=Th();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:p,containerInfo:m,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,vn.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(p,m,null,y)},vn.flushSync=function(p){var m=c.T,y=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=m,i.p=y,i.d.f()}},vn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},vn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},vn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,_=d(y,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:S}):y==="script"&&i.d.X(p,{crossOrigin:_,integrity:E,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},vn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=d(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},vn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=d(y,m.crossOrigin);i.d.L(p,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},vn.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=d(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},vn.requestFormReset=function(p){i.d.r(p)},vn.unstable_batchedUpdates=function(p,m){return p(m)},vn.useFormState=function(p,m,y){return c.H.useFormState(p,m,y)},vn.useFormStatus=function(){return c.H.useHostTransitionStatus()},vn.version="19.0.0",vn}var vb;function hS(){if(vb)return tg.exports;vb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tg.exports=pI(),tg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _b;function mI(){if(_b)return Mu;_b=1;var t=hI(),e=Th(),n=hS();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),S=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),Z=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function se(r){return r===null||typeof r!="object"?null:(r=X&&r[X]||r["@@iterator"],typeof r=="function"?r:null)}var P=Symbol.for("react.client.reference");function I(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===P?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case p:return"Fragment";case d:return"Portal";case y:return"Profiler";case m:return"StrictMode";case M:return"Suspense";case D:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case S:return(r.displayName||"Context")+".Provider";case E:return(r._context.displayName||"Context")+".Consumer";case R:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case z:return s=r.displayName||null,s!==null?s:I(r.type)||"Memo";case F:s=r._payload,r=r._init;try{return I(r(s))}catch{}}return null}var C=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,x=Object.assign,V,L;function O(r){if(V===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);V=s&&s[1]||"",L=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+r+L}var Ue=!1;function Ne(r,s){if(!r||Ue)return"";Ue=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(te){var Q=te}Reflect.construct(r,[],ae)}else{try{ae.call()}catch(te){Q=te}r.call(ae.prototype)}}else{try{throw Error()}catch(te){Q=te}(ae=r())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(te){if(te&&Q&&typeof te.stack=="string")return[te.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],w=g[1];if(T&&w){var N=T.split(`
`),H=w.split(`
`);for(h=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(u===N.length||h===H.length)for(u=N.length-1,h=H.length-1;1<=u&&0<=h&&N[u]!==H[h];)h--;for(;1<=u&&0<=h;u--,h--)if(N[u]!==H[h]){if(u!==1||h!==1)do if(u--,h--,0>h||N[u]!==H[h]){var ne=`
`+N[u].replace(" at new "," at ");return r.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",r.displayName)),ne}while(1<=u&&0<=h);break}}}finally{Ue=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?O(o):""}function ue(r){switch(r.tag){case 26:case 27:case 5:return O(r.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 15:return r=Ne(r.type,!1),r;case 11:return r=Ne(r.type.render,!1),r;case 1:return r=Ne(r.type,!0),r;default:return""}}function Ee(r){try{var s="";do s+=ue(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ve(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function Fe(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function B(r){if(ve(r)!==r)throw Error(i(188))}function oe(r){var s=r.alternate;if(!s){if(s=ve(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var h=o.return;if(h===null)break;var g=h.alternate;if(g===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===o)return B(h),r;if(g===u)return B(h),s;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=h,u=g;else{for(var T=!1,w=h.child;w;){if(w===o){T=!0,o=h,u=g;break}if(w===u){T=!0,u=h,o=g;break}w=w.sibling}if(!T){for(w=g.child;w;){if(w===o){T=!0,o=g,u=h;break}if(w===u){T=!0,u=g,o=h;break}w=w.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function be(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=be(r),s!==null)return s;r=r.sibling}return null}var me=Array.isArray,ge=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Me={pending:!1,data:null,method:null,action:null},xe=[],mt=-1;function qe(r){return{current:r}}function lt(r){0>mt||(r.current=xe[mt],xe[mt]=null,mt--)}function Xe(r,s){mt++,xe[mt]=r.current,r.current=s}var zt=qe(null),_t=qe(null),xt=qe(null),br=qe(null);function ui(r,s){switch(Xe(xt,s),Xe(_t,r),Xe(zt,null),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?zE(s):0;break;default:if(r=r===8?s.parentNode:s,s=r.tagName,r=r.namespaceURI)r=zE(r),s=jE(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}lt(zt),Xe(zt,s)}function Vr(){lt(zt),lt(_t),lt(xt)}function ao(r){r.memoizedState!==null&&Xe(br,r);var s=zt.current,o=jE(s,r.type);s!==o&&(Xe(_t,r),Xe(zt,o))}function U(r){_t.current===r&&(lt(zt),lt(_t)),br.current===r&&(lt(br),Iu._currentValue=Me)}var Y=Object.prototype.hasOwnProperty,ee=t.unstable_scheduleCallback,pe=t.unstable_cancelCallback,he=t.unstable_shouldYield,ce=t.unstable_requestPaint,_e=t.unstable_now,Be=t.unstable_getCurrentPriorityLevel,Ge=t.unstable_ImmediatePriority,Ke=t.unstable_UserBlockingPriority,Qt=t.unstable_NormalPriority,oo=t.unstable_LowPriority,ci=t.unstable_IdlePriority,sa=t.log,fi=t.unstable_setDisableYieldValue,Tr=null,Xt=null;function Ji(r){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Tr,r,void 0,(r.current.flags&128)===128)}catch{}}function Lr(r){if(typeof sa=="function"&&fi(r),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(Tr,r)}catch{}}var wn=Math.clz32?Math.clz32:Wc,Nl=Math.log,Kc=Math.LN2;function Wc(r){return r>>>=0,r===0?32:31-(Nl(r)/Kc|0)|0}var Ur=128,es=4194304;function Sr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Qn(r,s){var o=r.pendingLanes;if(o===0)return 0;var u=0,h=r.suspendedLanes,g=r.pingedLanes,T=r.warmLanes;r=r.finishedLanes!==0;var w=o&134217727;return w!==0?(o=w&~h,o!==0?u=Sr(o):(g&=w,g!==0?u=Sr(g):r||(T=w&~T,T!==0&&(u=Sr(T))))):(w=o&~h,w!==0?u=Sr(w):g!==0?u=Sr(g):r||(T=o&~T,T!==0&&(u=Sr(T)))),u===0?0:s!==0&&s!==u&&!(s&h)&&(h=u&-u,T=s&-s,h>=T||h===32&&(T&4194176)!==0)?s:u}function ts(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function lo(r,s){switch(r){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pl(){var r=Ur;return Ur<<=1,!(Ur&4194176)&&(Ur=128),r}function ns(){var r=es;return es<<=1,!(es&62914560)&&(es=4194304),r}function uo(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Ot(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Yc(r,s,o,u,h,g){var T=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var w=r.entanglements,N=r.expirationTimes,H=r.hiddenUpdates;for(o=T&~o;0<o;){var ne=31-wn(o),ae=1<<ne;w[ne]=0,N[ne]=-1;var Q=H[ne];if(Q!==null)for(H[ne]=null,ne=0;ne<Q.length;ne++){var te=Q[ne];te!==null&&(te.lane&=-536870913)}o&=~ae}u!==0&&rs(r,u,0),g!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=g&~(T&~s))}function rs(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-wn(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194218}function is(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-wn(o),h=1<<u;h&s|r[u]&s&&(r[u]|=s),o&=~h}}function Qc(r){return r&=-r,2<r?8<r?r&134217727?32:268435456:8:2}function Xc(){var r=ge.p;return r!==0?r:(r=window.event,r===void 0?32:sb(r.type))}function ss(r,s){var o=ge.p;try{return ge.p=r,s()}finally{ge.p=o}}var Br=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Br,jt="__reactProps$"+Br,di="__reactContainer$"+Br,aa="__reactEvents$"+Br,co="__reactListeners$"+Br,zr="__reactHandles$"+Br,Ml="__reactResources$"+Br,as="__reactMarker$"+Br;function oa(r){delete r[Zt],delete r[jt],delete r[aa],delete r[co],delete r[zr]}function wr(r){var s=r[Zt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[di]||o[Zt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=qE(r);r!==null;){if(o=r[Zt])return o;r=qE(r)}return s}r=o,o=r.parentNode}return null}function hi(r){if(r=r[Zt]||r[di]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function os(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function ls(r){var s=r[Ml];return s||(s=r[Ml]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function bt(r){r[as]=!0}var kl=new Set,fo={};function Ln(r,s){On(r,s),On(r+"Capture",s)}function On(r,s){for(fo[r]=s,r=0;r<s.length;r++)kl.add(s[r])}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ep=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vl={},Ll={};function Zc(r){return Y.call(Ll,r)?!0:Y.call(Vl,r)?!1:ep.test(r)?Ll[r]=!0:(Vl[r]=!0,!1)}function us(r,s,o){if(Zc(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function cs(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Xn(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}function An(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Jc(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function tp(r){var s=Jc(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(T){u=""+T,g.call(this,T)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function la(r){r._valueTracker||(r._valueTracker=tp(r))}function Ul(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=Jc(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function ho(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var pi=/[\n"\\]/g;function At(r){return r.replace(pi,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function fs(r,s,o,u,h,g,T,w){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),s!=null?T==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+An(s)):r.value!==""+An(s)&&(r.value=""+An(s)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),s!=null?po(r,T,An(s)):o!=null?po(r,T,An(o)):u!=null&&r.removeAttribute("value"),h==null&&g!=null&&(r.defaultChecked=!!g),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.name=""+An(w):r.removeAttribute("name")}function ua(r,s,o,u,h,g,T,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+An(o):"",s=s!=null?""+An(s):o,w||s===r.value||(r.value=s),r.defaultValue=s}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=w?r.checked:!!u,r.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function po(r,s,o){s==="number"&&ho(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function st(r,s,o,u){if(r=r.options,s){s={};for(var h=0;h<o.length;h++)s["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=s.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&u&&(r[o].defaultSelected=!0)}else{for(o=""+An(o),s=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function ca(r,s,o){if(s!=null&&(s=""+An(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+An(o):""}function ds(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(me(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=An(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function Zn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var np=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bl(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||np.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function ef(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var h in s)u=s[h],s.hasOwnProperty(h)&&o[h]!==u&&Bl(r,h,u)}else for(var g in s)s.hasOwnProperty(g)&&Bl(r,g,s[g])}function zl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ip=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jr(r){return ip.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Jn=null;function mo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var mi=null,gi=null;function yi(r){var s=hi(r);if(s&&(r=s.stateNode)){var o=r[jt]||null;e:switch(r=s.stateNode,s.type){case"input":if(fs(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+At(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var h=u[jt]||null;if(!h)throw Error(i(90));fs(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&Ul(u)}break e;case"textarea":ca(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&st(r,!!o.multiple,s,!1)}}}var jl=!1;function tf(r,s,o){if(jl)return r(s,o);jl=!0;try{var u=r(s);return u}finally{if(jl=!1,(mi!==null||gi!==null)&&(Kf(),mi&&(s=mi,r=gi,gi=mi=null,yi(s),r)))for(s=0;s<r.length;s++)yi(r[s])}}function fa(r,s){var o=r.stateNode;if(o===null)return null;var u=o[jt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var er=!1;if(Un)try{var da={};Object.defineProperty(da,"passive",{get:function(){er=!0}}),window.addEventListener("test",da,da),window.removeEventListener("test",da,da)}catch{er=!1}var Fr=null,hs=null,vi=null;function Fl(){if(vi)return vi;var r,s=hs,o=s.length,u,h="value"in Fr?Fr.value:Fr.textContent,g=h.length;for(r=0;r<o&&s[r]===h[r];r++);var T=o-r;for(u=1;u<=T&&s[o-u]===h[g-u];u++);return vi=h.slice(r,1<u?1-u:void 0)}function Hr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function qr(){return!0}function Hl(){return!1}function Jt(r){function s(o,u,h,g,T){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var w in r)r.hasOwnProperty(w)&&(o=r[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?qr:Hl,this.isPropagationStopped=Hl,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=qr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=qr)},persist:function(){},isPersistent:qr}),s}var ut={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},go=Jt(ut),ha=x({},ut,{view:0,detail:0}),nf=Jt(ha),yo,vo,Gr,pa=x({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ya,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Gr&&(Gr&&r.type==="mousemove"?(yo=r.screenX-Gr.screenX,vo=r.screenY-Gr.screenY):vo=yo=0,Gr=r),yo)},movementY:function(r){return"movementY"in r?r.movementY:vo}}),tr=Jt(pa),rf=x({},pa,{dataTransfer:0}),sp=Jt(rf),ma=x({},ha,{relatedTarget:0}),_o=Jt(ma),ql=x({},ut,{animationName:0,elapsedTime:0,pseudoElement:0}),Eo=Jt(ql),sf=x({},ut,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),bo=Jt(sf),ap=x({},ut,{data:0}),Gl=Jt(ap),ga={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},af={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},of={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $l(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=of[r])?!!s[r]:!1}function ya(){return $l}var lf=x({},ha,{key:function(r){if(r.key){var s=ga[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Hr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?af[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ya,charCode:function(r){return r.type==="keypress"?Hr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Hr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),To=Jt(lf),uf=x({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kl=Jt(uf),_i=x({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ya}),cf=Jt(_i),ff=x({},ut,{propertyName:0,elapsedTime:0,pseudoElement:0}),df=Jt(ff),hf=x({},pa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),So=Jt(hf),Rn=x({},ut,{newState:0,oldState:0}),pf=Jt(Rn),mf=[9,13,27,32],$r=Un&&"CompositionEvent"in window,f=null;Un&&"documentMode"in document&&(f=document.documentMode);var v=Un&&"TextEvent"in window&&!f,b=Un&&(!$r||f&&8<f&&11>=f),A=" ",K=!1;function J(r,s){switch(r){case"keyup":return mf.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fe(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var et=!1;function Ft(r,s){switch(r){case"compositionend":return fe(s);case"keypress":return s.which!==32?null:(K=!0,A);case"textInput":return r=s.data,r===A&&K?null:r;default:return null}}function tt(r,s){if(et)return r==="compositionend"||!$r&&J(r,s)?(r=Fl(),vi=hs=Fr=null,et=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return b&&s.locale!=="ko"?null:s.data;default:return null}}var en={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ht(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!en[r.type]:s==="textarea"}function Ei(r,s,o,u){mi?gi?gi.push(u):gi=[u]:mi=u,s=Zf(s,"onChange"),0<s.length&&(o=new go("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var un=null,Kr=null;function Wl(r){kE(r,0)}function gf(r){var s=os(r);if(Ul(s))return r}function c0(r,s){if(r==="change")return s}var f0=!1;if(Un){var op;if(Un){var lp="oninput"in document;if(!lp){var d0=document.createElement("div");d0.setAttribute("oninput","return;"),lp=typeof d0.oninput=="function"}op=lp}else op=!1;f0=op&&(!document.documentMode||9<document.documentMode)}function h0(){un&&(un.detachEvent("onpropertychange",p0),Kr=un=null)}function p0(r){if(r.propertyName==="value"&&gf(Kr)){var s=[];Ei(s,Kr,r,mo(r)),tf(Wl,s)}}function BR(r,s,o){r==="focusin"?(h0(),un=s,Kr=o,un.attachEvent("onpropertychange",p0)):r==="focusout"&&h0()}function zR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return gf(Kr)}function jR(r,s){if(r==="click")return gf(s)}function FR(r,s){if(r==="input"||r==="change")return gf(s)}function HR(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Bn=typeof Object.is=="function"?Object.is:HR;function Yl(r,s){if(Bn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!Y.call(s,h)||!Bn(r[h],s[h]))return!1}return!0}function m0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function g0(r,s){var o=m0(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=m0(o)}}function y0(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?y0(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function v0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=ho(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=ho(r.document)}return s}function up(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function qR(r,s){var o=v0(s);s=r.focusedElem;var u=r.selectionRange;if(o!==s&&s&&s.ownerDocument&&y0(s.ownerDocument.documentElement,s)){if(u!==null&&up(s)){if(r=u.start,o=u.end,o===void 0&&(o=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(o,s.value.length);else if(o=(r=s.ownerDocument||document)&&r.defaultView||window,o.getSelection){o=o.getSelection();var h=s.textContent.length,g=Math.min(u.start,h);u=u.end===void 0?g:Math.min(u.end,h),!o.extend&&g>u&&(h=u,u=g,g=h),h=g0(s,g);var T=g0(s,u);h&&T&&(o.rangeCount!==1||o.anchorNode!==h.node||o.anchorOffset!==h.offset||o.focusNode!==T.node||o.focusOffset!==T.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),o.removeAllRanges(),g>u?(o.addRange(r),o.extend(T.node,T.offset)):(r.setEnd(T.node,T.offset),o.addRange(r)))}}for(r=[],o=s;o=o.parentNode;)o.nodeType===1&&r.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)o=r[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var GR=Un&&"documentMode"in document&&11>=document.documentMode,wo=null,cp=null,Ql=null,fp=!1;function _0(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;fp||wo==null||wo!==ho(u)||(u=wo,"selectionStart"in u&&up(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ql&&Yl(Ql,u)||(Ql=u,u=Zf(cp,"onSelect"),0<u.length&&(s=new go("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=wo)))}function va(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Ao={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionrun:va("Transition","TransitionRun"),transitionstart:va("Transition","TransitionStart"),transitioncancel:va("Transition","TransitionCancel"),transitionend:va("Transition","TransitionEnd")},dp={},E0={};Un&&(E0=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function _a(r){if(dp[r])return dp[r];if(!Ao[r])return r;var s=Ao[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in E0)return dp[r]=s[o];return r}var b0=_a("animationend"),T0=_a("animationiteration"),S0=_a("animationstart"),$R=_a("transitionrun"),KR=_a("transitionstart"),WR=_a("transitioncancel"),w0=_a("transitionend"),A0=new Map,R0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ar(r,s){A0.set(r,s),Ln(s,[r])}var nr=[],Ro=0,hp=0;function yf(){for(var r=Ro,s=hp=Ro=0;s<r;){var o=nr[s];nr[s++]=null;var u=nr[s];nr[s++]=null;var h=nr[s];nr[s++]=null;var g=nr[s];if(nr[s++]=null,u!==null&&h!==null){var T=u.pending;T===null?h.next=h:(h.next=T.next,T.next=h),u.pending=h}g!==0&&C0(o,h,g)}}function vf(r,s,o,u){nr[Ro++]=r,nr[Ro++]=s,nr[Ro++]=o,nr[Ro++]=u,hp|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function pp(r,s,o,u){return vf(r,s,o,u),_f(r)}function ps(r,s){return vf(r,null,null,s),_f(r)}function C0(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var h=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(h=!0)),r=g,g=g.return;h&&s!==null&&r.tag===3&&(g=r.stateNode,h=31-wn(o),g=g.hiddenUpdates,r=g[h],r===null?g[h]=[s]:r.push(s),s.lane=o|536870912)}function _f(r){if(50<bu)throw bu=0,Em=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Co={},I0=new WeakMap;function rr(r,s){if(typeof r=="object"&&r!==null){var o=I0.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Ee(s)},I0.set(r,s),s)}return{value:r,source:s,stack:Ee(s)}}var Io=[],Do=0,Ef=null,bf=0,ir=[],sr=0,Ea=null,bi=1,Ti="";function ba(r,s){Io[Do++]=bf,Io[Do++]=Ef,Ef=r,bf=s}function D0(r,s,o){ir[sr++]=bi,ir[sr++]=Ti,ir[sr++]=Ea,Ea=r;var u=bi;r=Ti;var h=32-wn(u)-1;u&=~(1<<h),o+=1;var g=32-wn(s)+h;if(30<g){var T=h-h%5;g=(u&(1<<T)-1).toString(32),u>>=T,h-=T,bi=1<<32-wn(s)+h|o<<h|u,Ti=g+r}else bi=1<<g|o<<h|u,Ti=r}function mp(r){r.return!==null&&(ba(r,1),D0(r,1,0))}function gp(r){for(;r===Ef;)Ef=Io[--Do],Io[Do]=null,bf=Io[--Do],Io[Do]=null;for(;r===Ea;)Ea=ir[--sr],ir[sr]=null,Ti=ir[--sr],ir[sr]=null,bi=ir[--sr],ir[sr]=null}var Cn=null,cn=null,at=!1,Rr=null,Wr=!1,yp=Error(i(519));function Ta(r){var s=Error(i(418,""));throw Jl(rr(s,r)),yp}function x0(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Zt]=r,s[jt]=u,o){case"dialog":Ze("cancel",s),Ze("close",s);break;case"iframe":case"object":case"embed":Ze("load",s);break;case"video":case"audio":for(o=0;o<Su.length;o++)Ze(Su[o],s);break;case"source":Ze("error",s);break;case"img":case"image":case"link":Ze("error",s),Ze("load",s);break;case"details":Ze("toggle",s);break;case"input":Ze("invalid",s),ua(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),la(s);break;case"select":Ze("invalid",s);break;case"textarea":Ze("invalid",s),ds(s,u.value,u.defaultValue,u.children),la(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||BE(s.textContent,o)?(u.popover!=null&&(Ze("beforetoggle",s),Ze("toggle",s)),u.onScroll!=null&&Ze("scroll",s),u.onScrollEnd!=null&&Ze("scrollend",s),u.onClick!=null&&(s.onclick=Jf),s=!0):s=!1,s||Ta(r)}function O0(r){for(Cn=r.return;Cn;)switch(Cn.tag){case 3:case 27:Wr=!0;return;case 5:case 13:Wr=!1;return;default:Cn=Cn.return}}function Xl(r){if(r!==Cn)return!1;if(!at)return O0(r),at=!0,!1;var s=!1,o;if((o=r.tag!==3&&r.tag!==27)&&((o=r.tag===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Lm(r.type,r.memoizedProps)),o=!o),o&&(s=!0),s&&cn&&Ta(r),O0(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){cn=Ir(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}cn=null}}else cn=Cn?Ir(r.stateNode.nextSibling):null;return!0}function Zl(){cn=Cn=null,at=!1}function Jl(r){Rr===null?Rr=[r]:Rr.push(r)}var eu=Error(i(460)),N0=Error(i(474)),vp={then:function(){}};function P0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Tf(){}function M0(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(Tf,Tf),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===eu?Error(i(483)):r;default:if(typeof s.status=="string")s.then(Tf,Tf);else{if(r=gt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=u}},function(u){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===eu?Error(i(483)):r}throw tu=s,eu}}var tu=null;function k0(){if(tu===null)throw Error(i(459));var r=tu;return tu=null,r}var xo=null,nu=0;function Sf(r){var s=nu;return nu+=1,xo===null&&(xo=[]),M0(xo,r,s)}function ru(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function wf(r,s){throw s.$$typeof===l?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function V0(r){var s=r._init;return s(r._payload)}function L0(r){function s($,j){if(r){var W=$.deletions;W===null?($.deletions=[j],$.flags|=16):W.push(j)}}function o($,j){if(!r)return null;for(;j!==null;)s($,j),j=j.sibling;return null}function u($){for(var j=new Map;$!==null;)$.key!==null?j.set($.key,$):j.set($.index,$),$=$.sibling;return j}function h($,j){return $=Rs($,j),$.index=0,$.sibling=null,$}function g($,j,W){return $.index=W,r?(W=$.alternate,W!==null?(W=W.index,W<j?($.flags|=33554434,j):W):($.flags|=33554434,j)):($.flags|=1048576,j)}function T($){return r&&$.alternate===null&&($.flags|=33554434),$}function w($,j,W,re){return j===null||j.tag!==6?(j=dm(W,$.mode,re),j.return=$,j):(j=h(j,W),j.return=$,j)}function N($,j,W,re){var Te=W.type;return Te===p?ne($,j,W.props.children,re,W.key):j!==null&&(j.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===F&&V0(Te)===j.type)?(j=h(j,W.props),ru(j,W),j.return=$,j):(j=Ff(W.type,W.key,W.props,null,$.mode,re),ru(j,W),j.return=$,j)}function H($,j,W,re){return j===null||j.tag!==4||j.stateNode.containerInfo!==W.containerInfo||j.stateNode.implementation!==W.implementation?(j=hm(W,$.mode,re),j.return=$,j):(j=h(j,W.children||[]),j.return=$,j)}function ne($,j,W,re,Te){return j===null||j.tag!==7?(j=Na(W,$.mode,re,Te),j.return=$,j):(j=h(j,W),j.return=$,j)}function ae($,j,W){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=dm(""+j,$.mode,W),j.return=$,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case c:return W=Ff(j.type,j.key,j.props,null,$.mode,W),ru(W,j),W.return=$,W;case d:return j=hm(j,$.mode,W),j.return=$,j;case F:var re=j._init;return j=re(j._payload),ae($,j,W)}if(me(j)||se(j))return j=Na(j,$.mode,W,null),j.return=$,j;if(typeof j.then=="function")return ae($,Sf(j),W);if(j.$$typeof===S)return ae($,Bf($,j),W);wf($,j)}return null}function Q($,j,W,re){var Te=j!==null?j.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Te!==null?null:w($,j,""+W,re);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case c:return W.key===Te?N($,j,W,re):null;case d:return W.key===Te?H($,j,W,re):null;case F:return Te=W._init,W=Te(W._payload),Q($,j,W,re)}if(me(W)||se(W))return Te!==null?null:ne($,j,W,re,null);if(typeof W.then=="function")return Q($,j,Sf(W),re);if(W.$$typeof===S)return Q($,j,Bf($,W),re);wf($,W)}return null}function te($,j,W,re,Te){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return $=$.get(W)||null,w(j,$,""+re,Te);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case c:return $=$.get(re.key===null?W:re.key)||null,N(j,$,re,Te);case d:return $=$.get(re.key===null?W:re.key)||null,H(j,$,re,Te);case F:var $e=re._init;return re=$e(re._payload),te($,j,W,re,Te)}if(me(re)||se(re))return $=$.get(W)||null,ne(j,$,re,Te,null);if(typeof re.then=="function")return te($,j,W,Sf(re),Te);if(re.$$typeof===S)return te($,j,W,Bf(j,re),Te);wf(j,re)}return null}function we($,j,W,re){for(var Te=null,$e=null,Re=j,De=j=0,rn=null;Re!==null&&De<W.length;De++){Re.index>De?(rn=Re,Re=null):rn=Re.sibling;var ot=Q($,Re,W[De],re);if(ot===null){Re===null&&(Re=rn);break}r&&Re&&ot.alternate===null&&s($,Re),j=g(ot,j,De),$e===null?Te=ot:$e.sibling=ot,$e=ot,Re=rn}if(De===W.length)return o($,Re),at&&ba($,De),Te;if(Re===null){for(;De<W.length;De++)Re=ae($,W[De],re),Re!==null&&(j=g(Re,j,De),$e===null?Te=Re:$e.sibling=Re,$e=Re);return at&&ba($,De),Te}for(Re=u(Re);De<W.length;De++)rn=te(Re,$,De,W[De],re),rn!==null&&(r&&rn.alternate!==null&&Re.delete(rn.key===null?De:rn.key),j=g(rn,j,De),$e===null?Te=rn:$e.sibling=rn,$e=rn);return r&&Re.forEach(function(Ps){return s($,Ps)}),at&&ba($,De),Te}function Ve($,j,W,re){if(W==null)throw Error(i(151));for(var Te=null,$e=null,Re=j,De=j=0,rn=null,ot=W.next();Re!==null&&!ot.done;De++,ot=W.next()){Re.index>De?(rn=Re,Re=null):rn=Re.sibling;var Ps=Q($,Re,ot.value,re);if(Ps===null){Re===null&&(Re=rn);break}r&&Re&&Ps.alternate===null&&s($,Re),j=g(Ps,j,De),$e===null?Te=Ps:$e.sibling=Ps,$e=Ps,Re=rn}if(ot.done)return o($,Re),at&&ba($,De),Te;if(Re===null){for(;!ot.done;De++,ot=W.next())ot=ae($,ot.value,re),ot!==null&&(j=g(ot,j,De),$e===null?Te=ot:$e.sibling=ot,$e=ot);return at&&ba($,De),Te}for(Re=u(Re);!ot.done;De++,ot=W.next())ot=te(Re,$,De,ot.value,re),ot!==null&&(r&&ot.alternate!==null&&Re.delete(ot.key===null?De:ot.key),j=g(ot,j,De),$e===null?Te=ot:$e.sibling=ot,$e=ot);return r&&Re.forEach(function(lI){return s($,lI)}),at&&ba($,De),Te}function It($,j,W,re){if(typeof W=="object"&&W!==null&&W.type===p&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case c:e:{for(var Te=W.key;j!==null;){if(j.key===Te){if(Te=W.type,Te===p){if(j.tag===7){o($,j.sibling),re=h(j,W.props.children),re.return=$,$=re;break e}}else if(j.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===F&&V0(Te)===j.type){o($,j.sibling),re=h(j,W.props),ru(re,W),re.return=$,$=re;break e}o($,j);break}else s($,j);j=j.sibling}W.type===p?(re=Na(W.props.children,$.mode,re,W.key),re.return=$,$=re):(re=Ff(W.type,W.key,W.props,null,$.mode,re),ru(re,W),re.return=$,$=re)}return T($);case d:e:{for(Te=W.key;j!==null;){if(j.key===Te)if(j.tag===4&&j.stateNode.containerInfo===W.containerInfo&&j.stateNode.implementation===W.implementation){o($,j.sibling),re=h(j,W.children||[]),re.return=$,$=re;break e}else{o($,j);break}else s($,j);j=j.sibling}re=hm(W,$.mode,re),re.return=$,$=re}return T($);case F:return Te=W._init,W=Te(W._payload),It($,j,W,re)}if(me(W))return we($,j,W,re);if(se(W)){if(Te=se(W),typeof Te!="function")throw Error(i(150));return W=Te.call(W),Ve($,j,W,re)}if(typeof W.then=="function")return It($,j,Sf(W),re);if(W.$$typeof===S)return It($,j,Bf($,W),re);wf($,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,j!==null&&j.tag===6?(o($,j.sibling),re=h(j,W),re.return=$,$=re):(o($,j),re=dm(W,$.mode,re),re.return=$,$=re),T($)):o($,j)}return function($,j,W,re){try{nu=0;var Te=It($,j,W,re);return xo=null,Te}catch(Re){if(Re===eu)throw Re;var $e=ur(29,Re,null,$.mode);return $e.lanes=re,$e.return=$,$e}finally{}}}var Sa=L0(!0),U0=L0(!1),Oo=qe(null),Af=qe(0);function B0(r,s){r=Pi,Xe(Af,r),Xe(Oo,s),Pi=r|s.baseLanes}function _p(){Xe(Af,Pi),Xe(Oo,Oo.current)}function Ep(){Pi=Af.current,lt(Oo),lt(Af)}var ar=qe(null),Yr=null;function ms(r){var s=r.alternate;Xe(qt,qt.current&1),Xe(ar,r),Yr===null&&(s===null||Oo.current!==null||s.memoizedState!==null)&&(Yr=r)}function z0(r){if(r.tag===22){if(Xe(qt,qt.current),Xe(ar,r),Yr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Yr=r)}}else gs()}function gs(){Xe(qt,qt.current),Xe(ar,ar.current)}function Si(r){lt(ar),Yr===r&&(Yr=null),lt(qt)}var qt=qe(0);function Rf(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var YR=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},QR=t.unstable_scheduleCallback,XR=t.unstable_NormalPriority,Gt={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bp(){return{controller:new YR,data:new Map,refCount:0}}function iu(r){r.refCount--,r.refCount===0&&QR(XR,function(){r.controller.abort()})}var su=null,Tp=0,No=0,Po=null;function ZR(r,s){if(su===null){var o=su=[];Tp=0,No=Im(),Po={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Tp++,s.then(j0,j0),s}function j0(){if(--Tp===0&&su!==null){Po!==null&&(Po.status="fulfilled");var r=su;su=null,No=0,Po=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function JR(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var h=0;h<o.length;h++)(0,o[h])(s)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var F0=C.S;C.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&ZR(r,s),F0!==null&&F0(r,s)};var wa=qe(null);function Sp(){var r=wa.current;return r!==null?r:gt.pooledCache}function Cf(r,s){s===null?Xe(wa,wa.current):Xe(wa,s.pool)}function H0(){var r=Sp();return r===null?null:{parent:Gt._currentValue,pool:r}}var ys=0,He=null,dt=null,kt=null,If=!1,Mo=!1,Aa=!1,Df=0,au=0,ko=null,eC=0;function Nt(){throw Error(i(321))}function wp(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Bn(r[o],s[o]))return!1;return!0}function Ap(r,s,o,u,h,g){return ys=g,He=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,C.H=r===null||r.memoizedState===null?Ra:vs,Aa=!1,g=o(u,h),Aa=!1,Mo&&(g=G0(s,o,u,h)),q0(r),g}function q0(r){C.H=Qr;var s=dt!==null&&dt.next!==null;if(ys=0,kt=dt=He=null,If=!1,au=0,ko=null,s)throw Error(i(300));r===null||tn||(r=r.dependencies,r!==null&&Uf(r)&&(tn=!0))}function G0(r,s,o,u){He=r;var h=0;do{if(Mo&&(ko=null),au=0,Mo=!1,25<=h)throw Error(i(301));if(h+=1,kt=dt=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}C.H=Ca,g=s(o,u)}while(Mo);return g}function tC(){var r=C.H,s=r.useState()[0];return s=typeof s.then=="function"?ou(s):s,r=r.useState()[0],(dt!==null?dt.memoizedState:null)!==r&&(He.flags|=1024),s}function Rp(){var r=Df!==0;return Df=0,r}function Cp(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Ip(r){if(If){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}If=!1}ys=0,kt=dt=He=null,Mo=!1,au=Df=0,ko=null}function Nn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?He.memoizedState=kt=r:kt=kt.next=r,kt}function Vt(){if(dt===null){var r=He.alternate;r=r!==null?r.memoizedState:null}else r=dt.next;var s=kt===null?He.memoizedState:kt.next;if(s!==null)kt=s,dt=r;else{if(r===null)throw He.alternate===null?Error(i(467)):Error(i(310));dt=r,r={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},kt===null?He.memoizedState=kt=r:kt=kt.next=r}return kt}var xf;xf=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ou(r){var s=au;return au+=1,ko===null&&(ko=[]),r=M0(ko,r,s),s=He,(kt===null?s.memoizedState:kt.next)===null&&(s=s.alternate,C.H=s===null||s.memoizedState===null?Ra:vs),r}function Of(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return ou(r);if(r.$$typeof===S)return yn(r)}throw Error(i(438,String(r)))}function Dp(r){var s=null,o=He.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=He.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=xf(),He.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=Z;return s.index++,o}function wi(r,s){return typeof s=="function"?s(r):s}function Nf(r){var s=Vt();return xp(s,dt,r)}function xp(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var h=r.baseQueue,g=u.pending;if(g!==null){if(h!==null){var T=h.next;h.next=g.next,g.next=T}s.baseQueue=h=g,u.pending=null}if(g=r.baseState,h===null)r.memoizedState=g;else{s=h.next;var w=T=null,N=null,H=s,ne=!1;do{var ae=H.lane&-536870913;if(ae!==H.lane?(nt&ae)===ae:(ys&ae)===ae){var Q=H.revertLane;if(Q===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ae===No&&(ne=!0);else if((ys&Q)===Q){H=H.next,Q===No&&(ne=!0);continue}else ae={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(w=N=ae,T=g):N=N.next=ae,He.lanes|=Q,Cs|=Q;ae=H.action,Aa&&o(g,ae),g=H.hasEagerState?H.eagerState:o(g,ae)}else Q={lane:ae,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(w=N=Q,T=g):N=N.next=Q,He.lanes|=ae,Cs|=ae;H=H.next}while(H!==null&&H!==s);if(N===null?T=g:N.next=w,!Bn(g,r.memoizedState)&&(tn=!0,ne&&(o=Po,o!==null)))throw o;r.memoizedState=g,r.baseState=T,r.baseQueue=N,u.lastRenderedState=g}return h===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Op(r){var s=Vt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,h=o.pending,g=s.memoizedState;if(h!==null){o.pending=null;var T=h=h.next;do g=r(g,T.action),T=T.next;while(T!==h);Bn(g,s.memoizedState)||(tn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function $0(r,s,o){var u=He,h=Vt(),g=at;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var T=!Bn((dt||h).memoizedState,o);if(T&&(h.memoizedState=o,tn=!0),h=h.queue,Mp(Y0.bind(null,u,h,r),[r]),h.getSnapshot!==s||T||kt!==null&&kt.memoizedState.tag&1){if(u.flags|=2048,Vo(9,W0.bind(null,u,h,o,s),{destroy:void 0},null),gt===null)throw Error(i(349));g||ys&60||K0(u,s,o)}return o}function K0(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=He.updateQueue,s===null?(s=xf(),He.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function W0(r,s,o,u){s.value=o,s.getSnapshot=u,Q0(s)&&X0(r)}function Y0(r,s,o){return o(function(){Q0(s)&&X0(r)})}function Q0(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Bn(r,o)}catch{return!0}}function X0(r){var s=ps(r,2);s!==null&&In(s,r,2)}function Np(r){var s=Nn();if(typeof r=="function"){var o=r;if(r=o(),Aa){Lr(!0);try{o()}finally{Lr(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:r},s}function Z0(r,s,o,u){return r.baseState=o,xp(r,dt,typeof u=="function"?u:wi)}function nC(r,s,o,u,h){if(kf(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};C.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,J0(s,g)):(g.next=o.next,s.pending=o.next=g)}}function J0(r,s){var o=s.action,u=s.payload,h=r.state;if(s.isTransition){var g=C.T,T={};C.T=T;try{var w=o(h,u),N=C.S;N!==null&&N(T,w),e_(r,s,w)}catch(H){Pp(r,s,H)}finally{C.T=g}}else try{g=o(h,u),e_(r,s,g)}catch(H){Pp(r,s,H)}}function e_(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){t_(r,s,u)},function(u){return Pp(r,s,u)}):t_(r,s,o)}function t_(r,s,o){s.status="fulfilled",s.value=o,n_(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,J0(r,o)))}function Pp(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,n_(s),s=s.next;while(s!==u)}r.action=null}function n_(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function r_(r,s){return s}function i_(r,s){if(at){var o=gt.formState;if(o!==null){e:{var u=He;if(at){if(cn){t:{for(var h=cn,g=Wr;h.nodeType!==8;){if(!g){h=null;break t}if(h=Ir(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){cn=Ir(h.nextSibling),u=h.data==="F!";break e}}Ta(u)}u=!1}u&&(s=o[0])}}return o=Nn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r_,lastRenderedState:s},o.queue=u,o=T_.bind(null,He,u),u.dispatch=o,u=Np(!1),g=Bp.bind(null,He,!1,u.queue),u=Nn(),h={state:s,dispatch:null,action:r,pending:null},u.queue=h,o=nC.bind(null,He,h,g,o),h.dispatch=o,u.memoizedState=r,[s,o,!1]}function s_(r){var s=Vt();return a_(s,dt,r)}function a_(r,s,o){s=xp(r,s,r_)[0],r=Nf(wi)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?ou(s):s;var u=Vt(),h=u.queue,g=h.dispatch;return o!==u.memoizedState&&(He.flags|=2048,Vo(9,rC.bind(null,h,o),{destroy:void 0},null)),[s,g,r]}function rC(r,s){r.action=s}function o_(r){var s=Vt(),o=dt;if(o!==null)return a_(s,o,r);Vt(),s=s.memoizedState,o=Vt();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function Vo(r,s,o,u){return r={tag:r,create:s,inst:o,deps:u,next:null},s=He.updateQueue,s===null&&(s=xf(),He.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function l_(){return Vt().memoizedState}function Pf(r,s,o,u){var h=Nn();He.flags|=r,h.memoizedState=Vo(1|s,o,{destroy:void 0},u===void 0?null:u)}function Mf(r,s,o,u){var h=Vt();u=u===void 0?null:u;var g=h.memoizedState.inst;dt!==null&&u!==null&&wp(u,dt.memoizedState.deps)?h.memoizedState=Vo(s,o,g,u):(He.flags|=r,h.memoizedState=Vo(1|s,o,g,u))}function u_(r,s){Pf(8390656,8,r,s)}function Mp(r,s){Mf(2048,8,r,s)}function c_(r,s){return Mf(4,2,r,s)}function f_(r,s){return Mf(4,4,r,s)}function d_(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function h_(r,s,o){o=o!=null?o.concat([r]):null,Mf(4,4,d_.bind(null,s,r),o)}function kp(){}function p_(r,s){var o=Vt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&wp(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function m_(r,s){var o=Vt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&wp(s,u[1]))return u[0];if(u=r(),Aa){Lr(!0);try{r()}finally{Lr(!1)}}return o.memoizedState=[u,s],u}function Vp(r,s,o){return o===void 0||ys&1073741824?r.memoizedState=s:(r.memoizedState=o,r=yE(),He.lanes|=r,Cs|=r,o)}function g_(r,s,o,u){return Bn(o,s)?o:Oo.current!==null?(r=Vp(r,o,u),Bn(r,s)||(tn=!0),r):ys&42?(r=yE(),He.lanes|=r,Cs|=r,s):(tn=!0,r.memoizedState=o)}function y_(r,s,o,u,h){var g=ge.p;ge.p=g!==0&&8>g?g:8;var T=C.T,w={};C.T=w,Bp(r,!1,s,o);try{var N=h(),H=C.S;if(H!==null&&H(w,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var ne=JR(N,u);lu(r,s,ne,Hn(r))}else lu(r,s,u,Hn(r))}catch(ae){lu(r,s,{then:function(){},status:"rejected",reason:ae},Hn())}finally{ge.p=g,C.T=T}}function iC(){}function Lp(r,s,o,u){if(r.tag!==5)throw Error(i(476));var h=v_(r).queue;y_(r,h,s,Me,o===null?iC:function(){return __(r),o(u)})}function v_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Me,baseState:Me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:Me},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function __(r){var s=v_(r).next.queue;lu(r,s,{},Hn())}function Up(){return yn(Iu)}function E_(){return Vt().memoizedState}function b_(){return Vt().memoizedState}function sC(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Hn();r=bs(o);var u=Ts(s,r,o);u!==null&&(In(u,s,o),fu(u,s,o)),s={cache:bp()},r.payload=s;return}s=s.return}}function aC(r,s,o){var u=Hn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},kf(r)?S_(s,o):(o=pp(r,s,o,u),o!==null&&(In(o,r,u),w_(o,s,u)))}function T_(r,s,o){var u=Hn();lu(r,s,o,u)}function lu(r,s,o,u){var h={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(kf(r))S_(s,h);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var T=s.lastRenderedState,w=g(T,o);if(h.hasEagerState=!0,h.eagerState=w,Bn(w,T))return vf(r,s,h,0),gt===null&&yf(),!1}catch{}finally{}if(o=pp(r,s,h,u),o!==null)return In(o,r,u),w_(o,s,u),!0}return!1}function Bp(r,s,o,u){if(u={lane:2,revertLane:Im(),action:u,hasEagerState:!1,eagerState:null,next:null},kf(r)){if(s)throw Error(i(479))}else s=pp(r,o,u,2),s!==null&&In(s,r,2)}function kf(r){var s=r.alternate;return r===He||s!==null&&s===He}function S_(r,s){Mo=If=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function w_(r,s,o){if(o&4194176){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,is(r,o)}}var Qr={readContext:yn,use:Of,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt};Qr.useCacheRefresh=Nt,Qr.useMemoCache=Nt,Qr.useHostTransitionStatus=Nt,Qr.useFormState=Nt,Qr.useActionState=Nt,Qr.useOptimistic=Nt;var Ra={readContext:yn,use:Of,useCallback:function(r,s){return Nn().memoizedState=[r,s===void 0?null:s],r},useContext:yn,useEffect:u_,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Pf(4194308,4,d_.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Pf(4194308,4,r,s)},useInsertionEffect:function(r,s){Pf(4,2,r,s)},useMemo:function(r,s){var o=Nn();s=s===void 0?null:s;var u=r();if(Aa){Lr(!0);try{r()}finally{Lr(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=Nn();if(o!==void 0){var h=o(s);if(Aa){Lr(!0);try{o(s)}finally{Lr(!1)}}}else h=s;return u.memoizedState=u.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},u.queue=r,r=r.dispatch=aC.bind(null,He,r),[u.memoizedState,r]},useRef:function(r){var s=Nn();return r={current:r},s.memoizedState=r},useState:function(r){r=Np(r);var s=r.queue,o=T_.bind(null,He,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:kp,useDeferredValue:function(r,s){var o=Nn();return Vp(o,r,s)},useTransition:function(){var r=Np(!1);return r=y_.bind(null,He,r.queue,!0,!1),Nn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=He,h=Nn();if(at){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),gt===null)throw Error(i(349));nt&60||K0(u,s,o)}h.memoizedState=o;var g={value:o,getSnapshot:s};return h.queue=g,u_(Y0.bind(null,u,g,r),[r]),u.flags|=2048,Vo(9,W0.bind(null,u,g,o,s),{destroy:void 0},null),o},useId:function(){var r=Nn(),s=gt.identifierPrefix;if(at){var o=Ti,u=bi;o=(u&~(1<<32-wn(u)-1)).toString(32)+o,s=":"+s+"R"+o,o=Df++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=eC++,s=":"+s+"r"+o.toString(32)+":";return r.memoizedState=s},useCacheRefresh:function(){return Nn().memoizedState=sC.bind(null,He)}};Ra.useMemoCache=Dp,Ra.useHostTransitionStatus=Up,Ra.useFormState=i_,Ra.useActionState=i_,Ra.useOptimistic=function(r){var s=Nn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Bp.bind(null,He,!0,o),o.dispatch=s,[r,s]};var vs={readContext:yn,use:Of,useCallback:p_,useContext:yn,useEffect:Mp,useImperativeHandle:h_,useInsertionEffect:c_,useLayoutEffect:f_,useMemo:m_,useReducer:Nf,useRef:l_,useState:function(){return Nf(wi)},useDebugValue:kp,useDeferredValue:function(r,s){var o=Vt();return g_(o,dt.memoizedState,r,s)},useTransition:function(){var r=Nf(wi)[0],s=Vt().memoizedState;return[typeof r=="boolean"?r:ou(r),s]},useSyncExternalStore:$0,useId:E_};vs.useCacheRefresh=b_,vs.useMemoCache=Dp,vs.useHostTransitionStatus=Up,vs.useFormState=s_,vs.useActionState=s_,vs.useOptimistic=function(r,s){var o=Vt();return Z0(o,dt,r,s)};var Ca={readContext:yn,use:Of,useCallback:p_,useContext:yn,useEffect:Mp,useImperativeHandle:h_,useInsertionEffect:c_,useLayoutEffect:f_,useMemo:m_,useReducer:Op,useRef:l_,useState:function(){return Op(wi)},useDebugValue:kp,useDeferredValue:function(r,s){var o=Vt();return dt===null?Vp(o,r,s):g_(o,dt.memoizedState,r,s)},useTransition:function(){var r=Op(wi)[0],s=Vt().memoizedState;return[typeof r=="boolean"?r:ou(r),s]},useSyncExternalStore:$0,useId:E_};Ca.useCacheRefresh=b_,Ca.useMemoCache=Dp,Ca.useHostTransitionStatus=Up,Ca.useFormState=o_,Ca.useActionState=o_,Ca.useOptimistic=function(r,s){var o=Vt();return dt!==null?Z0(o,dt,r,s):(o.baseState=r,[r,o.queue.dispatch])};function zp(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:x({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var jp={isMounted:function(r){return(r=r._reactInternals)?ve(r)===r:!1},enqueueSetState:function(r,s,o){r=r._reactInternals;var u=Hn(),h=bs(u);h.payload=s,o!=null&&(h.callback=o),s=Ts(r,h,u),s!==null&&(In(s,r,u),fu(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=Hn(),h=bs(u);h.tag=1,h.payload=s,o!=null&&(h.callback=o),s=Ts(r,h,u),s!==null&&(In(s,r,u),fu(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Hn(),u=bs(o);u.tag=2,s!=null&&(u.callback=s),s=Ts(r,u,o),s!==null&&(In(s,r,o),fu(s,r,o))}};function A_(r,s,o,u,h,g,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,T):s.prototype&&s.prototype.isPureReactComponent?!Yl(o,u)||!Yl(h,g):!0}function R_(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&jp.enqueueReplaceState(s,s.state,null)}function Ia(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=x({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}var Vf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function C_(r){Vf(r)}function I_(r){console.error(r)}function D_(r){Vf(r)}function Lf(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function x_(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Fp(r,s,o){return o=bs(o),o.tag=3,o.payload={element:null},o.callback=function(){Lf(r,s)},o}function O_(r){return r=bs(r),r.tag=3,r}function N_(r,s,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var g=u.value;r.payload=function(){return h(g)},r.callback=function(){x_(s,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){x_(s,o,u),typeof h!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function oC(r,s,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&cu(s,o,h,!0),o=ar.current,o!==null){switch(o.tag){case 13:return Yr===null?Sm():o.alternate===null&&Ct===0&&(Ct=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===vp?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Am(r,u,h)),!1;case 22:return o.flags|=65536,u===vp?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Am(r,u,h)),!1}throw Error(i(435,o.tag))}return Am(r,u,h),Sm(),!1}if(at)return s=ar.current,s!==null?(!(s.flags&65536)&&(s.flags|=256),s.flags|=65536,s.lanes=h,u!==yp&&(r=Error(i(422),{cause:u}),Jl(rr(r,o)))):(u!==yp&&(s=Error(i(423),{cause:u}),Jl(rr(s,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,u=rr(u,o),h=Fp(r.stateNode,u,h),rm(r,h),Ct!==4&&(Ct=2)),!1;var g=Error(i(520),{cause:u});if(g=rr(g,o),_u===null?_u=[g]:_u.push(g),Ct!==4&&(Ct=2),s===null)return!0;u=rr(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=Fp(o.stateNode,u,r),rm(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Is===null||!Is.has(g))))return o.flags|=65536,h&=-h,o.lanes|=h,h=O_(h),N_(h,r,o,u),rm(o,h),!1}o=o.return}while(o!==null);return!1}var P_=Error(i(461)),tn=!1;function fn(r,s,o,u){s.child=r===null?U0(s,null,o,u):Sa(s,r.child,o,u)}function M_(r,s,o,u,h){o=o.render;var g=s.ref;if("ref"in u){var T={};for(var w in u)w!=="ref"&&(T[w]=u[w])}else T=u;return xa(s),u=Ap(r,s,o,T,g,h),w=Rp(),r!==null&&!tn?(Cp(r,s,h),Ai(r,s,h)):(at&&w&&mp(s),s.flags|=1,fn(r,s,u,h),s.child)}function k_(r,s,o,u,h){if(r===null){var g=o.type;return typeof g=="function"&&!fm(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,V_(r,s,g,u,h)):(r=Ff(o.type,null,u,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!Xp(r,h)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:Yl,o(T,u)&&r.ref===s.ref)return Ai(r,s,h)}return s.flags|=1,r=Rs(g,u),r.ref=s.ref,r.return=s,s.child=r}function V_(r,s,o,u,h){if(r!==null){var g=r.memoizedProps;if(Yl(g,u)&&r.ref===s.ref)if(tn=!1,s.pendingProps=u=g,Xp(r,h))r.flags&131072&&(tn=!0);else return s.lanes=r.lanes,Ai(r,s,h)}return Hp(r,s,o,u,h)}function L_(r,s,o){var u=s.pendingProps,h=u.children,g=(s.stateNode._pendingVisibility&2)!==0,T=r!==null?r.memoizedState:null;if(uu(r,s),u.mode==="hidden"||g){if(s.flags&128){if(u=T!==null?T.baseLanes|o:o,r!==null){for(h=s.child=r.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return U_(r,s,u,o)}if(o&536870912)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Cf(s,T!==null?T.cachePool:null),T!==null?B0(s,T):_p(),z0(s);else return s.lanes=s.childLanes=536870912,U_(r,s,T!==null?T.baseLanes|o:o,o)}else T!==null?(Cf(s,T.cachePool),B0(s,T),gs(),s.memoizedState=null):(r!==null&&Cf(s,null),_p(),gs());return fn(r,s,h,o),s.child}function U_(r,s,o,u){var h=Sp();return h=h===null?null:{parent:Gt._currentValue,pool:h},s.memoizedState={baseLanes:o,cachePool:h},r!==null&&Cf(s,null),_p(),z0(s),r!==null&&cu(r,s,u,!0),null}function uu(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=2097664)}}function Hp(r,s,o,u,h){return xa(s),o=Ap(r,s,o,u,void 0,h),u=Rp(),r!==null&&!tn?(Cp(r,s,h),Ai(r,s,h)):(at&&u&&mp(s),s.flags|=1,fn(r,s,o,h),s.child)}function B_(r,s,o,u,h,g){return xa(s),s.updateQueue=null,o=G0(s,u,o,h),q0(r),u=Rp(),r!==null&&!tn?(Cp(r,s,g),Ai(r,s,g)):(at&&u&&mp(s),s.flags|=1,fn(r,s,o,g),s.child)}function z_(r,s,o,u,h){if(xa(s),s.stateNode===null){var g=Co,T=o.contextType;typeof T=="object"&&T!==null&&(g=yn(T)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=jp,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},tm(s),T=o.contextType,g.context=typeof T=="object"&&T!==null?yn(T):Co,g.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(zp(s,o,T,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&jp.enqueueReplaceState(g,g.state,null),hu(s,u,g,h),du(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){g=s.stateNode;var w=s.memoizedProps,N=Ia(o,w);g.props=N;var H=g.context,ne=o.contextType;T=Co,typeof ne=="object"&&ne!==null&&(T=yn(ne));var ae=o.getDerivedStateFromProps;ne=typeof ae=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,ne||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||H!==T)&&R_(s,g,u,T),Es=!1;var Q=s.memoizedState;g.state=Q,hu(s,u,g,h),du(),H=s.memoizedState,w||Q!==H||Es?(typeof ae=="function"&&(zp(s,o,ae,u),H=s.memoizedState),(N=Es||A_(s,o,N,u,Q,H,T))?(ne||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=H),g.props=u,g.state=H,g.context=T,u=N):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,nm(r,s),T=s.memoizedProps,ne=Ia(o,T),g.props=ne,ae=s.pendingProps,Q=g.context,H=o.contextType,N=Co,typeof H=="object"&&H!==null&&(N=yn(H)),w=o.getDerivedStateFromProps,(H=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==ae||Q!==N)&&R_(s,g,u,N),Es=!1,Q=s.memoizedState,g.state=Q,hu(s,u,g,h),du();var te=s.memoizedState;T!==ae||Q!==te||Es||r!==null&&r.dependencies!==null&&Uf(r.dependencies)?(typeof w=="function"&&(zp(s,o,w,u),te=s.memoizedState),(ne=Es||A_(s,o,ne,u,Q,te,N)||r!==null&&r.dependencies!==null&&Uf(r.dependencies))?(H||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,te,N),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,te,N)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=te),g.props=u,g.state=te,g.context=N,u=ne):(typeof g.componentDidUpdate!="function"||T===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),u=!1)}return g=u,uu(r,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&u?(s.child=Sa(s,r.child,null,h),s.child=Sa(s,null,o,h)):fn(r,s,o,h),s.memoizedState=g.state,r=s.child):r=Ai(r,s,h),r}function j_(r,s,o,u){return Zl(),s.flags|=256,fn(r,s,o,u),s.child}var qp={dehydrated:null,treeContext:null,retryLane:0};function Gp(r){return{baseLanes:r,cachePool:H0()}}function $p(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=cr),r}function F_(r,s,o){var u=s.pendingProps,h=!1,g=(s.flags&128)!==0,T;if((T=g)||(T=r!==null&&r.memoizedState===null?!1:(qt.current&2)!==0),T&&(h=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,r===null){if(at){if(h?ms(s):gs(),at){var w=cn,N;if(N=w){e:{for(N=w,w=Wr;N.nodeType!==8;){if(!w){w=null;break e}if(N=Ir(N.nextSibling),N===null){w=null;break e}}w=N}w!==null?(s.memoizedState={dehydrated:w,treeContext:Ea!==null?{id:bi,overflow:Ti}:null,retryLane:536870912},N=ur(18,null,null,0),N.stateNode=w,N.return=s,s.child=N,Cn=s,cn=null,N=!0):N=!1}N||Ta(s)}if(w=s.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return w.data==="$!"?s.lanes=16:s.lanes=536870912,null;Si(s)}return w=u.children,u=u.fallback,h?(gs(),h=s.mode,w=Wp({mode:"hidden",children:w},h),u=Na(u,h,o,null),w.return=s,u.return=s,w.sibling=u,s.child=w,h=s.child,h.memoizedState=Gp(o),h.childLanes=$p(r,T,o),s.memoizedState=qp,u):(ms(s),Kp(s,w))}if(N=r.memoizedState,N!==null&&(w=N.dehydrated,w!==null)){if(g)s.flags&256?(ms(s),s.flags&=-257,s=Yp(r,s,o)):s.memoizedState!==null?(gs(),s.child=r.child,s.flags|=128,s=null):(gs(),h=u.fallback,w=s.mode,u=Wp({mode:"visible",children:u.children},w),h=Na(h,w,o,null),h.flags|=2,u.return=s,h.return=s,u.sibling=h,s.child=u,Sa(s,r.child,null,o),u=s.child,u.memoizedState=Gp(o),u.childLanes=$p(r,T,o),s.memoizedState=qp,s=h);else if(ms(s),w.data==="$!"){if(T=w.nextSibling&&w.nextSibling.dataset,T)var H=T.dgst;T=H,u=Error(i(419)),u.stack="",u.digest=T,Jl({value:u,source:null,stack:null}),s=Yp(r,s,o)}else if(tn||cu(r,s,o,!1),T=(o&r.childLanes)!==0,tn||T){if(T=gt,T!==null){if(u=o&-o,u&42)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=u&(T.suspendedLanes|o)?0:u,u!==0&&u!==N.retryLane)throw N.retryLane=u,ps(r,u),In(T,r,u),P_}w.data==="$?"||Sm(),s=Yp(r,s,o)}else w.data==="$?"?(s.flags|=128,s.child=r.child,s=TC.bind(null,r),w._reactRetry=s,s=null):(r=N.treeContext,cn=Ir(w.nextSibling),Cn=s,at=!0,Rr=null,Wr=!1,r!==null&&(ir[sr++]=bi,ir[sr++]=Ti,ir[sr++]=Ea,bi=r.id,Ti=r.overflow,Ea=s),s=Kp(s,u.children),s.flags|=4096);return s}return h?(gs(),h=u.fallback,w=s.mode,N=r.child,H=N.sibling,u=Rs(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&31457280,H!==null?h=Rs(H,h):(h=Na(h,w,o,null),h.flags|=2),h.return=s,u.return=s,u.sibling=h,s.child=u,u=h,h=s.child,w=r.child.memoizedState,w===null?w=Gp(o):(N=w.cachePool,N!==null?(H=Gt._currentValue,N=N.parent!==H?{parent:H,pool:H}:N):N=H0(),w={baseLanes:w.baseLanes|o,cachePool:N}),h.memoizedState=w,h.childLanes=$p(r,T,o),s.memoizedState=qp,u):(ms(s),o=r.child,r=o.sibling,o=Rs(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(T=s.deletions,T===null?(s.deletions=[r],s.flags|=16):T.push(r)),s.child=o,s.memoizedState=null,o)}function Kp(r,s){return s=Wp({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Wp(r,s){return pE(r,s,0,null)}function Yp(r,s,o){return Sa(s,r.child,null,o),r=Kp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function H_(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),Jp(r.return,s,o)}function Qp(r,s,o,u,h){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=h)}function q_(r,s,o){var u=s.pendingProps,h=u.revealOrder,g=u.tail;if(fn(r,s,u.children,o),u=qt.current,u&2)u=u&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&H_(r,o,s);else if(r.tag===19)H_(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(Xe(qt,u),h){case"forwards":for(o=s.child,h=null;o!==null;)r=o.alternate,r!==null&&Rf(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=s.child,s.child=null):(h=o.sibling,o.sibling=null),Qp(s,!1,h,o,g);break;case"backwards":for(o=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&Rf(r)===null){s.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}Qp(s,!0,o,null,g);break;case"together":Qp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ai(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Cs|=s.lanes,!(o&s.childLanes))if(r!==null){if(cu(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Rs(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Rs(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Xp(r,s){return r.lanes&s?!0:(r=r.dependencies,!!(r!==null&&Uf(r)))}function lC(r,s,o){switch(s.tag){case 3:ui(s,s.stateNode.containerInfo),_s(s,Gt,r.memoizedState.cache),Zl();break;case 27:case 5:ao(s);break;case 4:ui(s,s.stateNode.containerInfo);break;case 10:_s(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ms(s),s.flags|=128,null):o&s.child.childLanes?F_(r,s,o):(ms(s),r=Ai(r,s,o),r!==null?r.sibling:null);ms(s);break;case 19:var h=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(cu(r,s,o,!1),u=(o&s.childLanes)!==0),h){if(u)return q_(r,s,o);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Xe(qt,qt.current),u)break;return null;case 22:case 23:return s.lanes=0,L_(r,s,o);case 24:_s(s,Gt,r.memoizedState.cache)}return Ai(r,s,o)}function G_(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)tn=!0;else{if(!Xp(r,o)&&!(s.flags&128))return tn=!1,lC(r,s,o);tn=!!(r.flags&131072)}else tn=!1,at&&s.flags&1048576&&D0(s,bf,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,h=u._init;if(u=h(u._payload),s.type=u,typeof u=="function")fm(u)?(r=Ia(u,r),s.tag=1,s=z_(null,s,u,r,o)):(s.tag=0,s=Hp(null,s,u,r,o));else{if(u!=null){if(h=u.$$typeof,h===R){s.tag=11,s=M_(null,s,u,r,o);break e}else if(h===z){s.tag=14,s=k_(null,s,u,r,o);break e}}throw s=I(u)||u,Error(i(306,s,""))}}return s;case 0:return Hp(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,h=Ia(u,s.pendingProps),z_(r,s,u,h,o);case 3:e:{if(ui(s,s.stateNode.containerInfo),r===null)throw Error(i(387));var g=s.pendingProps;h=s.memoizedState,u=h.element,nm(r,s),hu(s,g,null,o);var T=s.memoizedState;if(g=T.cache,_s(s,Gt,g),g!==h.cache&&em(s,[Gt],o,!0),du(),g=T.element,h.isDehydrated)if(h={element:g,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=h,s.memoizedState=h,s.flags&256){s=j_(r,s,g,o);break e}else if(g!==u){u=rr(Error(i(424)),s),Jl(u),s=j_(r,s,g,o);break e}else for(cn=Ir(s.stateNode.containerInfo.firstChild),Cn=s,at=!0,Rr=null,Wr=!0,o=U0(s,null,g,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Zl(),g===u){s=Ai(r,s,o);break e}fn(r,s,g,o)}s=s.child}return s;case 26:return uu(r,s),r===null?(o=WE(s.type,null,s.pendingProps,null))?s.memoizedState=o:at||(o=s.type,r=s.pendingProps,u=ed(xt.current).createElement(o),u[Zt]=s,u[jt]=r,dn(u,o,r),bt(u),s.stateNode=u):s.memoizedState=WE(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return ao(s),r===null&&at&&(u=s.stateNode=GE(s.type,s.pendingProps,xt.current),Cn=s,Wr=!0,cn=Ir(u.firstChild)),u=s.pendingProps.children,r!==null||at?fn(r,s,u,o):s.child=Sa(s,null,u,o),uu(r,s),s.child;case 5:return r===null&&at&&((h=u=cn)&&(u=UC(u,s.type,s.pendingProps,Wr),u!==null?(s.stateNode=u,Cn=s,cn=Ir(u.firstChild),Wr=!1,h=!0):h=!1),h||Ta(s)),ao(s),h=s.type,g=s.pendingProps,T=r!==null?r.memoizedProps:null,u=g.children,Lm(h,g)?u=null:T!==null&&Lm(h,T)&&(s.flags|=32),s.memoizedState!==null&&(h=Ap(r,s,tC,null,null,o),Iu._currentValue=h),uu(r,s),fn(r,s,u,o),s.child;case 6:return r===null&&at&&((r=o=cn)&&(o=BC(o,s.pendingProps,Wr),o!==null?(s.stateNode=o,Cn=s,cn=null,r=!0):r=!1),r||Ta(s)),null;case 13:return F_(r,s,o);case 4:return ui(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=Sa(s,null,u,o):fn(r,s,u,o),s.child;case 11:return M_(r,s,s.type,s.pendingProps,o);case 7:return fn(r,s,s.pendingProps,o),s.child;case 8:return fn(r,s,s.pendingProps.children,o),s.child;case 12:return fn(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,_s(s,s.type,u.value),fn(r,s,u.children,o),s.child;case 9:return h=s.type._context,u=s.pendingProps.children,xa(s),h=yn(h),u=u(h),s.flags|=1,fn(r,s,u,o),s.child;case 14:return k_(r,s,s.type,s.pendingProps,o);case 15:return V_(r,s,s.type,s.pendingProps,o);case 19:return q_(r,s,o);case 22:return L_(r,s,o);case 24:return xa(s),u=yn(Gt),r===null?(h=Sp(),h===null&&(h=gt,g=bp(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=o),h=g),s.memoizedState={parent:u,cache:h},tm(s),_s(s,Gt,h)):(r.lanes&o&&(nm(r,s),hu(s,null,null,o),du()),h=r.memoizedState,g=s.memoizedState,h.parent!==u?(h={parent:u,cache:u},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),_s(s,Gt,u)):(u=g.cache,_s(s,Gt,u),u!==h.cache&&em(s,[Gt],o,!0))),fn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}var Zp=qe(null),Da=null,Ri=null;function _s(r,s,o){Xe(Zp,s._currentValue),s._currentValue=o}function Ci(r){r._currentValue=Zp.current,lt(Zp)}function Jp(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function em(r,s,o,u){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var g=h.dependencies;if(g!==null){var T=h.child;g=g.firstContext;e:for(;g!==null;){var w=g;g=h;for(var N=0;N<s.length;N++)if(w.context===s[N]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),Jp(g.return,o,r),u||(T=null);break e}g=w.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(i(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),Jp(T,o,r),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===r){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function cu(r,s,o,u){r=null;for(var h=s,g=!1;h!==null;){if(!g){if(h.flags&524288)g=!0;else if(h.flags&262144)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var w=h.type;Bn(h.pendingProps.value,T.value)||(r!==null?r.push(w):r=[w])}}else if(h===br.current){if(T=h.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(Iu):r=[Iu])}h=h.return}r!==null&&em(s,r,o,u),s.flags|=262144}function Uf(r){for(r=r.firstContext;r!==null;){if(!Bn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function xa(r){Da=r,Ri=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function yn(r){return $_(Da,r)}function Bf(r,s){return Da===null&&xa(r),$_(r,s)}function $_(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ri===null){if(r===null)throw Error(i(308));Ri=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ri=Ri.next=s;return o}var Es=!1;function tm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function bs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ts(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,St&2){var h=u.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),u.pending=s,s=_f(r),C0(r,null,o),s}return vf(r,u,s,o),_f(r)}function fu(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,is(r,o)}}function rm(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?h=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?h=g=s:g=g.next=s}else h=g=s;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var im=!1;function du(){if(im){var r=Po;if(r!==null)throw r}}function hu(r,s,o,u){im=!1;var h=r.updateQueue;Es=!1;var g=h.firstBaseUpdate,T=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var N=w,H=N.next;N.next=null,T===null?g=H:T.next=H,T=N;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,w=ne.lastBaseUpdate,w!==T&&(w===null?ne.firstBaseUpdate=H:w.next=H,ne.lastBaseUpdate=N))}if(g!==null){var ae=h.baseState;T=0,ne=H=N=null,w=g;do{var Q=w.lane&-536870913,te=Q!==w.lane;if(te?(nt&Q)===Q:(u&Q)===Q){Q!==0&&Q===No&&(im=!0),ne!==null&&(ne=ne.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var we=r,Ve=w;Q=s;var It=o;switch(Ve.tag){case 1:if(we=Ve.payload,typeof we=="function"){ae=we.call(It,ae,Q);break e}ae=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Ve.payload,Q=typeof we=="function"?we.call(It,ae,Q):we,Q==null)break e;ae=x({},ae,Q);break e;case 2:Es=!0}}Q=w.callback,Q!==null&&(r.flags|=64,te&&(r.flags|=8192),te=h.callbacks,te===null?h.callbacks=[Q]:te.push(Q))}else te={lane:Q,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ne===null?(H=ne=te,N=ae):ne=ne.next=te,T|=Q;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;te=w,w=te.next,te.next=null,h.lastBaseUpdate=te,h.shared.pending=null}}while(!0);ne===null&&(N=ae),h.baseState=N,h.firstBaseUpdate=H,h.lastBaseUpdate=ne,g===null&&(h.shared.lanes=0),Cs|=T,r.lanes=T,r.memoizedState=ae}}function K_(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function W_(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)K_(o[r],s)}function pu(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&r)===r){u=void 0;var g=o.create,T=o.inst;u=g(),T.destroy=u}o=o.next}while(o!==h)}}catch(w){pt(s,s.return,w)}}function Ss(r,s,o){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var g=h.next;u=g;do{if((u.tag&r)===r){var T=u.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,h=s;var N=o;try{w()}catch(H){pt(h,N,H)}}}u=u.next}while(u!==g)}}catch(H){pt(s,s.return,H)}}function Y_(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{W_(s,o)}catch(u){pt(r,r.return,u)}}}function Q_(r,s,o){o.props=Ia(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){pt(r,s,u)}}function Oa(r,s){try{var o=r.ref;if(o!==null){var u=r.stateNode;switch(r.tag){case 26:case 27:case 5:var h=u;break;default:h=u}typeof o=="function"?r.refCleanup=o(h):o.current=h}}catch(g){pt(r,s,g)}}function zn(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){pt(r,s,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){pt(r,s,h)}else o.current=null}function X_(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){pt(r,r.return,h)}}function Z_(r,s,o){try{var u=r.stateNode;PC(u,r.type,o,s),u[jt]=s}catch(h){pt(r,r.return,h)}}function J_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function sm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||J_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function am(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(r,s):o.insertBefore(r,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(r,o)):(s=o,s.appendChild(r)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Jf));else if(u!==4&&u!==27&&(r=r.child,r!==null))for(am(r,s,o),r=r.sibling;r!==null;)am(r,s,o),r=r.sibling}function zf(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&u!==27&&(r=r.child,r!==null))for(zf(r,s,o),r=r.sibling;r!==null;)zf(r,s,o),r=r.sibling}var Ii=!1,Rt=!1,om=!1,eE=typeof WeakSet=="function"?WeakSet:Set,nn=null,tE=!1;function uC(r,s){if(r=r.containerInfo,km=ad,r=v0(r),up(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,w=-1,N=-1,H=0,ne=0,ae=r,Q=null;t:for(;;){for(var te;ae!==o||h!==0&&ae.nodeType!==3||(w=T+h),ae!==g||u!==0&&ae.nodeType!==3||(N=T+u),ae.nodeType===3&&(T+=ae.nodeValue.length),(te=ae.firstChild)!==null;)Q=ae,ae=te;for(;;){if(ae===r)break t;if(Q===o&&++H===h&&(w=T),Q===g&&++ne===u&&(N=T),(te=ae.nextSibling)!==null)break;ae=Q,Q=ae.parentNode}ae=te}o=w===-1||N===-1?null:{start:w,end:N}}else o=null}o=o||{start:0,end:0}}else o=null;for(Vm={focusedElem:r,selectionRange:o},ad=!1,nn=s;nn!==null;)if(s=nn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,nn=r;else for(;nn!==null;){switch(s=nn,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if(r&1024&&g!==null){r=void 0,o=s,h=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var we=Ia(o.type,h,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(we,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(Ve){pt(o,o.return,Ve)}}break;case 3:if(r&1024){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)zm(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":zm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(r&1024)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,nn=r;break}nn=s.return}return we=tE,tE=!1,we}function nE(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:xi(r,o),u&4&&pu(5,o);break;case 1:if(xi(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(w){pt(o,o.return,w)}else{var h=Ia(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(h,s,r.__reactInternalSnapshotBeforeUpdate)}catch(w){pt(o,o.return,w)}}u&64&&Y_(o),u&512&&Oa(o,o.return);break;case 3:if(xi(r,o),u&64&&(u=o.updateQueue,u!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{W_(u,r)}catch(w){pt(o,o.return,w)}}break;case 26:xi(r,o),u&512&&Oa(o,o.return);break;case 27:case 5:xi(r,o),s===null&&u&4&&X_(o),u&512&&Oa(o,o.return);break;case 12:xi(r,o);break;case 13:xi(r,o),u&4&&sE(r,o);break;case 22:if(h=o.memoizedState!==null||Ii,!h){s=s!==null&&s.memoizedState!==null||Rt;var g=Ii,T=Rt;Ii=h,(Rt=s)&&!T?ws(r,o,(o.subtreeFlags&8772)!==0):xi(r,o),Ii=g,Rt=T}u&512&&(o.memoizedProps.mode==="manual"?Oa(o,o.return):zn(o,o.return));break;default:xi(r,o)}}function rE(r){var s=r.alternate;s!==null&&(r.alternate=null,rE(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&oa(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Lt=null,jn=!1;function Di(r,s,o){for(o=o.child;o!==null;)iE(r,s,o),o=o.sibling}function iE(r,s,o){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Tr,o)}catch{}switch(o.tag){case 26:Rt||zn(o,s),Di(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Rt||zn(o,s);var u=Lt,h=jn;for(Lt=o.stateNode,Di(r,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);oa(o),Lt=u,jn=h;break;case 5:Rt||zn(o,s);case 6:h=Lt;var g=jn;if(Lt=null,Di(r,s,o),Lt=h,jn=g,Lt!==null)if(jn)try{r=Lt,u=o.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)}catch(T){pt(o,s,T)}else try{Lt.removeChild(o.stateNode)}catch(T){pt(o,s,T)}break;case 18:Lt!==null&&(jn?(s=Lt,o=o.stateNode,s.nodeType===8?Bm(s.parentNode,o):s.nodeType===1&&Bm(s,o),Nu(s)):Bm(Lt,o.stateNode));break;case 4:u=Lt,h=jn,Lt=o.stateNode.containerInfo,jn=!0,Di(r,s,o),Lt=u,jn=h;break;case 0:case 11:case 14:case 15:Rt||Ss(2,o,s),Rt||Ss(4,o,s),Di(r,s,o);break;case 1:Rt||(zn(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Q_(o,s,u)),Di(r,s,o);break;case 21:Di(r,s,o);break;case 22:Rt||zn(o,s),Rt=(u=Rt)||o.memoizedState!==null,Di(r,s,o),Rt=u;break;default:Di(r,s,o)}}function sE(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Nu(r)}catch(o){pt(s,s.return,o)}}function cC(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new eE),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new eE),s;default:throw Error(i(435,r.tag))}}function lm(r,s){var o=cC(r);s.forEach(function(u){var h=SC.bind(null,r,u);o.has(u)||(o.add(u),u.then(h,h))})}function or(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],g=r,T=s,w=T;e:for(;w!==null;){switch(w.tag){case 27:case 5:Lt=w.stateNode,jn=!1;break e;case 3:Lt=w.stateNode.containerInfo,jn=!0;break e;case 4:Lt=w.stateNode.containerInfo,jn=!0;break e}w=w.return}if(Lt===null)throw Error(i(160));iE(g,T,h),Lt=null,jn=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)aE(s,r),s=s.sibling}var Cr=null;function aE(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:or(s,r),lr(r),u&4&&(Ss(3,r,r.return),pu(3,r),Ss(5,r,r.return));break;case 1:or(s,r),lr(r),u&512&&(Rt||o===null||zn(o,o.return)),u&64&&Ii&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=Cr;if(or(s,r),lr(r),u&512&&(Rt||o===null||zn(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":g=h.getElementsByTagName("title")[0],(!g||g[as]||g[Zt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(u),h.head.insertBefore(g,h.querySelector("head > title"))),dn(g,u,o),g[Zt]=r,bt(g),u=g;break e;case"link":var T=XE("link","href",h).get(u+(o.href||""));if(T){for(var w=0;w<T.length;w++)if(g=T[w],g.getAttribute("href")===(o.href==null?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(w,1);break t}}g=h.createElement(u),dn(g,u,o),h.head.appendChild(g);break;case"meta":if(T=XE("meta","content",h).get(u+(o.content||""))){for(w=0;w<T.length;w++)if(g=T[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(w,1);break t}}g=h.createElement(u),dn(g,u,o),h.head.appendChild(g);break;default:throw Error(i(468,u))}g[Zt]=r,bt(g),u=g}r.stateNode=u}else ZE(h,r.type,r.stateNode);else r.stateNode=QE(h,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?ZE(h,r.type,r.stateNode):QE(h,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Z_(r,r.memoizedProps,o.memoizedProps)}break;case 27:if(u&4&&r.alternate===null){h=r.stateNode,g=r.memoizedProps;try{for(var N=h.firstChild;N;){var H=N.nextSibling,ne=N.nodeName;N[as]||ne==="HEAD"||ne==="BODY"||ne==="SCRIPT"||ne==="STYLE"||ne==="LINK"&&N.rel.toLowerCase()==="stylesheet"||h.removeChild(N),N=H}for(var ae=r.type,Q=h.attributes;Q.length;)h.removeAttributeNode(Q[0]);dn(h,ae,g),h[Zt]=r,h[jt]=g}catch(we){pt(r,r.return,we)}}case 5:if(or(s,r),lr(r),u&512&&(Rt||o===null||zn(o,o.return)),r.flags&32){h=r.stateNode;try{Zn(h,"")}catch(we){pt(r,r.return,we)}}u&4&&r.stateNode!=null&&(h=r.memoizedProps,Z_(r,h,o!==null?o.memoizedProps:h)),u&1024&&(om=!0);break;case 6:if(or(s,r),lr(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(we){pt(r,r.return,we)}}break;case 3:if(rd=null,h=Cr,Cr=td(s.containerInfo),or(s,r),Cr=h,lr(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Nu(s.containerInfo)}catch(we){pt(r,r.return,we)}om&&(om=!1,oE(r));break;case 4:u=Cr,Cr=td(r.stateNode.containerInfo),or(s,r),lr(r),Cr=u;break;case 12:or(s,r),lr(r);break;case 13:or(s,r),lr(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ym=_e()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,lm(r,u)));break;case 22:if(u&512&&(Rt||o===null||zn(o,o.return)),N=r.memoizedState!==null,H=o!==null&&o.memoizedState!==null,ne=Ii,ae=Rt,Ii=ne||N,Rt=ae||H,or(s,r),Rt=ae,Ii=ne,lr(r),s=r.stateNode,s._current=r,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,u&8192&&(s._visibility=N?s._visibility&-2:s._visibility|1,N&&(s=Ii||Rt,o===null||H||s||Lo(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(o=null,s=r;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){H=o=s;try{if(h=H.stateNode,N)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=H.stateNode,w=H.memoizedProps.style;var te=w!=null&&w.hasOwnProperty("display")?w.display:null;T.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(we){pt(H,H.return,we)}}}else if(s.tag===6){if(o===null){H=s;try{H.stateNode.nodeValue=N?"":H.memoizedProps}catch(we){pt(H,H.return,we)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,lm(r,o))));break;case 19:or(s,r),lr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,lm(r,u)));break;case 21:break;default:or(s,r),lr(r)}}function lr(r){var s=r.flags;if(s&2){try{if(r.tag!==27){e:{for(var o=r.return;o!==null;){if(J_(o)){var u=o;break e}o=o.return}throw Error(i(160))}switch(u.tag){case 27:var h=u.stateNode,g=sm(r);zf(r,g,h);break;case 5:var T=u.stateNode;u.flags&32&&(Zn(T,""),u.flags&=-33);var w=sm(r);zf(r,w,T);break;case 3:case 4:var N=u.stateNode.containerInfo,H=sm(r);am(r,H,N);break;default:throw Error(i(161))}}}catch(ne){pt(r,r.return,ne)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function oE(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;oE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function xi(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)nE(r,s.alternate,s),s=s.sibling}function Lo(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Ss(4,s,s.return),Lo(s);break;case 1:zn(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Q_(s,s.return,o),Lo(s);break;case 26:case 27:case 5:zn(s,s.return),Lo(s);break;case 22:zn(s,s.return),s.memoizedState===null&&Lo(s);break;default:Lo(s)}r=r.sibling}}function ws(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,h=r,g=s,T=g.flags;switch(g.tag){case 0:case 11:case 15:ws(h,g,o),pu(4,g);break;case 1:if(ws(h,g,o),u=g,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){pt(u,u.return,H)}if(u=g,h=u.updateQueue,h!==null){var w=u.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)K_(N[h],w)}catch(H){pt(u,u.return,H)}}o&&T&64&&Y_(g),Oa(g,g.return);break;case 26:case 27:case 5:ws(h,g,o),o&&u===null&&T&4&&X_(g),Oa(g,g.return);break;case 12:ws(h,g,o);break;case 13:ws(h,g,o),o&&T&4&&sE(h,g);break;case 22:g.memoizedState===null&&ws(h,g,o),Oa(g,g.return);break;default:ws(h,g,o)}s=s.sibling}}function um(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&iu(o))}function cm(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&iu(r))}function As(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)lE(r,s,o,u),s=s.sibling}function lE(r,s,o,u){var h=s.flags;switch(s.tag){case 0:case 11:case 15:As(r,s,o,u),h&2048&&pu(9,s);break;case 3:As(r,s,o,u),h&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&iu(r)));break;case 12:if(h&2048){As(r,s,o,u),r=s.stateNode;try{var g=s.memoizedProps,T=g.id,w=g.onPostCommit;typeof w=="function"&&w(T,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(N){pt(s,s.return,N)}}else As(r,s,o,u);break;case 23:break;case 22:g=s.stateNode,s.memoizedState!==null?g._visibility&4?As(r,s,o,u):mu(r,s):g._visibility&4?As(r,s,o,u):(g._visibility|=4,Uo(r,s,o,u,(s.subtreeFlags&10256)!==0)),h&2048&&um(s.alternate,s);break;case 24:As(r,s,o,u),h&2048&&cm(s.alternate,s);break;default:As(r,s,o,u)}}function Uo(r,s,o,u,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,T=s,w=o,N=u,H=T.flags;switch(T.tag){case 0:case 11:case 15:Uo(g,T,w,N,h),pu(8,T);break;case 23:break;case 22:var ne=T.stateNode;T.memoizedState!==null?ne._visibility&4?Uo(g,T,w,N,h):mu(g,T):(ne._visibility|=4,Uo(g,T,w,N,h)),h&&H&2048&&um(T.alternate,T);break;case 24:Uo(g,T,w,N,h),h&&H&2048&&cm(T.alternate,T);break;default:Uo(g,T,w,N,h)}s=s.sibling}}function mu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,h=u.flags;switch(u.tag){case 22:mu(o,u),h&2048&&um(u.alternate,u);break;case 24:mu(o,u),h&2048&&cm(u.alternate,u);break;default:mu(o,u)}s=s.sibling}}var gu=8192;function Bo(r){if(r.subtreeFlags&gu)for(r=r.child;r!==null;)uE(r),r=r.sibling}function uE(r){switch(r.tag){case 26:Bo(r),r.flags&gu&&r.memoizedState!==null&&ZC(Cr,r.memoizedState,r.memoizedProps);break;case 5:Bo(r);break;case 3:case 4:var s=Cr;Cr=td(r.stateNode.containerInfo),Bo(r),Cr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=gu,gu=16777216,Bo(r),gu=s):Bo(r));break;default:Bo(r)}}function cE(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function yu(r){var s=r.deletions;if(r.flags&16){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];nn=u,dE(u,r)}cE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)fE(r),r=r.sibling}function fE(r){switch(r.tag){case 0:case 11:case 15:yu(r),r.flags&2048&&Ss(9,r,r.return);break;case 3:yu(r);break;case 12:yu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&4&&(r.return===null||r.return.tag!==13)?(s._visibility&=-5,jf(r)):yu(r);break;default:yu(r)}}function jf(r){var s=r.deletions;if(r.flags&16){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];nn=u,dE(u,r)}cE(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Ss(8,s,s.return),jf(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,jf(s));break;default:jf(s)}r=r.sibling}}function dE(r,s){for(;nn!==null;){var o=nn;switch(o.tag){case 0:case 11:case 15:Ss(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:iu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,nn=u;else e:for(o=r;nn!==null;){u=nn;var h=u.sibling,g=u.return;if(rE(u),u===o){nn=null;break e}if(h!==null){h.return=g,nn=h;break e}nn=g}}}function fC(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(r,s,o,u){return new fC(r,s,o,u)}function fm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Rs(r,s){var o=r.alternate;return o===null?(o=ur(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&31457280,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function hE(r,s){r.flags&=31457282;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Ff(r,s,o,u,h,g){var T=0;if(u=r,typeof r=="function")fm(r)&&(T=1);else if(typeof r=="string")T=QC(r,o,zt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case p:return Na(o.children,h,g,s);case m:T=8,h|=24;break;case y:return r=ur(12,o,s,h|2),r.elementType=y,r.lanes=g,r;case M:return r=ur(13,o,s,h),r.elementType=M,r.lanes=g,r;case D:return r=ur(19,o,s,h),r.elementType=D,r.lanes=g,r;case q:return pE(o,h,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case _:case S:T=10;break e;case E:T=9;break e;case R:T=11;break e;case z:T=14;break e;case F:T=16,u=null;break e}T=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=ur(T,o,s,h),s.elementType=r,s.type=u,s.lanes=g,s}function Na(r,s,o,u){return r=ur(7,r,u,s),r.lanes=o,r}function pE(r,s,o,u){r=ur(22,r,u,s),r.elementType=q,r.lanes=o;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=h._current;if(g===null)throw Error(i(456));if(!(h._pendingVisibility&2)){var T=ps(g,2);T!==null&&(h._pendingVisibility|=2,In(T,g,2))}},attach:function(){var g=h._current;if(g===null)throw Error(i(456));if(h._pendingVisibility&2){var T=ps(g,2);T!==null&&(h._pendingVisibility&=-3,In(T,g,2))}}};return r.stateNode=h,r}function dm(r,s,o){return r=ur(6,r,null,s),r.lanes=o,r}function hm(r,s,o){return s=ur(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Oi(r){r.flags|=4}function mE(r,s){if(s.type!=="stylesheet"||s.state.loading&4)r.flags&=-16777217;else if(r.flags|=16777216,!JE(s)){if(s=ar.current,s!==null&&((nt&4194176)===nt?Yr!==null:(nt&62914560)!==nt&&!(nt&536870912)||s!==Yr))throw tu=vp,N0;r.flags|=8192}}function Hf(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?ns():536870912,r.lanes|=s,jo|=s)}function vu(r,s){if(!at)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Tt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&31457280,u|=h.flags&31457280,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function dC(r,s,o){var u=s.pendingProps;switch(gp(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(s),null;case 1:return Tt(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ci(Gt),Vr(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Xl(s)?Oi(s):r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Rr!==null&&(bm(Rr),Rr=null))),Tt(s),null;case 26:return o=s.memoizedState,r===null?(Oi(s),o!==null?(Tt(s),mE(s,o)):(Tt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Oi(s),Tt(s),mE(s,o)):(Tt(s),s.flags&=-16777217):(r.memoizedProps!==u&&Oi(s),Tt(s),s.flags&=-16777217),null;case 27:U(s),o=xt.current;var h=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Oi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Tt(s),null}r=zt.current,Xl(s)?x0(s):(r=GE(h,u,o),s.stateNode=r,Oi(s))}return Tt(s),null;case 5:if(U(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Oi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Tt(s),null}if(r=zt.current,Xl(s))x0(s);else{switch(h=ed(xt.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?h.createElement(o,{is:u.is}):h.createElement(o)}}r[Zt]=s,r[jt]=u;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=r;e:switch(dn(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Oi(s)}}return Tt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Oi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=xt.current,Xl(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,h=Cn,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}r[Zt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||BE(r.nodeValue,o)),r||Ta(s)}else r=ed(r).createTextNode(u),r[Zt]=s,s.stateNode=r}return Tt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=Xl(s),u!==null&&u.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Zt]=s}else Zl(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Tt(s),h=!1}else Rr!==null&&(bm(Rr),Rr=null),h=!0;if(!h)return s.flags&256?(Si(s),s):(Si(s),null)}if(Si(s),s.flags&128)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==h&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Hf(s,s.updateQueue),Tt(s),null;case 4:return Vr(),r===null&&Nm(s.stateNode.containerInfo),Tt(s),null;case 10:return Ci(s.type),Tt(s),null;case 19:if(lt(qt),h=s.memoizedState,h===null)return Tt(s),null;if(u=(s.flags&128)!==0,g=h.rendering,g===null)if(u)vu(h,!1);else{if(Ct!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(g=Rf(r),g!==null){for(s.flags|=128,vu(h,!1),r=g.updateQueue,s.updateQueue=r,Hf(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)hE(o,r),o=o.sibling;return Xe(qt,qt.current&1|2),s.child}r=r.sibling}h.tail!==null&&_e()>qf&&(s.flags|=128,u=!0,vu(h,!1),s.lanes=4194304)}else{if(!u)if(r=Rf(g),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,Hf(s,r),vu(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!at)return Tt(s),null}else 2*_e()-h.renderingStartTime>qf&&o!==536870912&&(s.flags|=128,u=!0,vu(h,!1),s.lanes=4194304);h.isBackwards?(g.sibling=s.child,s.child=g):(r=h.last,r!==null?r.sibling=g:s.child=g,h.last=g)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=_e(),s.sibling=null,r=qt.current,Xe(qt,u?r&1|2:r&1),s):(Tt(s),null);case 22:case 23:return Si(s),Ep(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?o&536870912&&!(s.flags&128)&&(Tt(s),s.subtreeFlags&6&&(s.flags|=8192)):Tt(s),o=s.updateQueue,o!==null&&Hf(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&lt(wa),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ci(Gt),Tt(s),null;case 25:return null}throw Error(i(156,s.tag))}function hC(r,s){switch(gp(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ci(Gt),Vr(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return U(s),null;case 13:if(Si(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Zl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return lt(qt),null;case 4:return Vr(),null;case 10:return Ci(s.type),null;case 22:case 23:return Si(s),Ep(),r!==null&&lt(wa),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ci(Gt),null;case 25:return null;default:return null}}function gE(r,s){switch(gp(s),s.tag){case 3:Ci(Gt),Vr();break;case 26:case 27:case 5:U(s);break;case 4:Vr();break;case 13:Si(s);break;case 19:lt(qt);break;case 10:Ci(s.type);break;case 22:case 23:Si(s),Ep(),r!==null&&lt(wa);break;case 24:Ci(Gt)}}var pC={getCacheForType:function(r){var s=yn(Gt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},mC=typeof WeakMap=="function"?WeakMap:Map,St=0,gt=null,We=null,nt=0,yt=0,Fn=null,Ni=!1,zo=!1,pm=!1,Pi=0,Ct=0,Cs=0,Pa=0,mm=0,cr=0,jo=0,_u=null,Xr=null,gm=!1,ym=0,qf=1/0,Gf=null,Is=null,$f=!1,Ma=null,Eu=0,vm=0,_m=null,bu=0,Em=null;function Hn(){if(St&2&&nt!==0)return nt&-nt;if(C.T!==null){var r=No;return r!==0?r:Im()}return Xc()}function yE(){cr===0&&(cr=!(nt&536870912)||at?Pl():536870912);var r=ar.current;return r!==null&&(r.flags|=32),cr}function In(r,s,o){(r===gt&&yt===2||r.cancelPendingCommit!==null)&&(Fo(r,0),Mi(r,nt,cr,!1)),Ot(r,o),(!(St&2)||r!==gt)&&(r===gt&&(!(St&2)&&(Pa|=o),Ct===4&&Mi(r,nt,cr,!1)),Zr(r))}function vE(r,s,o){if(St&6)throw Error(i(327));var u=!o&&(s&60)===0&&(s&r.expiredLanes)===0||ts(r,s),h=u?vC(r,s):wm(r,s,!0),g=u;do{if(h===0){zo&&!u&&Mi(r,s,0,!1);break}else if(h===6)Mi(r,s,0,!Ni);else{if(o=r.current.alternate,g&&!gC(o)){h=wm(r,s,!1),g=!1;continue}if(h===2){if(g=s,r.errorRecoveryDisabledLanes&g)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var w=r;h=_u;var N=w.current.memoizedState.isDehydrated;if(N&&(Fo(w,T).flags|=256),T=wm(w,T,!1),T!==2){if(pm&&!N){w.errorRecoveryDisabledLanes|=g,Pa|=g,h=4;break e}g=Xr,Xr=h,g!==null&&bm(g)}h=T}if(g=!1,h!==2)continue}}if(h===1){Fo(r,0),Mi(r,s,0,!0);break}e:{switch(u=r,h){case 0:case 1:throw Error(i(345));case 4:if((s&4194176)===s){Mi(u,s,cr,!Ni);break e}break;case 2:Xr=null;break;case 3:case 5:break;default:throw Error(i(329))}if(u.finishedWork=o,u.finishedLanes=s,(s&62914560)===s&&(g=ym+300-_e(),10<g)){if(Mi(u,s,cr,!Ni),Qn(u,0)!==0)break e;u.timeoutHandle=FE(_E.bind(null,u,o,Xr,Gf,gm,s,cr,Pa,jo,Ni,2,-0,0),g);break e}_E(u,o,Xr,Gf,gm,s,cr,Pa,jo,Ni,0,-0,0)}}break}while(!0);Zr(r)}function bm(r){Xr===null?Xr=r:Xr.push.apply(Xr,r)}function _E(r,s,o,u,h,g,T,w,N,H,ne,ae,Q){var te=s.subtreeFlags;if((te&8192||(te&16785408)===16785408)&&(Cu={stylesheets:null,count:0,unsuspend:XC},uE(s),s=JC(),s!==null)){r.cancelPendingCommit=s(RE.bind(null,r,o,u,h,T,w,N,1,ae,Q)),Mi(r,g,T,!H);return}RE(r,o,u,h,T,w,N,ne,ae,Q)}function gC(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],g=h.getSnapshot;h=h.value;try{if(!Bn(g(),h))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Mi(r,s,o,u){s&=~mm,s&=~Pa,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var h=s;0<h;){var g=31-wn(h),T=1<<g;u[g]=-1,h&=~T}o!==0&&rs(r,o,s)}function Kf(){return St&6?!0:(Tu(0),!1)}function Tm(){if(We!==null){if(yt===0)var r=We.return;else r=We,Ri=Da=null,Ip(r),xo=null,nu=0,r=We;for(;r!==null;)gE(r.alternate,r),r=r.return;We=null}}function Fo(r,s){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,kC(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Tm(),gt=r,We=o=Rs(r.current,null),nt=s,yt=0,Fn=null,Ni=!1,zo=ts(r,s),pm=!1,jo=cr=mm=Pa=Cs=Ct=0,Xr=_u=null,gm=!1,s&8&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var h=31-wn(u),g=1<<h;s|=r[h],u&=~g}return Pi=s,yf(),o}function EE(r,s){He=null,C.H=Qr,s===eu?(s=k0(),yt=3):s===N0?(s=k0(),yt=4):yt=s===P_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Fn=s,We===null&&(Ct=1,Lf(r,rr(s,r.current)))}function bE(){var r=C.H;return C.H=Qr,r===null?Qr:r}function TE(){var r=C.A;return C.A=pC,r}function Sm(){Ct=4,Ni||(nt&4194176)!==nt&&ar.current!==null||(zo=!0),!(Cs&134217727)&&!(Pa&134217727)||gt===null||Mi(gt,nt,cr,!1)}function wm(r,s,o){var u=St;St|=2;var h=bE(),g=TE();(gt!==r||nt!==s)&&(Gf=null,Fo(r,s)),s=!1;var T=Ct;e:do try{if(yt!==0&&We!==null){var w=We,N=Fn;switch(yt){case 8:Tm(),T=6;break e;case 3:case 2:case 6:ar.current===null&&(s=!0);var H=yt;if(yt=0,Fn=null,Ho(r,w,N,H),o&&zo){T=0;break e}break;default:H=yt,yt=0,Fn=null,Ho(r,w,N,H)}}yC(),T=Ct;break}catch(ne){EE(r,ne)}while(!0);return s&&r.shellSuspendCounter++,Ri=Da=null,St=u,C.H=h,C.A=g,We===null&&(gt=null,nt=0,yf()),T}function yC(){for(;We!==null;)SE(We)}function vC(r,s){var o=St;St|=2;var u=bE(),h=TE();gt!==r||nt!==s?(Gf=null,qf=_e()+500,Fo(r,s)):zo=ts(r,s);e:do try{if(yt!==0&&We!==null){s=We;var g=Fn;t:switch(yt){case 1:yt=0,Fn=null,Ho(r,s,g,1);break;case 2:if(P0(g)){yt=0,Fn=null,wE(s);break}s=function(){yt===2&&gt===r&&(yt=7),Zr(r)},g.then(s,s);break e;case 3:yt=7;break e;case 4:yt=5;break e;case 7:P0(g)?(yt=0,Fn=null,wE(s)):(yt=0,Fn=null,Ho(r,s,g,7));break;case 5:var T=null;switch(We.tag){case 26:T=We.memoizedState;case 5:case 27:var w=We;if(!T||JE(T)){yt=0,Fn=null;var N=w.sibling;if(N!==null)We=N;else{var H=w.return;H!==null?(We=H,Wf(H)):We=null}break t}}yt=0,Fn=null,Ho(r,s,g,5);break;case 6:yt=0,Fn=null,Ho(r,s,g,6);break;case 8:Tm(),Ct=6;break e;default:throw Error(i(462))}}_C();break}catch(ne){EE(r,ne)}while(!0);return Ri=Da=null,C.H=u,C.A=h,St=o,We!==null?0:(gt=null,nt=0,yf(),Ct)}function _C(){for(;We!==null&&!he();)SE(We)}function SE(r){var s=G_(r.alternate,r,Pi);r.memoizedProps=r.pendingProps,s===null?Wf(r):We=s}function wE(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=B_(o,s,s.pendingProps,s.type,void 0,nt);break;case 11:s=B_(o,s,s.pendingProps,s.type.render,s.ref,nt);break;case 5:Ip(s);default:gE(o,s),s=We=hE(s,Pi),s=G_(o,s,Pi)}r.memoizedProps=r.pendingProps,s===null?Wf(r):We=s}function Ho(r,s,o,u){Ri=Da=null,Ip(s),xo=null,nu=0;var h=s.return;try{if(oC(r,h,s,o,nt)){Ct=1,Lf(r,rr(o,r.current)),We=null;return}}catch(g){if(h!==null)throw We=h,g;Ct=1,Lf(r,rr(o,r.current)),We=null;return}s.flags&32768?(at||u===1?r=!0:zo||nt&536870912?r=!1:(Ni=r=!0,(u===2||u===3||u===6)&&(u=ar.current,u!==null&&u.tag===13&&(u.flags|=16384))),AE(s,r)):Wf(s)}function Wf(r){var s=r;do{if(s.flags&32768){AE(s,Ni);return}r=s.return;var o=dC(s.alternate,s,Pi);if(o!==null){We=o;return}if(s=s.sibling,s!==null){We=s;return}We=s=r}while(s!==null);Ct===0&&(Ct=5)}function AE(r,s){do{var o=hC(r.alternate,r);if(o!==null){o.flags&=32767,We=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){We=r;return}We=r=o}while(r!==null);Ct=6,We=null}function RE(r,s,o,u,h,g,T,w,N,H){var ne=C.T,ae=ge.p;try{ge.p=2,C.T=null,EC(r,s,o,u,ae,h,g,T,w,N,H)}finally{C.T=ne,ge.p=ae}}function EC(r,s,o,u,h,g,T,w){do qo();while(Ma!==null);if(St&6)throw Error(i(327));var N=r.finishedWork;if(u=r.finishedLanes,N===null)return null;if(r.finishedWork=null,r.finishedLanes=0,N===r.current)throw Error(i(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var H=N.lanes|N.childLanes;if(H|=hp,Yc(r,u,H,g,T,w),r===gt&&(We=gt=null,nt=0),!(N.subtreeFlags&10256)&&!(N.flags&10256)||$f||($f=!0,vm=H,_m=o,wC(Qt,function(){return qo(),null})),o=(N.flags&15990)!==0,N.subtreeFlags&15990||o?(o=C.T,C.T=null,g=ge.p,ge.p=2,T=St,St|=4,uC(r,N),aE(N,r),qR(Vm,r.containerInfo),ad=!!km,Vm=km=null,r.current=N,nE(r,N.alternate,N),ce(),St=T,ge.p=g,C.T=o):r.current=N,$f?($f=!1,Ma=r,Eu=u):CE(r,H),H=r.pendingLanes,H===0&&(Is=null),Ji(N.stateNode),Zr(r),s!==null)for(h=r.onRecoverableError,N=0;N<s.length;N++)H=s[N],h(H.value,{componentStack:H.stack});return Eu&3&&qo(),H=r.pendingLanes,u&4194218&&H&42?r===Em?bu++:(bu=0,Em=r):bu=0,Tu(0),null}function CE(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,iu(s)))}function qo(){if(Ma!==null){var r=Ma,s=vm;vm=0;var o=Qc(Eu),u=C.T,h=ge.p;try{if(ge.p=32>o?32:o,C.T=null,Ma===null)var g=!1;else{o=_m,_m=null;var T=Ma,w=Eu;if(Ma=null,Eu=0,St&6)throw Error(i(331));var N=St;if(St|=4,fE(T.current),lE(T,T.current,w,o),St=N,Tu(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Tr,T)}catch{}g=!0}return g}finally{ge.p=h,C.T=u,CE(r,s)}}return!1}function IE(r,s,o){s=rr(o,s),s=Fp(r.stateNode,s,2),r=Ts(r,s,2),r!==null&&(Ot(r,2),Zr(r))}function pt(r,s,o){if(r.tag===3)IE(r,r,o);else for(;s!==null;){if(s.tag===3){IE(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Is===null||!Is.has(u))){r=rr(o,r),o=O_(2),u=Ts(s,o,2),u!==null&&(N_(o,u,s,r),Ot(u,2),Zr(u));break}}s=s.return}}function Am(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new mC;var h=new Set;u.set(s,h)}else h=u.get(s),h===void 0&&(h=new Set,u.set(s,h));h.has(o)||(pm=!0,h.add(o),r=bC.bind(null,r,s,o),s.then(r,r))}function bC(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,gt===r&&(nt&o)===o&&(Ct===4||Ct===3&&(nt&62914560)===nt&&300>_e()-ym?!(St&2)&&Fo(r,0):mm|=o,jo===nt&&(jo=0)),Zr(r)}function DE(r,s){s===0&&(s=ns()),r=ps(r,s),r!==null&&(Ot(r,s),Zr(r))}function TC(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),DE(r,o)}function SC(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),DE(r,o)}function wC(r,s){return ee(r,s)}var Yf=null,Go=null,Rm=!1,Qf=!1,Cm=!1,ka=0;function Zr(r){r!==Go&&r.next===null&&(Go===null?Yf=Go=r:Go=Go.next=r),Qf=!0,Rm||(Rm=!0,RC(AC))}function Tu(r,s){if(!Cm&&Qf){Cm=!0;do for(var o=!1,u=Yf;u!==null;){if(r!==0){var h=u.pendingLanes;if(h===0)var g=0;else{var T=u.suspendedLanes,w=u.pingedLanes;g=(1<<31-wn(42|r)+1)-1,g&=h&~(T&~w),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(o=!0,NE(u,g))}else g=nt,g=Qn(u,u===gt?g:0),!(g&3)||ts(u,g)||(o=!0,NE(u,g));u=u.next}while(o);Cm=!1}}function AC(){Qf=Rm=!1;var r=0;ka!==0&&(MC()&&(r=ka),ka=0);for(var s=_e(),o=null,u=Yf;u!==null;){var h=u.next,g=xE(u,s);g===0?(u.next=null,o===null?Yf=h:o.next=h,h===null&&(Go=o)):(o=u,(r!==0||g&3)&&(Qf=!0)),u=h}Tu(r)}function xE(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var T=31-wn(g),w=1<<T,N=h[T];N===-1?(!(w&o)||w&u)&&(h[T]=lo(w,s)):N<=s&&(r.expiredLanes|=w),g&=~w}if(s=gt,o=nt,o=Qn(r,r===s?o:0),u=r.callbackNode,o===0||r===s&&yt===2||r.cancelPendingCommit!==null)return u!==null&&u!==null&&pe(u),r.callbackNode=null,r.callbackPriority=0;if(!(o&3)||ts(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&pe(u),Qc(o)){case 2:case 8:o=Ke;break;case 32:o=Qt;break;case 268435456:o=ci;break;default:o=Qt}return u=OE.bind(null,r),o=ee(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&pe(u),r.callbackPriority=2,r.callbackNode=null,2}function OE(r,s){var o=r.callbackNode;if(qo()&&r.callbackNode!==o)return null;var u=nt;return u=Qn(r,r===gt?u:0),u===0?null:(vE(r,u,s),xE(r,_e()),r.callbackNode!=null&&r.callbackNode===o?OE.bind(null,r):null)}function NE(r,s){if(qo())return null;vE(r,s,!0)}function RC(r){VC(function(){St&6?ee(Ge,r):r()})}function Im(){return ka===0&&(ka=Pl()),ka}function PE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:jr(""+r)}function ME(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function CC(r,s,o,u,h){if(s==="submit"&&o&&o.stateNode===h){var g=PE((h[jt]||null).action),T=u.submitter;T&&(s=(s=T[jt]||null)?PE(s.formAction):T.getAttribute("formAction"),s!==null&&(g=s,T=null));var w=new go("action","action",null,u,h);r.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ka!==0){var N=T?ME(h,T):new FormData(h);Lp(o,{pending:!0,data:N,method:h.method,action:g},null,N)}}else typeof g=="function"&&(w.preventDefault(),N=T?ME(h,T):new FormData(h),Lp(o,{pending:!0,data:N,method:h.method,action:g},g,N))},currentTarget:h}]})}}for(var Dm=0;Dm<R0.length;Dm++){var xm=R0[Dm],IC=xm.toLowerCase(),DC=xm[0].toUpperCase()+xm.slice(1);Ar(IC,"on"+DC)}Ar(b0,"onAnimationEnd"),Ar(T0,"onAnimationIteration"),Ar(S0,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar($R,"onTransitionRun"),Ar(KR,"onTransitionStart"),Ar(WR,"onTransitionCancel"),Ar(w0,"onTransitionEnd"),On("onMouseEnter",["mouseout","mouseover"]),On("onMouseLeave",["mouseout","mouseover"]),On("onPointerEnter",["pointerout","pointerover"]),On("onPointerLeave",["pointerout","pointerover"]),Ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Su));function kE(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],h=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var T=u.length-1;0<=T;T--){var w=u[T],N=w.instance,H=w.currentTarget;if(w=w.listener,N!==g&&h.isPropagationStopped())break e;g=w,h.currentTarget=H;try{g(h)}catch(ne){Vf(ne)}h.currentTarget=null,g=N}else for(T=0;T<u.length;T++){if(w=u[T],N=w.instance,H=w.currentTarget,w=w.listener,N!==g&&h.isPropagationStopped())break e;g=w,h.currentTarget=H;try{g(h)}catch(ne){Vf(ne)}h.currentTarget=null,g=N}}}}function Ze(r,s){var o=s[aa];o===void 0&&(o=s[aa]=new Set);var u=r+"__bubble";o.has(u)||(VE(s,r,2,!1),o.add(u))}function Om(r,s,o){var u=0;s&&(u|=4),VE(o,r,u,s)}var Xf="_reactListening"+Math.random().toString(36).slice(2);function Nm(r){if(!r[Xf]){r[Xf]=!0,kl.forEach(function(o){o!=="selectionchange"&&(xC.has(o)||Om(o,!1,r),Om(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Xf]||(s[Xf]=!0,Om("selectionchange",!1,s))}}function VE(r,s,o,u){switch(sb(s)){case 2:var h=nI;break;case 8:h=rI;break;default:h=Gm}o=h.bind(null,s,o,r),h=void 0,!er||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(s,o,{capture:!0,passive:h}):r.addEventListener(s,o,!0):h!==void 0?r.addEventListener(s,o,{passive:h}):r.addEventListener(s,o,!1)}function Pm(r,s,o,u,h){var g=u;if(!(s&1)&&!(s&2)&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var w=u.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(T===4)for(T=u.return;T!==null;){var N=T.tag;if((N===3||N===4)&&(N=T.stateNode.containerInfo,N===h||N.nodeType===8&&N.parentNode===h))return;T=T.return}for(;w!==null;){if(T=wr(w),T===null)return;if(N=T.tag,N===5||N===6||N===26||N===27){u=g=T;continue e}w=w.parentNode}}u=u.return}tf(function(){var H=g,ne=mo(o),ae=[];e:{var Q=A0.get(r);if(Q!==void 0){var te=go,we=r;switch(r){case"keypress":if(Hr(o)===0)break e;case"keydown":case"keyup":te=To;break;case"focusin":we="focus",te=_o;break;case"focusout":we="blur",te=_o;break;case"beforeblur":case"afterblur":te=_o;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=tr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=sp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=cf;break;case b0:case T0:case S0:te=Eo;break;case w0:te=df;break;case"scroll":case"scrollend":te=nf;break;case"wheel":te=So;break;case"copy":case"cut":case"paste":te=bo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Kl;break;case"toggle":case"beforetoggle":te=pf}var Ve=(s&4)!==0,It=!Ve&&(r==="scroll"||r==="scrollend"),$=Ve?Q!==null?Q+"Capture":null:Q;Ve=[];for(var j=H,W;j!==null;){var re=j;if(W=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||W===null||$===null||(re=fa(j,$),re!=null&&Ve.push(wu(j,re,W))),It)break;j=j.return}0<Ve.length&&(Q=new te(Q,we,null,o,ne),ae.push({event:Q,listeners:Ve}))}}if(!(s&7)){e:{if(Q=r==="mouseover"||r==="pointerover",te=r==="mouseout"||r==="pointerout",Q&&o!==Jn&&(we=o.relatedTarget||o.fromElement)&&(wr(we)||we[di]))break e;if((te||Q)&&(Q=ne.window===ne?ne:(Q=ne.ownerDocument)?Q.defaultView||Q.parentWindow:window,te?(we=o.relatedTarget||o.toElement,te=H,we=we?wr(we):null,we!==null&&(It=ve(we),Ve=we.tag,we!==It||Ve!==5&&Ve!==27&&Ve!==6)&&(we=null)):(te=null,we=H),te!==we)){if(Ve=tr,re="onMouseLeave",$="onMouseEnter",j="mouse",(r==="pointerout"||r==="pointerover")&&(Ve=Kl,re="onPointerLeave",$="onPointerEnter",j="pointer"),It=te==null?Q:os(te),W=we==null?Q:os(we),Q=new Ve(re,j+"leave",te,o,ne),Q.target=It,Q.relatedTarget=W,re=null,wr(ne)===H&&(Ve=new Ve($,j+"enter",we,o,ne),Ve.target=W,Ve.relatedTarget=It,re=Ve),It=re,te&&we)t:{for(Ve=te,$=we,j=0,W=Ve;W;W=$o(W))j++;for(W=0,re=$;re;re=$o(re))W++;for(;0<j-W;)Ve=$o(Ve),j--;for(;0<W-j;)$=$o($),W--;for(;j--;){if(Ve===$||$!==null&&Ve===$.alternate)break t;Ve=$o(Ve),$=$o($)}Ve=null}else Ve=null;te!==null&&LE(ae,Q,te,Ve,!1),we!==null&&It!==null&&LE(ae,It,we,Ve,!0)}}e:{if(Q=H?os(H):window,te=Q.nodeName&&Q.nodeName.toLowerCase(),te==="select"||te==="input"&&Q.type==="file")var Te=c0;else if(Ht(Q))if(f0)Te=FR;else{Te=zR;var $e=BR}else te=Q.nodeName,!te||te.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?H&&zl(H.elementType)&&(Te=c0):Te=jR;if(Te&&(Te=Te(r,H))){Ei(ae,Te,o,ne);break e}$e&&$e(r,Q,H),r==="focusout"&&H&&Q.type==="number"&&H.memoizedProps.value!=null&&po(Q,"number",Q.value)}switch($e=H?os(H):window,r){case"focusin":(Ht($e)||$e.contentEditable==="true")&&(wo=$e,cp=H,Ql=null);break;case"focusout":Ql=cp=wo=null;break;case"mousedown":fp=!0;break;case"contextmenu":case"mouseup":case"dragend":fp=!1,_0(ae,o,ne);break;case"selectionchange":if(GR)break;case"keydown":case"keyup":_0(ae,o,ne)}var Re;if($r)e:{switch(r){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else et?J(r,o)&&(De="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(De="onCompositionStart");De&&(b&&o.locale!=="ko"&&(et||De!=="onCompositionStart"?De==="onCompositionEnd"&&et&&(Re=Fl()):(Fr=ne,hs="value"in Fr?Fr.value:Fr.textContent,et=!0)),$e=Zf(H,De),0<$e.length&&(De=new Gl(De,r,null,o,ne),ae.push({event:De,listeners:$e}),Re?De.data=Re:(Re=fe(o),Re!==null&&(De.data=Re)))),(Re=v?Ft(r,o):tt(r,o))&&(De=Zf(H,"onBeforeInput"),0<De.length&&($e=new Gl("onBeforeInput","beforeinput",null,o,ne),ae.push({event:$e,listeners:De}),$e.data=Re)),CC(ae,r,H,o,ne)}kE(ae,s)})}function wu(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Zf(r,s){for(var o=s+"Capture",u=[];r!==null;){var h=r,g=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=fa(r,o),h!=null&&u.unshift(wu(r,h,g)),h=fa(r,s),h!=null&&u.push(wu(r,h,g))),r=r.return}return u}function $o(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function LE(r,s,o,u,h){for(var g=s._reactName,T=[];o!==null&&o!==u;){var w=o,N=w.alternate,H=w.stateNode;if(w=w.tag,N!==null&&N===u)break;w!==5&&w!==26&&w!==27||H===null||(N=H,h?(H=fa(o,g),H!=null&&T.unshift(wu(o,H,N))):h||(H=fa(o,g),H!=null&&T.push(wu(o,H,N)))),o=o.return}T.length!==0&&r.push({event:s,listeners:T})}var OC=/\r\n?/g,NC=/\u0000|\uFFFD/g;function UE(r){return(typeof r=="string"?r:""+r).replace(OC,`
`).replace(NC,"")}function BE(r,s){return s=UE(s),UE(r)===s}function Jf(){}function ht(r,s,o,u,h,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Zn(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Zn(r,""+u);break;case"className":cs(r,"class",u);break;case"tabIndex":cs(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":cs(r,o,u);break;case"style":ef(r,u,g);break;case"data":if(s!=="object"){cs(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=jr(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&ht(r,s,"name",h.name,h,null),ht(r,s,"formEncType",h.formEncType,h,null),ht(r,s,"formMethod",h.formMethod,h,null),ht(r,s,"formTarget",h.formTarget,h,null)):(ht(r,s,"encType",h.encType,h,null),ht(r,s,"method",h.method,h,null),ht(r,s,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=jr(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=Jf);break;case"onScroll":u!=null&&Ze("scroll",r);break;case"onScrollEnd":u!=null&&Ze("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=jr(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Ze("beforetoggle",r),Ze("toggle",r),us(r,"popover",u);break;case"xlinkActuate":Xn(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Xn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Xn(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Xn(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Xn(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Xn(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Xn(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Xn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Xn(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":us(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=rp.get(o)||o,us(r,o,u))}}function Mm(r,s,o,u,h,g){switch(o){case"style":ef(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Zn(r,u):(typeof u=="number"||typeof u=="bigint")&&Zn(r,""+u);break;case"onScroll":u!=null&&Ze("scroll",r);break;case"onScrollEnd":u!=null&&Ze("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Jf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fo.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),s=o.slice(2,h?o.length-7:void 0),g=r[jt]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,h),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,h);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):us(r,o,u)}}}function dn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",r),Ze("load",r);var u=!1,h=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ht(r,s,g,T,o,null)}}h&&ht(r,s,"srcSet",o.srcSet,o,null),u&&ht(r,s,"src",o.src,o,null);return;case"input":Ze("invalid",r);var w=g=T=h=null,N=null,H=null;for(u in o)if(o.hasOwnProperty(u)){var ne=o[u];if(ne!=null)switch(u){case"name":h=ne;break;case"type":T=ne;break;case"checked":N=ne;break;case"defaultChecked":H=ne;break;case"value":g=ne;break;case"defaultValue":w=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:ht(r,s,u,ne,o,null)}}ua(r,g,w,N,H,T,h,!1),la(r);return;case"select":Ze("invalid",r),u=T=g=null;for(h in o)if(o.hasOwnProperty(h)&&(w=o[h],w!=null))switch(h){case"value":g=w;break;case"defaultValue":T=w;break;case"multiple":u=w;default:ht(r,s,h,w,o,null)}s=g,o=T,r.multiple=!!u,s!=null?st(r,!!u,s,!1):o!=null&&st(r,!!u,o,!0);return;case"textarea":Ze("invalid",r),g=h=u=null;for(T in o)if(o.hasOwnProperty(T)&&(w=o[T],w!=null))switch(T){case"value":u=w;break;case"defaultValue":h=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:ht(r,s,T,w,o,null)}ds(r,u,h,g),la(r);return;case"option":for(N in o)if(o.hasOwnProperty(N)&&(u=o[N],u!=null))switch(N){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ht(r,s,N,u,o,null)}return;case"dialog":Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":Ze("load",r);break;case"video":case"audio":for(u=0;u<Su.length;u++)Ze(Su[u],r);break;case"image":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"embed":case"source":case"link":Ze("error",r),Ze("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in o)if(o.hasOwnProperty(H)&&(u=o[H],u!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ht(r,s,H,u,o,null)}return;default:if(zl(s)){for(ne in o)o.hasOwnProperty(ne)&&(u=o[ne],u!==void 0&&Mm(r,s,ne,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&ht(r,s,w,u,o,null))}function PC(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,T=null,w=null,N=null,H=null,ne=null;for(te in o){var ae=o[te];if(o.hasOwnProperty(te)&&ae!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":N=ae;default:u.hasOwnProperty(te)||ht(r,s,te,null,u,ae)}}for(var Q in u){var te=u[Q];if(ae=o[Q],u.hasOwnProperty(Q)&&(te!=null||ae!=null))switch(Q){case"type":g=te;break;case"name":h=te;break;case"checked":H=te;break;case"defaultChecked":ne=te;break;case"value":T=te;break;case"defaultValue":w=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,s));break;default:te!==ae&&ht(r,s,Q,te,u,ae)}}fs(r,T,w,N,H,ne,g,h);return;case"select":te=T=w=Q=null;for(g in o)if(N=o[g],o.hasOwnProperty(g)&&N!=null)switch(g){case"value":break;case"multiple":te=N;default:u.hasOwnProperty(g)||ht(r,s,g,null,u,N)}for(h in u)if(g=u[h],N=o[h],u.hasOwnProperty(h)&&(g!=null||N!=null))switch(h){case"value":Q=g;break;case"defaultValue":w=g;break;case"multiple":T=g;default:g!==N&&ht(r,s,h,g,u,N)}s=w,o=T,u=te,Q!=null?st(r,!!o,Q,!1):!!u!=!!o&&(s!=null?st(r,!!o,s,!0):st(r,!!o,o?[]:"",!1));return;case"textarea":te=Q=null;for(w in o)if(h=o[w],o.hasOwnProperty(w)&&h!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ht(r,s,w,null,u,h)}for(T in u)if(h=u[T],g=o[T],u.hasOwnProperty(T)&&(h!=null||g!=null))switch(T){case"value":Q=h;break;case"defaultValue":te=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==g&&ht(r,s,T,h,u,g)}ca(r,Q,te);return;case"option":for(var we in o)if(Q=o[we],o.hasOwnProperty(we)&&Q!=null&&!u.hasOwnProperty(we))switch(we){case"selected":r.selected=!1;break;default:ht(r,s,we,null,u,Q)}for(N in u)if(Q=u[N],te=o[N],u.hasOwnProperty(N)&&Q!==te&&(Q!=null||te!=null))switch(N){case"selected":r.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:ht(r,s,N,Q,u,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in o)Q=o[Ve],o.hasOwnProperty(Ve)&&Q!=null&&!u.hasOwnProperty(Ve)&&ht(r,s,Ve,null,u,Q);for(H in u)if(Q=u[H],te=o[H],u.hasOwnProperty(H)&&Q!==te&&(Q!=null||te!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,s));break;default:ht(r,s,H,Q,u,te)}return;default:if(zl(s)){for(var It in o)Q=o[It],o.hasOwnProperty(It)&&Q!==void 0&&!u.hasOwnProperty(It)&&Mm(r,s,It,void 0,u,Q);for(ne in u)Q=u[ne],te=o[ne],!u.hasOwnProperty(ne)||Q===te||Q===void 0&&te===void 0||Mm(r,s,ne,Q,u,te);return}}for(var $ in o)Q=o[$],o.hasOwnProperty($)&&Q!=null&&!u.hasOwnProperty($)&&ht(r,s,$,null,u,Q);for(ae in u)Q=u[ae],te=o[ae],!u.hasOwnProperty(ae)||Q===te||Q==null&&te==null||ht(r,s,ae,Q,u,te)}var km=null,Vm=null;function ed(r){return r.nodeType===9?r:r.ownerDocument}function zE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jE(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Lm(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Um=null;function MC(){var r=window.event;return r&&r.type==="popstate"?r===Um?!1:(Um=r,!0):(Um=null,!1)}var FE=typeof setTimeout=="function"?setTimeout:void 0,kC=typeof clearTimeout=="function"?clearTimeout:void 0,HE=typeof Promise=="function"?Promise:void 0,VC=typeof queueMicrotask=="function"?queueMicrotask:typeof HE<"u"?function(r){return HE.resolve(null).then(r).catch(LC)}:FE;function LC(r){setTimeout(function(){throw r})}function Bm(r,s){var o=s,u=0;do{var h=o.nextSibling;if(r.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){r.removeChild(h),Nu(s);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);Nu(s)}function zm(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":zm(o),oa(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function UC(r,s,o,u){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[as])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==h.rel||r.getAttribute("href")!==(h.href==null?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=Ir(r.nextSibling),r===null)break}return null}function BC(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Ir(r.nextSibling),r===null))return null;return r}function Ir(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}function qE(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function GE(r,s,o){switch(s=ed(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}var fr=new Map,$E=new Set;function td(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var ki=ge.d;ge.d={f:zC,r:jC,D:FC,C:HC,L:qC,m:GC,X:KC,S:$C,M:WC};function zC(){var r=ki.f(),s=Kf();return r||s}function jC(r){var s=hi(r);s!==null&&s.tag===5&&s.type==="form"?__(s):ki.r(r)}var Ko=typeof document>"u"?null:document;function KE(r,s,o){var u=Ko;if(u&&typeof s=="string"&&s){var h=At(s);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),$E.has(h)||($E.add(h),r={rel:r,crossOrigin:o,href:s},u.querySelector(h)===null&&(s=u.createElement("link"),dn(s,"link",r),bt(s),u.head.appendChild(s)))}}function FC(r){ki.D(r),KE("dns-prefetch",r,null)}function HC(r,s){ki.C(r,s),KE("preconnect",r,s)}function qC(r,s,o){ki.L(r,s,o);var u=Ko;if(u&&r&&s){var h='link[rel="preload"][as="'+At(s)+'"]';s==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+At(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+At(o.imageSizes)+'"]')):h+='[href="'+At(r)+'"]';var g=h;switch(s){case"style":g=Wo(r);break;case"script":g=Yo(r)}fr.has(g)||(r=x({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),fr.set(g,r),u.querySelector(h)!==null||s==="style"&&u.querySelector(Au(g))||s==="script"&&u.querySelector(Ru(g))||(s=u.createElement("link"),dn(s,"link",r),bt(s),u.head.appendChild(s)))}}function GC(r,s){ki.m(r,s);var o=Ko;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+At(u)+'"][href="'+At(r)+'"]',g=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Yo(r)}if(!fr.has(g)&&(r=x({rel:"modulepreload",href:r},s),fr.set(g,r),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ru(g)))return}u=o.createElement("link"),dn(u,"link",r),bt(u),o.head.appendChild(u)}}}function $C(r,s,o){ki.S(r,s,o);var u=Ko;if(u&&r){var h=ls(u).hoistableStyles,g=Wo(r);s=s||"default";var T=h.get(g);if(!T){var w={loading:0,preload:null};if(T=u.querySelector(Au(g)))w.loading=5;else{r=x({rel:"stylesheet",href:r,"data-precedence":s},o),(o=fr.get(g))&&jm(r,o);var N=T=u.createElement("link");bt(N),dn(N,"link",r),N._p=new Promise(function(H,ne){N.onload=H,N.onerror=ne}),N.addEventListener("load",function(){w.loading|=1}),N.addEventListener("error",function(){w.loading|=2}),w.loading|=4,nd(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:w},h.set(g,T)}}}function KC(r,s){ki.X(r,s);var o=Ko;if(o&&r){var u=ls(o).hoistableScripts,h=Yo(r),g=u.get(h);g||(g=o.querySelector(Ru(h)),g||(r=x({src:r,async:!0},s),(s=fr.get(h))&&Fm(r,s),g=o.createElement("script"),bt(g),dn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function WC(r,s){ki.M(r,s);var o=Ko;if(o&&r){var u=ls(o).hoistableScripts,h=Yo(r),g=u.get(h);g||(g=o.querySelector(Ru(h)),g||(r=x({src:r,async:!0,type:"module"},s),(s=fr.get(h))&&Fm(r,s),g=o.createElement("script"),bt(g),dn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function WE(r,s,o,u){var h=(h=xt.current)?td(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Wo(o.href),o=ls(h).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Wo(o.href);var g=ls(h).hoistableStyles,T=g.get(r);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,T),(g=h.querySelector(Au(r)))&&!g._p&&(T.instance=g,T.state.loading=5),fr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},fr.set(r,o),g||YC(h,r,o,T.state))),s&&u===null)throw Error(i(528,""));return T}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Yo(o),o=ls(h).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Wo(r){return'href="'+At(r)+'"'}function Au(r){return'link[rel="stylesheet"]['+r+"]"}function YE(r){return x({},r,{"data-precedence":r.precedence,precedence:null})}function YC(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),dn(s,"link",o),bt(s),r.head.appendChild(s))}function Yo(r){return'[src="'+At(r)+'"]'}function Ru(r){return"script[async]"+r}function QE(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+At(o.href)+'"]');if(u)return s.instance=u,bt(u),u;var h=x({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),bt(u),dn(u,"style",h),nd(u,o.precedence,r),s.instance=u;case"stylesheet":h=Wo(o.href);var g=r.querySelector(Au(h));if(g)return s.state.loading|=4,s.instance=g,bt(g),g;u=YE(o),(h=fr.get(h))&&jm(u,h),g=(r.ownerDocument||r).createElement("link"),bt(g);var T=g;return T._p=new Promise(function(w,N){T.onload=w,T.onerror=N}),dn(g,"link",u),s.state.loading|=4,nd(g,o.precedence,r),s.instance=g;case"script":return g=Yo(o.src),(h=r.querySelector(Ru(g)))?(s.instance=h,bt(h),h):(u=o,(h=fr.get(g))&&(u=x({},o),Fm(u,h)),r=r.ownerDocument||r,h=r.createElement("script"),bt(h),dn(h,"link",u),r.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&!(s.state.loading&4)&&(u=s.instance,s.state.loading|=4,nd(u,o.precedence,r));return s.instance}function nd(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,g=h,T=0;T<u.length;T++){var w=u[T];if(w.dataset.precedence===s)g=w;else if(g!==h)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function jm(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Fm(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var rd=null;function XE(r,s,o){if(rd===null){var u=new Map,h=rd=new Map;h.set(o,u)}else h=rd,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var g=o[h];if(!(g[as]||g[Zt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(s)||"";T=r+T;var w=u.get(T);w?w.push(g):u.set(T,[g])}}return u}function ZE(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function QC(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function JE(r){return!(r.type==="stylesheet"&&!(r.state.loading&3))}var Cu=null;function XC(){}function ZC(r,s,o){if(Cu===null)throw Error(i(475));var u=Cu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&!(s.state.loading&4)){if(s.instance===null){var h=Wo(o.href),g=r.querySelector(Au(h));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=id.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=g,bt(g);return}g=r.ownerDocument||r,o=YE(o),(h=fr.get(h))&&jm(o,h),g=g.createElement("link"),bt(g);var T=g;T._p=new Promise(function(w,N){T.onload=w,T.onerror=N}),dn(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&!(s.state.loading&3)&&(u.count++,s=id.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function JC(){if(Cu===null)throw Error(i(475));var r=Cu;return r.stylesheets&&r.count===0&&Hm(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Hm(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function id(){if(this.count--,this.count===0){if(this.stylesheets)Hm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var sd=null;function Hm(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,sd=new Map,s.forEach(eI,r),sd=null,id.call(r))}function eI(r,s){if(!(s.state.loading&4)){var o=sd.get(r);if(o)var u=o.get(null);else{o=new Map,sd.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var T=h[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}h=s.instance,T=h.getAttribute("data-precedence"),g=o.get(T)||u,g===u&&o.set(null,h),o.set(T,h),this.count++,u=id.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),g?g.parentNode.insertBefore(h,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),s.state.loading|=4}}var Iu={$$typeof:S,Provider:null,Consumer:null,_currentValue:Me,_currentValue2:Me,_threadCount:0};function tI(r,s,o,u,h,g,T,w){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=uo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uo(0),this.hiddenUpdates=uo(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function eb(r,s,o,u,h,g,T,w,N,H,ne,ae){return r=new tI(r,s,o,T,w,N,H,ae),s=1,g===!0&&(s|=24),g=ur(3,null,null,s),r.current=g,g.stateNode=r,s=bp(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},tm(g),r}function tb(r){return r?(r=Co,r):Co}function nb(r,s,o,u,h,g){h=tb(h),u.context===null?u.context=h:u.pendingContext=h,u=bs(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Ts(r,u,s),o!==null&&(In(o,r,s),fu(o,r,s))}function rb(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function qm(r,s){rb(r,s),(r=r.alternate)&&rb(r,s)}function ib(r){if(r.tag===13){var s=ps(r,67108864);s!==null&&In(s,r,67108864),qm(r,67108864)}}var ad=!0;function nI(r,s,o,u){var h=C.T;C.T=null;var g=ge.p;try{ge.p=2,Gm(r,s,o,u)}finally{ge.p=g,C.T=h}}function rI(r,s,o,u){var h=C.T;C.T=null;var g=ge.p;try{ge.p=8,Gm(r,s,o,u)}finally{ge.p=g,C.T=h}}function Gm(r,s,o,u){if(ad){var h=$m(u);if(h===null)Pm(r,s,u,od,o),ab(r,u);else if(sI(h,r,s,o,u))u.stopPropagation();else if(ab(r,u),s&4&&-1<iI.indexOf(r)){for(;h!==null;){var g=hi(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Sr(g.pendingLanes);if(T!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var N=1<<31-wn(T);w.entanglements[1]|=N,T&=~N}Zr(g),!(St&6)&&(qf=_e()+500,Tu(0))}}break;case 13:w=ps(g,2),w!==null&&In(w,g,2),Kf(),qm(g,2)}if(g=$m(u),g===null&&Pm(r,s,u,od,o),g===h)break;h=g}h!==null&&u.stopPropagation()}else Pm(r,s,u,null,o)}}function $m(r){return r=mo(r),Km(r)}var od=null;function Km(r){if(od=null,r=wr(r),r!==null){var s=ve(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=Fe(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return od=r,null}function sb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Be()){case Ge:return 2;case Ke:return 8;case Qt:case oo:return 32;case ci:return 268435456;default:return 32}default:return 32}}var Wm=!1,Ds=null,xs=null,Os=null,Du=new Map,xu=new Map,Ns=[],iI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ab(r,s){switch(r){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":Du.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":xu.delete(s.pointerId)}}function Ou(r,s,o,u,h,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[h]},s!==null&&(s=hi(s),s!==null&&ib(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function sI(r,s,o,u,h){switch(s){case"focusin":return Ds=Ou(Ds,r,s,o,u,h),!0;case"dragenter":return xs=Ou(xs,r,s,o,u,h),!0;case"mouseover":return Os=Ou(Os,r,s,o,u,h),!0;case"pointerover":var g=h.pointerId;return Du.set(g,Ou(Du.get(g)||null,r,s,o,u,h)),!0;case"gotpointercapture":return g=h.pointerId,xu.set(g,Ou(xu.get(g)||null,r,s,o,u,h)),!0}return!1}function ob(r){var s=wr(r.target);if(s!==null){var o=ve(s);if(o!==null){if(s=o.tag,s===13){if(s=Fe(o),s!==null){r.blockedOn=s,ss(r.priority,function(){if(o.tag===13){var u=Hn(),h=ps(o,u);h!==null&&In(h,o,u),qm(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ld(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=$m(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);Jn=u,o.target.dispatchEvent(u),Jn=null}else return s=hi(o),s!==null&&ib(s),r.blockedOn=o,!1;s.shift()}return!0}function lb(r,s,o){ld(r)&&o.delete(s)}function aI(){Wm=!1,Ds!==null&&ld(Ds)&&(Ds=null),xs!==null&&ld(xs)&&(xs=null),Os!==null&&ld(Os)&&(Os=null),Du.forEach(lb),xu.forEach(lb)}function ud(r,s){r.blockedOn===s&&(r.blockedOn=null,Wm||(Wm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,aI)))}var cd=null;function ub(r){cd!==r&&(cd=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){cd===r&&(cd=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],h=r[s+2];if(typeof u!="function"){if(Km(u||o)===null)continue;break}var g=hi(o);g!==null&&(r.splice(s,3),s-=3,Lp(g,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function Nu(r){function s(N){return ud(N,r)}Ds!==null&&ud(Ds,r),xs!==null&&ud(xs,r),Os!==null&&ud(Os,r),Du.forEach(s),xu.forEach(s);for(var o=0;o<Ns.length;o++){var u=Ns[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Ns.length&&(o=Ns[0],o.blockedOn===null);)ob(o),o.blockedOn===null&&Ns.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],g=o[u+1],T=h[jt]||null;if(typeof g=="function")T||ub(o);else if(T){var w=null;if(g&&g.hasAttribute("formAction")){if(h=g,T=g[jt]||null)w=T.formAction;else if(Km(h)!==null)continue}else w=T.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),ub(o)}}}function Ym(r){this._internalRoot=r}fd.prototype.render=Ym.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Hn();nb(o,u,r,s,null,null)},fd.prototype.unmount=Ym.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;r.tag===0&&qo(),nb(r.current,2,null,r,null,null),Kf(),s[di]=null}};function fd(r){this._internalRoot=r}fd.prototype.unstable_scheduleHydration=function(r){if(r){var s=Xc();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Ns.length&&s!==0&&s<Ns[o].priority;o++);Ns.splice(o,0,r),o===0&&ob(r)}};var cb=e.version;if(cb!=="19.0.0")throw Error(i(527,cb,"19.0.0"));ge.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=oe(s),r=r!==null?be(r):null,r=r===null?null:r.stateNode,r};var oI={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:C,findFiberByHostInstance:wr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dd.isDisabled&&dd.supportsFiber)try{Tr=dd.inject(oI),Xt=dd}catch{}}return Mu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",h=C_,g=I_,T=D_,w=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(w=s.unstable_transitionCallbacks)),s=eb(r,1,!1,null,null,o,u,h,g,T,w,null),r[di]=s.current,Nm(r.nodeType===8?r.parentNode:r),new Ym(s)},Mu.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,h="",g=C_,T=I_,w=D_,N=null,H=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(N=o.unstable_transitionCallbacks),o.formState!==void 0&&(H=o.formState)),s=eb(r,1,!0,s,o??null,u,h,g,T,w,N,H),s.context=tb(null),o=s.current,u=Hn(),h=bs(u),h.callback=null,Ts(o,h,u),s.current.lanes=u,Ot(s,u),Zr(s),r[di]=s.current,Nm(r),new fd(s)},Mu.version="19.0.0",Mu}var Eb;function gI(){if(Eb)return Zm.exports;Eb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zm.exports=mI(),Zm.exports}var yI=gI(),ng={exports:{}},rg={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bb;function vI(){if(bb)return rg;bb=1;var t=Th();function e(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,a=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return rg.useSyncExternalStoreWithSelector=function(p,m,y,_,E){var S=a(null);if(S.current===null){var R={hasValue:!1,value:null};S.current=R}else R=S.current;S=c(function(){function D(X){if(!z){if(z=!0,F=X,X=_(X),E!==void 0&&R.hasValue){var se=R.value;if(E(se,X))return q=se}return q=X}if(se=q,n(F,X))return se;var P=_(X);return E!==void 0&&E(se,P)?(F=X,se):(F=X,q=P)}var z=!1,F,q,Z=y===void 0?null:y;return[function(){return D(m())},Z===null?void 0:function(){return D(Z())}]},[m,y,_,E]);var M=i(p,S[0],S[1]);return l(function(){R.hasValue=!0,R.value=M},[M]),d(M),M},rg}var Tb;function _I(){return Tb||(Tb=1,ng.exports=vI()),ng.exports}var EI=_I(),bI=k.version.startsWith("19"),TI=Symbol.for(bI?"react.transitional.element":"react.element"),SI=Symbol.for("react.portal"),wI=Symbol.for("react.fragment"),AI=Symbol.for("react.strict_mode"),RI=Symbol.for("react.profiler"),CI=Symbol.for("react.consumer"),II=Symbol.for("react.context"),pS=Symbol.for("react.forward_ref"),DI=Symbol.for("react.suspense"),xI=Symbol.for("react.suspense_list"),Iy=Symbol.for("react.memo"),OI=Symbol.for("react.lazy"),NI=pS,PI=Iy;function MI(t){if(typeof t=="object"&&t!==null){const{$$typeof:e}=t;switch(e){case TI:switch(t=t.type,t){case wI:case RI:case AI:case DI:case xI:return t;default:switch(t=t&&t.$$typeof,t){case II:case pS:case OI:case Iy:return t;case CI:return t;default:return e}}case SI:return e}}}function kI(t){return MI(t)===Iy}function VI(t,e,n,i,{areStatesEqual:a,areOwnPropsEqual:l,areStatePropsEqual:c}){let d=!1,p,m,y,_,E;function S(F,q){return p=F,m=q,y=t(p,m),_=e(i,m),E=n(y,_,m),d=!0,E}function R(){return y=t(p,m),e.dependsOnOwnProps&&(_=e(i,m)),E=n(y,_,m),E}function M(){return t.dependsOnOwnProps&&(y=t(p,m)),e.dependsOnOwnProps&&(_=e(i,m)),E=n(y,_,m),E}function D(){const F=t(p,m),q=!c(F,y);return y=F,q&&(E=n(y,_,m)),E}function z(F,q){const Z=!l(q,m),X=!a(F,p,q,m);return p=F,m=q,Z&&X?R():Z?M():X?D():E}return function(q,Z){return d?z(q,Z):S(q,Z)}}function LI(t,{initMapStateToProps:e,initMapDispatchToProps:n,initMergeProps:i,...a}){const l=e(t,a),c=n(t,a),d=i(t,a);return VI(l,c,d,t,a)}function UI(t,e){const n={};for(const i in t){const a=t[i];typeof a=="function"&&(n[i]=(...l)=>e(a(...l)))}return n}function Ug(t){return function(n){const i=t(n);function a(){return i}return a.dependsOnOwnProps=!1,a}}function Sb(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function mS(t,e){return function(i,{displayName:a}){const l=function(d,p){return l.dependsOnOwnProps?l.mapToProps(d,p):l.mapToProps(d,void 0)};return l.dependsOnOwnProps=!0,l.mapToProps=function(d,p){l.mapToProps=t,l.dependsOnOwnProps=Sb(t);let m=l(d,p);return typeof m=="function"&&(l.mapToProps=m,l.dependsOnOwnProps=Sb(m),m=l(d,p)),m},l}}function Dy(t,e){return(n,i)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${i.wrappedComponentName}.`)}}function BI(t){return t&&typeof t=="object"?Ug(e=>UI(t,e)):t?typeof t=="function"?mS(t):Dy(t,"mapDispatchToProps"):Ug(e=>({dispatch:e}))}function zI(t){return t?typeof t=="function"?mS(t):Dy(t,"mapStateToProps"):Ug(()=>({}))}function jI(t,e,n){return{...n,...t,...e}}function FI(t){return function(n,{displayName:i,areMergedPropsEqual:a}){let l=!1,c;return function(p,m,y){const _=t(p,m,y);return l?a(_,c)||(c=_):(l=!0,c=_),c}}}function HI(t){return t?typeof t=="function"?FI(t):Dy(t,"mergeProps"):()=>jI}function qI(t){t()}function GI(){let t=null,e=null;return{clear(){t=null,e=null},notify(){qI(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!i||t===null||(i=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var wb={notify(){},get:()=>[]};function gS(t,e){let n,i=wb,a=0,l=!1;function c(M){y();const D=i.subscribe(M);let z=!1;return()=>{z||(z=!0,D(),_())}}function d(){i.notify()}function p(){R.onStateChange&&R.onStateChange()}function m(){return l}function y(){a++,n||(n=e?e.addNestedSub(p):t.subscribe(p),i=GI())}function _(){a--,n&&a===0&&(n(),n=void 0,i.clear(),i=wb)}function E(){l||(l=!0,y())}function S(){l&&(l=!1,_())}const R={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:p,isSubscribed:m,trySubscribe:E,tryUnsubscribe:S,getListeners:()=>i};return R}var $I=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KI=$I(),WI=()=>typeof navigator<"u"&&navigator.product==="ReactNative",YI=WI(),QI=()=>KI||YI?k.useLayoutEffect:k.useEffect,Ud=QI();function Ab(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function ig(t,e){if(Ab(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(e,n[a])||!Ab(t[n[a]],e[n[a]]))return!1;return!0}var XI={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ZI={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},JI={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},yS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},eD={[NI]:JI,[PI]:yS};function Rb(t){return kI(t)?yS:eD[t.$$typeof]||XI}var tD=Object.defineProperty,nD=Object.getOwnPropertyNames,Cb=Object.getOwnPropertySymbols,rD=Object.getOwnPropertyDescriptor,iD=Object.getPrototypeOf,Ib=Object.prototype;function Bg(t,e){if(typeof e!="string"){if(Ib){const l=iD(e);l&&l!==Ib&&Bg(t,l)}let n=nD(e);Cb&&(n=n.concat(Cb(e)));const i=Rb(t),a=Rb(e);for(let l=0;l<n.length;++l){const c=n[l];if(!ZI[c]&&!(a&&a[c])&&!(i&&i[c])){const d=rD(e,c);try{tD(t,c,d)}catch{}}}}return t}var sg=Symbol.for("react-redux-context"),ag=typeof globalThis<"u"?globalThis:{};function sD(){if(!k.createContext)return{};const t=ag[sg]??(ag[sg]=new Map);let e=t.get(k.createContext);return e||(e=k.createContext(null),t.set(k.createContext,e)),e}var Gi=sD(),aD=[null,null];function oD(t,e,n){Ud(()=>t(...e),n)}function lD(t,e,n,i,a,l){t.current=i,n.current=!1,a.current&&(a.current=null,l())}function uD(t,e,n,i,a,l,c,d,p,m,y){if(!t)return()=>{};let _=!1,E=null;const S=()=>{if(_||!d.current)return;const M=e.getState();let D,z;try{D=i(M,a.current)}catch(F){z=F,E=F}z||(E=null),D===l.current?c.current||m():(l.current=D,p.current=D,c.current=!0,y())};return n.onStateChange=S,n.trySubscribe(),S(),()=>{if(_=!0,n.tryUnsubscribe(),n.onStateChange=null,E)throw E}}function cD(t,e){return t===e}function fD(t,e,n,{pure:i,areStatesEqual:a=cD,areOwnPropsEqual:l=ig,areStatePropsEqual:c=ig,areMergedPropsEqual:d=ig,forwardRef:p=!1,context:m=Gi}={}){const y=m,_=zI(t),E=BI(e),S=HI(n),R=!!t;return D=>{const z=D.displayName||D.name||"Component",F=`Connect(${z})`,q={shouldHandleStateChanges:R,displayName:F,wrappedComponentName:z,WrappedComponent:D,initMapStateToProps:_,initMapDispatchToProps:E,initMergeProps:S,areStatesEqual:a,areStatePropsEqual:c,areOwnPropsEqual:l,areMergedPropsEqual:d};function Z(P){const[I,C,x]=k.useMemo(()=>{const{reactReduxForwardedRef:_t,...xt}=P;return[P.context,_t,xt]},[P]),V=k.useMemo(()=>{let _t=y;return I!=null&&I.Consumer,_t},[I,y]),L=k.useContext(V),O=!!P.store&&!!P.store.getState&&!!P.store.dispatch,Ue=!!L&&!!L.store,Ne=O?P.store:L.store,ue=Ue?L.getServerState:Ne.getState,Ee=k.useMemo(()=>LI(Ne.dispatch,q),[Ne]),[ve,Fe]=k.useMemo(()=>{if(!R)return aD;const _t=gS(Ne,O?void 0:L.subscription),xt=_t.notifyNestedSubs.bind(_t);return[_t,xt]},[Ne,O,L]),B=k.useMemo(()=>O?L:{...L,subscription:ve},[O,L,ve]),oe=k.useRef(void 0),be=k.useRef(x),me=k.useRef(void 0),ge=k.useRef(!1),Me=k.useRef(!1),xe=k.useRef(void 0);Ud(()=>(Me.current=!0,()=>{Me.current=!1}),[]);const mt=k.useMemo(()=>()=>me.current&&x===be.current?me.current:Ee(Ne.getState(),x),[Ne,x]),qe=k.useMemo(()=>xt=>ve?uD(R,Ne,ve,Ee,be,oe,ge,Me,me,Fe,xt):()=>{},[ve]);oD(lD,[be,oe,ge,x,me,Fe]);let lt;try{lt=k.useSyncExternalStore(qe,mt,ue?()=>Ee(ue(),x):mt)}catch(_t){throw xe.current&&(_t.message+=`
The error may be correlated with this previous error:
${xe.current.stack}

`),_t}Ud(()=>{xe.current=void 0,me.current=void 0,oe.current=lt});const Xe=k.useMemo(()=>k.createElement(D,{...lt,ref:C}),[C,D,lt]);return k.useMemo(()=>R?k.createElement(V.Provider,{value:B},Xe):Xe,[V,Xe,B])}const se=k.memo(Z);if(se.WrappedComponent=D,se.displayName=Z.displayName=F,p){const I=k.forwardRef(function(x,V){return k.createElement(se,{...x,reactReduxForwardedRef:V})});return I.displayName=F,I.WrappedComponent=D,Bg(I,D)}return Bg(se,D)}}var vS=fD;function dD(t){const{children:e,context:n,serverState:i,store:a}=t,l=k.useMemo(()=>{const p=gS(a);return{store:a,subscription:p,getServerState:i?()=>i:void 0}},[a,i]),c=k.useMemo(()=>a.getState(),[a]);Ud(()=>{const{subscription:p}=l;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),c!==a.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[l,c]);const d=n||Gi;return k.createElement(d.Provider,{value:l},e)}var _S=dD;function xy(t=Gi){return function(){return k.useContext(t)}}var ES=xy();function bS(t=Gi){const e=t===Gi?ES:xy(t),n=()=>{const{store:i}=e();return i};return Object.assign(n,{withTypes:()=>n}),n}var hD=bS();function pD(t=Gi){const e=t===Gi?hD:bS(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Vn=pD(),mD=(t,e)=>t===e;function gD(t=Gi){const e=t===Gi?ES:xy(t),n=(i,a={})=>{const{equalityFn:l=mD}=typeof a=="function"?{equalityFn:a}:a,c=e(),{store:d,subscription:p,getServerState:m}=c;k.useRef(!0);const y=k.useCallback({[i.name](E){return i(E)}}[i.name],[i]),_=EI.useSyncExternalStoreWithSelector(p.addNestedSub,d.getState,m||d.getState,y,l);return k.useDebugValue(_),_};return Object.assign(n,{withTypes:()=>n}),n}var Tn=gD(),ku={},Db;function yD(){if(Db)return ku;Db=1,Object.defineProperty(ku,"__esModule",{value:!0}),ku.parse=c,ku.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function c(E,S){const R=new l,M=E.length;if(M<2)return R;const D=(S==null?void 0:S.decode)||y;let z=0;do{const F=E.indexOf("=",z);if(F===-1)break;const q=E.indexOf(";",z),Z=q===-1?M:q;if(F>Z){z=E.lastIndexOf(";",F-1)+1;continue}const X=d(E,z,F),se=p(E,F,X),P=E.slice(X,se);if(R[P]===void 0){let I=d(E,F+1,Z),C=p(E,Z,I);const x=D(E.slice(I,C));R[P]=x}z=Z+1}while(z<M);return R}function d(E,S,R){do{const M=E.charCodeAt(S);if(M!==32&&M!==9)return S}while(++S<R);return R}function p(E,S,R){for(;S>R;){const M=E.charCodeAt(--S);if(M!==32&&M!==9)return S+1}return R}function m(E,S,R){const M=(R==null?void 0:R.encode)||encodeURIComponent;if(!t.test(E))throw new TypeError(`argument name is invalid: ${E}`);const D=M(S);if(!e.test(D))throw new TypeError(`argument val is invalid: ${S}`);let z=E+"="+D;if(!R)return z;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);z+="; Max-Age="+R.maxAge}if(R.domain){if(!n.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);z+="; Domain="+R.domain}if(R.path){if(!i.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);z+="; Path="+R.path}if(R.expires){if(!_(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);z+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(z+="; HttpOnly"),R.secure&&(z+="; Secure"),R.partitioned&&(z+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":z+="; Priority=Low";break;case"medium":z+="; Priority=Medium";break;case"high":z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"none":z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return z}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return a.call(E)==="[object Date]"}return ku}yD();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var xb="popstate";function vD(t={}){function e(a,l){let{pathname:c="/",search:d="",hash:p=""}=eo(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),zg("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let p=a.location.href,m=p.indexOf("#");d=m===-1?p:p.slice(0,m)}return d+"#"+(typeof l=="string"?l:lc(l))}function i(a,l){_r(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return ED(e,n,i,t)}function Et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _r(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _D(){return Math.random().toString(36).substring(2,10)}function Ob(t,e){return{usr:t.state,key:t.key,idx:e}}function zg(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?eo(e):e,state:n,key:e&&e.key||i||_D()}}function lc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function eo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function ED(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",p=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function _(){d="POP";let D=y(),z=D==null?null:D-m;m=D,p&&p({action:d,location:M.location,delta:z})}function E(D,z){d="PUSH";let F=zg(M.location,D,z);n&&n(F,D),m=y()+1;let q=Ob(F,m),Z=M.createHref(F);try{c.pushState(q,"",Z)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;a.location.assign(Z)}l&&p&&p({action:d,location:M.location,delta:1})}function S(D,z){d="REPLACE";let F=zg(M.location,D,z);n&&n(F,D),m=y();let q=Ob(F,m),Z=M.createHref(F);c.replaceState(q,"",Z),l&&p&&p({action:d,location:M.location,delta:0})}function R(D){let z=a.location.origin!=="null"?a.location.origin:a.location.href,F=typeof D=="string"?D:lc(D);return F=F.replace(/ $/,"%20"),Et(z,`No window.location.(origin|href) available to create URL for href: ${F}`),new URL(F,z)}let M={get action(){return d},get location(){return t(a,c)},listen(D){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(xb,_),p=D,()=>{a.removeEventListener(xb,_),p=null}},createHref(D){return e(a,D)},createURL:R,encodeLocation(D){let z=R(D);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:E,replace:S,go(D){return c.go(D)}};return M}function TS(t,e,n="/"){return bD(t,e,n,!1)}function bD(t,e,n,i){let a=typeof e=="string"?eo(e):e,l=$i(a.pathname||"/",n);if(l==null)return null;let c=SS(t);TD(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let m=PD(l);d=OD(c[p],m,i)}return d}function SS(t,e=[],n=[],i=""){let a=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(Et(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let m=ji([i,p.relativePath]),y=n.concat(p);l.children&&l.children.length>0&&(Et(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),SS(l.children,e,y,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:DD(m,l.index),routesMeta:y})};return t.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let p of wS(l.path))a(l,c,p)}),e}function wS(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=wS(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&d.push(...c),d.map(p=>t.startsWith("/")&&p===""?"/":p)}function TD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:xD(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var SD=/^:[\w-]+$/,wD=3,AD=2,RD=1,CD=10,ID=-2,Nb=t=>t==="*";function DD(t,e){let n=t.split("/"),i=n.length;return n.some(Nb)&&(i+=ID),e&&(i+=AD),n.filter(a=>!Nb(a)).reduce((a,l)=>a+(SD.test(l)?wD:l===""?RD:CD),i)}function xD(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function OD(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],m=d===i.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=Bd({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),E=p.route;if(!_&&m&&n&&!i[i.length-1].route.index&&(_=Bd({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:ji([l,_.pathname]),pathnameBase:LD(ji([l,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(l=ji([l,_.pathnameBase]))}return c}function Bd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=ND(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:_},E)=>{if(y==="*"){let R=d[E]||"";c=l.slice(0,l.length-R.length).replace(/(.)\/+$/,"$1")}const S=d[E];return _&&!S?m[y]=void 0:m[y]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function ND(t,e=!1,n=!0){_r(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function PD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _r(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function $i(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function MD(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?eo(t):t;return{pathname:n?n.startsWith("/")?n:kD(n,e):e,search:UD(i),hash:BD(a)}}function kD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function og(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function VD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Oy(t){let e=VD(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Ny(t,e,n,i=!1){let a;typeof t=="string"?a=eo(t):(a={...t},Et(!a.pathname||!a.pathname.includes("?"),og("?","pathname","search",a)),Et(!a.pathname||!a.pathname.includes("#"),og("#","pathname","hash",a)),Et(!a.search||!a.search.includes("#"),og("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let _=e.length-1;if(!i&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}d=_>=0?e[_]:"/"}let p=MD(a,d),m=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}var ji=t=>t.join("/").replace(/\/\/+/g,"/"),LD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),UD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function zD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var AS=["POST","PUT","PATCH","DELETE"];new Set(AS);var jD=["GET",...AS];new Set(jD);var bl=k.createContext(null);bl.displayName="DataRouter";var Sh=k.createContext(null);Sh.displayName="DataRouterState";var RS=k.createContext({isTransitioning:!1});RS.displayName="ViewTransition";var FD=k.createContext(new Map);FD.displayName="Fetchers";var HD=k.createContext(null);HD.displayName="Await";var Mr=k.createContext(null);Mr.displayName="Navigation";var Oc=k.createContext(null);Oc.displayName="Location";var kr=k.createContext({outlet:null,matches:[],isDataRoute:!1});kr.displayName="Route";var Py=k.createContext(null);Py.displayName="RouteError";function qD(t,{relative:e}={}){Et(Tl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=k.useContext(Mr),{hash:a,pathname:l,search:c}=Pc(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:ji([n,l])),i.createHref({pathname:d,search:c,hash:a})}function Tl(){return k.useContext(Oc)!=null}function na(){return Et(Tl(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Oc).location}var CS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function IS(t){k.useContext(Mr).static||k.useLayoutEffect(t)}function Nc(){let{isDataRoute:t}=k.useContext(kr);return t?sx():GD()}function GD(){Et(Tl(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(bl),{basename:e,navigator:n}=k.useContext(Mr),{matches:i}=k.useContext(kr),{pathname:a}=na(),l=JSON.stringify(Oy(i)),c=k.useRef(!1);return IS(()=>{c.current=!0}),k.useCallback((p,m={})=>{if(_r(c.current,CS),!c.current)return;if(typeof p=="number"){n.go(p);return}let y=Ny(p,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ji([e,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[e,n,l,a,t])}var $D=k.createContext(null);function KD(t){let e=k.useContext(kr).outlet;return e&&k.createElement($D.Provider,{value:t},e)}function Pc(t,{relative:e}={}){let{matches:n}=k.useContext(kr),{pathname:i}=na(),a=JSON.stringify(Oy(n));return k.useMemo(()=>Ny(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function WD(t,e){return DS(t,e)}function DS(t,e,n,i){var F;Et(Tl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=k.useContext(Mr),{matches:c}=k.useContext(kr),d=c[c.length-1],p=d?d.params:{},m=d?d.pathname:"/",y=d?d.pathnameBase:"/",_=d&&d.route;{let q=_&&_.path||"";xS(m,!_||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let E=na(),S;if(e){let q=typeof e=="string"?eo(e):e;Et(y==="/"||((F=q.pathname)==null?void 0:F.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${q.pathname}" was given in the \`location\` prop.`),S=q}else S=E;let R=S.pathname||"/",M=R;if(y!=="/"){let q=y.replace(/^\//,"").split("/");M="/"+R.replace(/^\//,"").split("/").slice(q.length).join("/")}let D=!l&&n&&n.matches&&n.matches.length>0?n.matches:TS(t,{pathname:M});_r(_||D!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),_r(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=JD(D&&D.map(q=>Object.assign({},q,{params:Object.assign({},p,q.params),pathname:ji([y,a.encodeLocation?a.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?y:ji([y,a.encodeLocation?a.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),c,n,i);return e&&z?k.createElement(Oc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},z):z}function YD(){let t=ix(),e=zD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:l},"ErrorBoundary")," or"," ",k.createElement("code",{style:l},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:a},n):null,c)}var QD=k.createElement(YD,null),XD=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?k.createElement(kr.Provider,{value:this.props.routeContext},k.createElement(Py.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ZD({routeContext:t,match:e,children:n}){let i=k.useContext(bl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(kr.Provider,{value:t},n)}function JD(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let p=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);Et(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,d=-1;if(n)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:y,errors:_}=n,E=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!_||_[m.route.id]===void 0);if(m.route.lazy||E){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,m,y)=>{let _,E=!1,S=null,R=null;n&&(_=l&&m.route.id?l[m.route.id]:void 0,S=m.route.errorElement||QD,c&&(d<0&&y===0?(xS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,R=null):d===y&&(E=!0,R=m.route.hydrateFallbackElement||null)));let M=e.concat(a.slice(0,y+1)),D=()=>{let z;return _?z=S:E?z=R:m.route.Component?z=k.createElement(m.route.Component,null):m.route.element?z=m.route.element:z=p,k.createElement(ZD,{match:m,routeContext:{outlet:p,matches:M,isDataRoute:n!=null},children:z})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?k.createElement(XD,{location:n.location,revalidation:n.revalidation,component:S,error:_,children:D(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):D()},null)}function My(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ex(t){let e=k.useContext(bl);return Et(e,My(t)),e}function tx(t){let e=k.useContext(Sh);return Et(e,My(t)),e}function nx(t){let e=k.useContext(kr);return Et(e,My(t)),e}function ky(t){let e=nx(t),n=e.matches[e.matches.length-1];return Et(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function rx(){return ky("useRouteId")}function ix(){var i;let t=k.useContext(Py),e=tx("useRouteError"),n=ky("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function sx(){let{router:t}=ex("useNavigate"),e=ky("useNavigate"),n=k.useRef(!1);return IS(()=>{n.current=!0}),k.useCallback(async(a,l={})=>{_r(n.current,CS),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Pb={};function xS(t,e,n){!e&&!Pb[t]&&(Pb[t]=!0,_r(!1,n))}k.memo(ax);function ax({routes:t,future:e,state:n}){return DS(t,void 0,n,e)}function OS({to:t,replace:e,state:n,relative:i}){Et(Tl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=k.useContext(Mr);_r(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=k.useContext(kr),{pathname:c}=na(),d=Nc(),p=Ny(t,Oy(l),c,i==="path"),m=JSON.stringify(p);return k.useEffect(()=>{d(JSON.parse(m),{replace:e,state:n,relative:i})},[d,m,i,e,n]),null}function NS(t){return KD(t.context)}function Ua(t){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ox({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1}){Et(!Tl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=k.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=eo(n));let{pathname:p="/",search:m="",hash:y="",state:_=null,key:E="default"}=n,S=k.useMemo(()=>{let R=$i(p,c);return R==null?null:{location:{pathname:R,search:m,hash:y,state:_,key:E},navigationType:i}},[c,p,m,y,_,E,i]);return _r(S!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:k.createElement(Mr.Provider,{value:d},k.createElement(Oc.Provider,{children:e,value:S}))}function lx({children:t,location:e}){return WD(jg(t),e)}function jg(t,e=[]){let n=[];return k.Children.forEach(t,(i,a)=>{if(!k.isValidElement(i))return;let l=[...e,a];if(i.type===k.Fragment){n.push.apply(n,jg(i.props.children,l));return}Et(i.type===Ua,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=jg(i.props.children,l)),n.push(c)}),n}var wd="get",Ad="application/x-www-form-urlencoded";function wh(t){return t!=null&&typeof t.tagName=="string"}function ux(t){return wh(t)&&t.tagName.toLowerCase()==="button"}function cx(t){return wh(t)&&t.tagName.toLowerCase()==="form"}function fx(t){return wh(t)&&t.tagName.toLowerCase()==="input"}function dx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hx(t,e){return t.button===0&&(!e||e==="_self")&&!dx(t)}var hd=null;function px(){if(hd===null)try{new FormData(document.createElement("form"),0),hd=!1}catch{hd=!0}return hd}var mx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lg(t){return t!=null&&!mx.has(t)?(_r(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ad}"`),null):t}function gx(t,e){let n,i,a,l,c;if(cx(t)){let d=t.getAttribute("action");i=d?$i(d,e):null,n=t.getAttribute("method")||wd,a=lg(t.getAttribute("enctype"))||Ad,l=new FormData(t)}else if(ux(t)||fx(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||d.getAttribute("action");if(i=p?$i(p,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||wd,a=lg(t.getAttribute("formenctype"))||lg(d.getAttribute("enctype"))||Ad,l=new FormData(d,t),!px()){let{name:m,type:y,value:_}=t;if(y==="image"){let E=m?`${m}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else m&&l.append(m,_)}}else{if(wh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wd,i=null,a=Ad,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:c}}function Vy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function yx(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vx(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function _x(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await yx(l,n);return c.links?c.links():[]}return[]}));return Sx(i.flat(1).filter(vx).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Mb(t,e,n,i,a,l){let c=(p,m)=>n[m]?p.route.id!==n[m].route.id:!0,d=(p,m)=>{var y;return n[m].pathname!==p.pathname||((y=n[m].route.path)==null?void 0:y.endsWith("*"))&&n[m].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,m)=>c(p,m)||d(p,m)):l==="data"?e.filter((p,m)=>{var _;let y=i.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(c(p,m)||d(p,m))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function Ex(t,e,{includeHydrateFallback:n}={}){return bx(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function bx(t){return[...new Set(t)]}function Tx(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function Sx(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(Tx(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function wx(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&$i(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function PS(){let t=k.useContext(bl);return Vy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Ax(){let t=k.useContext(Sh);return Vy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ly=k.createContext(void 0);Ly.displayName="FrameworkContext";function MS(){let t=k.useContext(Ly);return Vy(t,"You must render this element inside a <HydratedRouter> element"),t}function Rx(t,e){let n=k.useContext(Ly),[i,a]=k.useState(!1),[l,c]=k.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:m,onMouseLeave:y,onTouchStart:_}=e,E=k.useRef(null);k.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let M=z=>{z.forEach(F=>{c(F.isIntersecting)})},D=new IntersectionObserver(M,{threshold:.5});return E.current&&D.observe(E.current),()=>{D.disconnect()}}},[t]),k.useEffect(()=>{if(i){let M=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(M)}}},[i]);let S=()=>{a(!0)},R=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,E,{}]:[l,E,{onFocus:Vu(d,S),onBlur:Vu(p,R),onMouseEnter:Vu(m,S),onMouseLeave:Vu(y,R),onTouchStart:Vu(_,S)}]:[!1,E,{}]}function Vu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Cx({page:t,...e}){let{router:n}=PS(),i=k.useMemo(()=>TS(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?k.createElement(Dx,{page:t,matches:i,...e}):null}function Ix(t){let{manifest:e,routeModules:n}=MS(),[i,a]=k.useState([]);return k.useEffect(()=>{let l=!1;return _x(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),i}function Dx({page:t,matches:e,...n}){let i=na(),{manifest:a,routeModules:l}=MS(),{basename:c}=PS(),{loaderData:d,matches:p}=Ax(),m=k.useMemo(()=>Mb(t,e,p,a,i,"data"),[t,e,p,a,i]),y=k.useMemo(()=>Mb(t,e,p,a,i,"assets"),[t,e,p,a,i]),_=k.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let R=new Set,M=!1;if(e.forEach(z=>{var q;let F=a.routes[z.route.id];!F||!F.hasLoader||(!m.some(Z=>Z.route.id===z.route.id)&&z.route.id in d&&((q=l[z.route.id])!=null&&q.shouldRevalidate)||F.hasClientLoader?M=!0:R.add(z.route.id))}),R.size===0)return[];let D=wx(t,c);return M&&R.size>0&&D.searchParams.set("_routes",e.filter(z=>R.has(z.route.id)).map(z=>z.route.id).join(",")),[D.pathname+D.search]},[c,d,i,a,m,e,t,l]),E=k.useMemo(()=>Ex(y,a),[y,a]),S=Ix(y);return k.createElement(k.Fragment,null,_.map(R=>k.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),E.map(R=>k.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),S.map(({key:R,link:M})=>k.createElement("link",{key:R,...M})))}function xx(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var kS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kS&&(window.__reactRouterVersion="7.3.0")}catch{}function Ox({basename:t,children:e,window:n}){let i=k.useRef();i.current==null&&(i.current=vD({window:n,v5Compat:!0}));let a=i.current,[l,c]=k.useState({action:a.action,location:a.location}),d=k.useCallback(p=>{k.startTransition(()=>c(p))},[c]);return k.useLayoutEffect(()=>a.listen(d),[a,d]),k.createElement(ox,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var VS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ah=k.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:p,to:m,preventScrollReset:y,viewTransition:_,...E},S){let{basename:R}=k.useContext(Mr),M=typeof m=="string"&&VS.test(m),D,z=!1;if(typeof m=="string"&&M&&(D=m,kS))try{let C=new URL(window.location.href),x=m.startsWith("//")?new URL(C.protocol+m):new URL(m),V=$i(x.pathname,R);x.origin===C.origin&&V!=null?m=V+x.search+x.hash:z=!0}catch{_r(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=qD(m,{relative:a}),[q,Z,X]=Rx(i,E),se=kx(m,{replace:c,state:d,target:p,preventScrollReset:y,relative:a,viewTransition:_});function P(C){e&&e(C),C.defaultPrevented||se(C)}let I=k.createElement("a",{...E,...X,href:D||F,onClick:z||l?e:P,ref:xx(S,Z),target:p,"data-discover":!M&&n==="render"?"true":void 0});return q&&!M?k.createElement(k.Fragment,null,I,k.createElement(Cx,{page:F})):I});Ah.displayName="Link";var Nx=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:p,...m},y){let _=Pc(c,{relative:m.relative}),E=na(),S=k.useContext(Sh),{navigator:R,basename:M}=k.useContext(Mr),D=S!=null&&zx(_)&&d===!0,z=R.encodeLocation?R.encodeLocation(_).pathname:_.pathname,F=E.pathname,q=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(F=F.toLowerCase(),q=q?q.toLowerCase():null,z=z.toLowerCase()),q&&M&&(q=$i(q,M)||q);const Z=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let X=F===z||!a&&F.startsWith(z)&&F.charAt(Z)==="/",se=q!=null&&(q===z||!a&&q.startsWith(z)&&q.charAt(z.length)==="/"),P={isActive:X,isPending:se,isTransitioning:D},I=X?e:void 0,C;typeof i=="function"?C=i(P):C=[i,X?"active":null,se?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let x=typeof l=="function"?l(P):l;return k.createElement(Ah,{...m,"aria-current":I,className:C,ref:y,style:x,to:c,viewTransition:d},typeof p=="function"?p(P):p)});Nx.displayName="NavLink";var Px=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:c=wd,action:d,onSubmit:p,relative:m,preventScrollReset:y,viewTransition:_,...E},S)=>{let R=Ux(),M=Bx(d,{relative:m}),D=c.toLowerCase()==="get"?"get":"post",z=typeof d=="string"&&VS.test(d),F=q=>{if(p&&p(q),q.defaultPrevented)return;q.preventDefault();let Z=q.nativeEvent.submitter,X=(Z==null?void 0:Z.getAttribute("formmethod"))||c;R(Z||q.currentTarget,{fetcherKey:e,method:X,navigate:n,replace:a,state:l,relative:m,preventScrollReset:y,viewTransition:_})};return k.createElement("form",{ref:S,method:D,action:M,onSubmit:i?p:F,...E,"data-discover":!z&&t==="render"?"true":void 0})});Px.displayName="Form";function Mx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LS(t){let e=k.useContext(bl);return Et(e,Mx(t)),e}function kx(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=Nc(),p=na(),m=Pc(t,{relative:l});return k.useCallback(y=>{if(hx(y,e)){y.preventDefault();let _=n!==void 0?n:lc(p)===lc(m);d(t,{replace:_,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[p,d,m,n,i,e,t,a,l,c])}var Vx=0,Lx=()=>`__${String(++Vx)}__`;function Ux(){let{router:t}=LS("useSubmit"),{basename:e}=k.useContext(Mr),n=rx();return k.useCallback(async(i,a={})=>{let{action:l,method:c,encType:d,formData:p,body:m}=gx(i,e);if(a.navigate===!1){let y=a.fetcherKey||Lx();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:m,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:m,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function Bx(t,{relative:e}={}){let{basename:n}=k.useContext(Mr),i=k.useContext(kr);Et(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Pc(t||".",{relative:e})},c=na();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(y=>y==="")){d.delete("index"),p.filter(_=>_).forEach(_=>d.append("index",_));let y=d.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ji([n,l.pathname])),lc(l)}function zx(t,e={}){let n=k.useContext(RS);Et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=LS("useViewTransitionState"),a=Pc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=$i(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=$i(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Bd(a.pathname,c)!=null||Bd(a.pathname,l)!=null}new TextEncoder;var Uy=hS();const jx=Cy(Uy);function sn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Fx=typeof Symbol=="function"&&Symbol.observable||"@@observable",kb=Fx,ug=()=>Math.random().toString(36).substring(7).split("").join("."),Hx={INIT:`@@redux/INIT${ug()}`,REPLACE:`@@redux/REPLACE${ug()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ug()}`},zd=Hx;function By(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function zy(t,e,n){if(typeof t!="function")throw new Error(sn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(sn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(sn(1));return n(zy)(t,e)}let i=t,a=e,l=new Map,c=l,d=0,p=!1;function m(){c===l&&(c=new Map,l.forEach((D,z)=>{c.set(z,D)}))}function y(){if(p)throw new Error(sn(3));return a}function _(D){if(typeof D!="function")throw new Error(sn(4));if(p)throw new Error(sn(5));let z=!0;m();const F=d++;return c.set(F,D),function(){if(z){if(p)throw new Error(sn(6));z=!1,m(),c.delete(F),l=null}}}function E(D){if(!By(D))throw new Error(sn(7));if(typeof D.type>"u")throw new Error(sn(8));if(typeof D.type!="string")throw new Error(sn(17));if(p)throw new Error(sn(9));try{p=!0,a=i(a,D)}finally{p=!1}return(l=c).forEach(F=>{F()}),D}function S(D){if(typeof D!="function")throw new Error(sn(10));i=D,E({type:zd.REPLACE})}function R(){const D=_;return{subscribe(z){if(typeof z!="object"||z===null)throw new Error(sn(11));function F(){const Z=z;Z.next&&Z.next(y())}return F(),{unsubscribe:D(F)}},[kb](){return this}}}return E({type:zd.INIT}),{dispatch:E,subscribe:_,getState:y,replaceReducer:S,[kb]:R}}function qx(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:zd.INIT})>"u")throw new Error(sn(12));if(typeof n(void 0,{type:zd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(sn(13))})}function Gx(t){const e=Object.keys(t),n={};for(let l=0;l<e.length;l++){const c=e[l];typeof t[c]=="function"&&(n[c]=t[c])}const i=Object.keys(n);let a;try{qx(n)}catch(l){a=l}return function(c={},d){if(a)throw a;let p=!1;const m={};for(let y=0;y<i.length;y++){const _=i[y],E=n[_],S=c[_],R=E(S,d);if(typeof R>"u")throw d&&d.type,new Error(sn(14));m[_]=R,p=p||R!==S}return p=p||i.length!==Object.keys(c).length,p?m:c}}function Vb(t,e){return function(...n){return e(t.apply(this,n))}}function Lb(t,e){if(typeof t=="function")return Vb(t,e);if(typeof t!="object"||t===null)throw new Error(sn(16));const n={};for(const i in t){const a=t[i];typeof a=="function"&&(n[i]=Vb(a,e))}return n}function uc(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function US(...t){return e=>(n,i)=>{const a=e(n,i);let l=()=>{throw new Error(sn(15))};const c={getState:a.getState,dispatch:(p,...m)=>l(p,...m)},d=t.map(p=>p(c));return l=uc(...d)(a.dispatch),{...a,dispatch:l}}}function $x(t){return By(t)&&"type"in t&&typeof t.type=="string"}var BS=Symbol.for("immer-nothing"),Ub=Symbol.for("immer-draftable"),Wn=Symbol.for("immer-state");function Dr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ul=Object.getPrototypeOf;function Ga(t){return!!t&&!!t[Wn]}function Ki(t){var e;return t?zS(t)||Array.isArray(t)||!!t[Ub]||!!((e=t.constructor)!=null&&e[Ub])||Ch(t)||Ih(t):!1}var Kx=Object.prototype.constructor.toString();function zS(t){if(!t||typeof t!="object")return!1;const e=ul(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Kx}function jd(t,e){Rh(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,i)=>e(i,n,t))}function Rh(t){const e=t[Wn];return e?e.type_:Array.isArray(t)?1:Ch(t)?2:Ih(t)?3:0}function Fg(t,e){return Rh(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function jS(t,e,n){const i=Rh(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function Wx(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Ch(t){return t instanceof Map}function Ih(t){return t instanceof Set}function Ba(t){return t.copy_||t.base_}function Hg(t,e){if(Ch(t))return new Map(t);if(Ih(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=zS(t);if(e===!0||e==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(t);delete i[Wn];let a=Reflect.ownKeys(i);for(let l=0;l<a.length;l++){const c=a[l],d=i[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(i[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[c]})}return Object.create(ul(t),i)}else{const i=ul(t);if(i!==null&&n)return{...t};const a=Object.create(i);return Object.assign(a,t)}}function jy(t,e=!1){return Dh(t)||Ga(t)||!Ki(t)||(Rh(t)>1&&(t.set=t.add=t.clear=t.delete=Yx),Object.freeze(t),e&&Object.entries(t).forEach(([n,i])=>jy(i,!0))),t}function Yx(){Dr(2)}function Dh(t){return Object.isFrozen(t)}var Qx={};function $a(t){const e=Qx[t];return e||Dr(0,t),e}var cc;function FS(){return cc}function Xx(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Bb(t,e){e&&($a("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function qg(t){Gg(t),t.drafts_.forEach(Zx),t.drafts_=null}function Gg(t){t===cc&&(cc=t.parent_)}function zb(t){return cc=Xx(cc,t)}function Zx(t){const e=t[Wn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function jb(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Wn].modified_&&(qg(e),Dr(4)),Ki(t)&&(t=Fd(e,t),e.parent_||Hd(e,t)),e.patches_&&$a("Patches").generateReplacementPatches_(n[Wn].base_,t,e.patches_,e.inversePatches_)):t=Fd(e,n,[]),qg(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==BS?t:void 0}function Fd(t,e,n){if(Dh(e))return e;const i=e[Wn];if(!i)return jd(e,(a,l)=>Fb(t,i,e,a,l,n)),e;if(i.scope_!==t)return e;if(!i.modified_)return Hd(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let l=a,c=!1;i.type_===3&&(l=new Set(a),a.clear(),c=!0),jd(l,(d,p)=>Fb(t,i,a,d,p,n,c)),Hd(t,a,!1),n&&t.patches_&&$a("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function Fb(t,e,n,i,a,l,c){if(Ga(a)){const d=l&&e&&e.type_!==3&&!Fg(e.assigned_,i)?l.concat(i):void 0,p=Fd(t,a,d);if(jS(n,i,p),Ga(p))t.canAutoFreeze_=!1;else return}else c&&n.add(a);if(Ki(a)&&!Dh(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Fd(t,a),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,i)&&Hd(t,a)}}function Hd(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&jy(e,n)}function Jx(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:FS(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=i,l=Fy;n&&(a=[i],l=fc);const{revoke:c,proxy:d}=Proxy.revocable(a,l);return i.draft_=d,i.revoke_=c,d}var Fy={get(t,e){if(e===Wn)return t;const n=Ba(t);if(!Fg(n,e))return eO(t,n,e);const i=n[e];return t.finalized_||!Ki(i)?i:i===cg(t.base_,e)?(fg(t),t.copy_[e]=Kg(i,t)):i},has(t,e){return e in Ba(t)},ownKeys(t){return Reflect.ownKeys(Ba(t))},set(t,e,n){const i=HS(Ba(t),e);if(i!=null&&i.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const a=cg(Ba(t),e),l=a==null?void 0:a[Wn];if(l&&l.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Wx(n,a)&&(n!==void 0||Fg(t.base_,e)))return!0;fg(t),$g(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return cg(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,fg(t),$g(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ba(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){Dr(11)},getPrototypeOf(t){return ul(t.base_)},setPrototypeOf(){Dr(12)}},fc={};jd(Fy,(t,e)=>{fc[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});fc.deleteProperty=function(t,e){return fc.set.call(this,t,e,void 0)};fc.set=function(t,e,n){return Fy.set.call(this,t[0],e,n,t[0])};function cg(t,e){const n=t[Wn];return(n?Ba(n):t)[e]}function eO(t,e,n){var a;const i=HS(e,n);return i?"value"in i?i.value:(a=i.get)==null?void 0:a.call(t.draft_):void 0}function HS(t,e){if(!(e in t))return;let n=ul(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=ul(n)}}function $g(t){t.modified_||(t.modified_=!0,t.parent_&&$g(t.parent_))}function fg(t){t.copy_||(t.copy_=Hg(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var tO=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const l=n;n=e;const c=this;return function(p=l,...m){return c.produce(p,y=>n.call(this,y,...m))}}typeof n!="function"&&Dr(6),i!==void 0&&typeof i!="function"&&Dr(7);let a;if(Ki(e)){const l=zb(this),c=Kg(e,void 0);let d=!0;try{a=n(c),d=!1}finally{d?qg(l):Gg(l)}return Bb(l,i),jb(a,l)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===BS&&(a=void 0),this.autoFreeze_&&jy(a,!0),i){const l=[],c=[];$a("Patches").generateReplacementPatches_(e,a,l,c),i(l,c)}return a}else Dr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,p=>e(p,...d));let i,a;return[this.produce(e,n,(c,d)=>{i=c,a=d}),i,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ki(t)||Dr(8),Ga(t)&&(t=nO(t));const e=zb(this),n=Kg(t,void 0);return n[Wn].isManual_=!0,Gg(e),n}finishDraft(t,e){const n=t&&t[Wn];(!n||!n.isManual_)&&Dr(9);const{scope_:i}=n;return Bb(i,e),jb(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const i=$a("Patches").applyPatches_;return Ga(t)?i(t,e):this.produce(t,a=>i(a,e))}};function Kg(t,e){const n=Ch(t)?$a("MapSet").proxyMap_(t,e):Ih(t)?$a("MapSet").proxySet_(t,e):Jx(t,e);return(e?e.scope_:FS()).drafts_.push(n),n}function nO(t){return Ga(t)||Dr(10,t),qS(t)}function qS(t){if(!Ki(t)||Dh(t))return t;const e=t[Wn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Hg(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Hg(t,!0);return jd(n,(i,a)=>{jS(n,i,qS(a))}),e&&(e.finalized_=!1),n}var Yn=new tO,GS=Yn.produce;Yn.produceWithPatches.bind(Yn);Yn.setAutoFreeze.bind(Yn);Yn.setUseStrictShallowCopy.bind(Yn);Yn.applyPatches.bind(Yn);Yn.createDraft.bind(Yn);Yn.finishDraft.bind(Yn);function $S(t){return({dispatch:n,getState:i})=>a=>l=>typeof l=="function"?l(n,i,t):a(l)}var rO=$S(),iO=$S,sO=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?uc:uc.apply(null,arguments)};function Hb(t,e){function n(...i){if(e){let a=e(...i);if(!a)throw new Error(Fi(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:i[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=i=>$x(i)&&i.type===t,n}var KS=class Wu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Wu.prototype)}static get[Symbol.species](){return Wu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Wu(...e[0].concat(this)):new Wu(...e.concat(this))}};function qb(t){return Ki(t)?GS(t,()=>{}):t}function Gb(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function aO(t){return typeof t=="boolean"}var oO=()=>function(e){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:a=!0,actionCreatorCheck:l=!0}=e??{};let c=new KS;return n&&(aO(n)?c.push(rO):c.push(iO(n.extraArgument))),c},lO="RTK_autoBatch",$b=t=>e=>{setTimeout(e,t)},uO=(t={type:"raf"})=>e=>(...n)=>{const i=e(...n);let a=!0,l=!1,c=!1;const d=new Set,p=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:$b(10):t.type==="callback"?t.queueNotification:$b(t.timeout),m=()=>{c=!1,l&&(l=!1,d.forEach(y=>y()))};return Object.assign({},i,{subscribe(y){const _=()=>a&&y(),E=i.subscribe(_);return d.add(y),()=>{E(),d.delete(y)}},dispatch(y){var _;try{return a=!((_=y==null?void 0:y.meta)!=null&&_[lO]),l=!a,l&&(c||(c=!0,p(m))),i.dispatch(y)}finally{a=!0}}})},cO=t=>function(n){const{autoBatch:i=!0}=n??{};let a=new KS(t);return i&&a.push(uO(typeof i=="object"?i:void 0)),a};function fO(t){const e=oO(),{reducer:n=void 0,middleware:i,devTools:a=!0,preloadedState:l=void 0,enhancers:c=void 0}=t||{};let d;if(typeof n=="function")d=n;else if(By(n))d=Gx(n);else throw new Error(Fi(1));let p;typeof i=="function"?p=i(e):p=e();let m=uc;a&&(m=sO({trace:!1,...typeof a=="object"&&a}));const y=US(...p),_=cO(y);let E=typeof c=="function"?c(_):_();const S=m(...E);return zy(d,l,S)}function WS(t){const e={},n=[];let i;const a={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(Fi(28));if(d in e)throw new Error(Fi(29));return e[d]=c,a},addMatcher(l,c){return n.push({matcher:l,reducer:c}),a},addDefaultCase(l){return i=l,a}};return t(a),[e,n,i]}function dO(t){return typeof t=="function"}function hO(t,e){let[n,i,a]=WS(e),l;if(dO(t))l=()=>qb(t());else{const d=qb(t);l=()=>d}function c(d=l(),p){let m=[n[p.type],...i.filter(({matcher:y})=>y(p)).map(({reducer:y})=>y)];return m.filter(y=>!!y).length===0&&(m=[a]),m.reduce((y,_)=>{if(_)if(Ga(y)){const S=_(y,p);return S===void 0?y:S}else{if(Ki(y))return GS(y,E=>_(E,p));{const E=_(y,p);if(E===void 0){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return E}}return y},d)}return c.getInitialState=l,c}var pO=Symbol.for("rtk-slice-createasyncthunk");function mO(t,e){return`${t}/${e}`}function gO({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[pO];return function(a){const{name:l,reducerPath:c=l}=a;if(!l)throw new Error(Fi(11));const d=(typeof a.reducers=="function"?a.reducers(vO()):a.reducers)||{},p=Object.keys(d),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},y={addCase(q,Z){const X=typeof q=="string"?q:q.type;if(!X)throw new Error(Fi(12));if(X in m.sliceCaseReducersByType)throw new Error(Fi(13));return m.sliceCaseReducersByType[X]=Z,y},addMatcher(q,Z){return m.sliceMatchers.push({matcher:q,reducer:Z}),y},exposeAction(q,Z){return m.actionCreators[q]=Z,y},exposeCaseReducer(q,Z){return m.sliceCaseReducersByName[q]=Z,y}};p.forEach(q=>{const Z=d[q],X={reducerName:q,type:mO(l,q),createNotation:typeof a.reducers=="function"};EO(Z)?TO(X,Z,y,e):_O(X,Z,y)});function _(){const[q={},Z=[],X=void 0]=typeof a.extraReducers=="function"?WS(a.extraReducers):[a.extraReducers],se={...q,...m.sliceCaseReducersByType};return hO(a.initialState,P=>{for(let I in se)P.addCase(I,se[I]);for(let I of m.sliceMatchers)P.addMatcher(I.matcher,I.reducer);for(let I of Z)P.addMatcher(I.matcher,I.reducer);X&&P.addDefaultCase(X)})}const E=q=>q,S=new Map;let R;function M(q,Z){return R||(R=_()),R(q,Z)}function D(){return R||(R=_()),R.getInitialState()}function z(q,Z=!1){function X(P){let I=P[q];return typeof I>"u"&&Z&&(I=D()),I}function se(P=E){const I=Gb(S,Z,()=>new WeakMap);return Gb(I,P,()=>{const C={};for(const[x,V]of Object.entries(a.selectors??{}))C[x]=yO(V,P,D,Z);return C})}return{reducerPath:q,getSelectors:se,get selectors(){return se(X)},selectSlice:X}}const F={name:l,reducer:M,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:D,...z(c),injectInto(q,{reducerPath:Z,...X}={}){const se=Z??c;return q.inject({reducerPath:se,reducer:M},X),{...F,...z(se,!0)}}};return F}}function yO(t,e,n,i){function a(l,...c){let d=e(l);return typeof d>"u"&&i&&(d=n()),t(d,...c)}return a.unwrapped=t,a}var Hy=gO();function vO(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function _O({type:t,reducerName:e,createNotation:n},i,a){let l,c;if("reducer"in i){if(n&&!bO(i))throw new Error(Fi(17));l=i.reducer,c=i.prepare}else l=i;a.addCase(t,l).exposeCaseReducer(e,l).exposeAction(e,c?Hb(t,c):Hb(t))}function EO(t){return t._reducerDefinitionType==="asyncThunk"}function bO(t){return t._reducerDefinitionType==="reducerWithPrepare"}function TO({type:t,reducerName:e},n,i,a){if(!a)throw new Error(Fi(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:p,settled:m,options:y}=n,_=a(t,l,y);i.exposeAction(e,_),c&&i.addCase(_.fulfilled,c),d&&i.addCase(_.pending,d),p&&i.addCase(_.rejected,p),m&&i.addMatcher(_.settled,m),i.exposeCaseReducer(e,{fulfilled:c||pd,pending:d||pd,rejected:p||pd,settled:m||pd})}function pd(){}function Fi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const SO={tasks:{},columns:{"column-1":{id:"column-1",title:"To Do",taskIds:[]},"column-2":{id:"column-2",title:"In Progress",taskIds:[]},"column-3":{id:"column-3",title:"Done",taskIds:[]}},columnOrder:["column-1","column-2","column-3"],theme:"light"},YS=Hy({name:"board",initialState:SO,reducers:{setState:(t,e)=>e.payload,addTask:(t,e)=>{const{columnId:n,task:i}=e.payload;t.tasks[i.id]={...i,createdAt:new Date().toISOString()},t.columns[n].taskIds.unshift(i.id)},updateTask:(t,e)=>{const n=e.payload;t.tasks[n.id]=n},changeTaskPriority(t,e){const{taskId:n,priority:i}=e.payload;t.tasks[n]&&(t.tasks[n].priority=i)},moveTask:(t,e)=>{const{sourceColId:n,destColId:i,sourceIndex:a,destIndex:l,taskId:c}=e.payload,d=t.columns[n],p=t.columns[i];d.taskIds.splice(a,1),p.taskIds.splice(l,0,c)},removeTask:(t,e)=>{const{taskId:n,columnId:i}=e.payload;delete t.tasks[n],t.columns[i].taskIds=t.columns[i].taskIds.filter(a=>a!==n)},addColumn:(t,e)=>{const n=e.payload;t.columns[n.id]=n,t.columnOrder.push(n.id)},moveColumn:(t,e)=>{const{sourceIndex:n,destIndex:i}=e.payload,[a]=t.columnOrder.splice(n,1);t.columnOrder.splice(i,0,a)},removeColumn:(t,e)=>{const n=e.payload;t.columns[n].taskIds.forEach(a=>{delete t.tasks[a]}),delete t.columns[n],t.columnOrder=t.columnOrder.filter(a=>a!==n)},changeColumnColor(t,e){const{columnId:n,color:i}=e.payload;t.columns[n]&&(t.columns[n].color=i)},clearTasksInColumn:(t,e)=>{const n=e.payload;t.columns[n].taskIds.forEach(i=>{delete t.tasks[i]}),t.columns[n].taskIds=[]},toggleTheme:t=>{t.theme=t.theme==="light"?"dark":"light"}}}),{setState:wO,addTask:AO,updateTask:RO,changeTaskPriority:CO,moveTask:IO,removeTask:DO,addColumn:xO,moveColumn:OO,removeColumn:NO,changeColumnColor:i8,clearTasksInColumn:PO,toggleTheme:MO}=YS.actions,kO=YS.reducer,VO={addColumnModal:{isOpen:!1},confirmationModal:{isOpen:!1,type:null,targetId:null}},QS=Hy({name:"popup",initialState:VO,reducers:{openAddColumnModal(t){t.addColumnModal.isOpen=!0},closeAddColumnModal(t){t.addColumnModal.isOpen=!1},openConfirmationModal(t,e){t.confirmationModal.isOpen=!0,t.confirmationModal.type=e.payload.type,t.confirmationModal.targetId=e.payload.targetId},closeConfirmationModal(t){t.confirmationModal.isOpen=!1,t.confirmationModal.type=null,t.confirmationModal.targetId=null}}}),{openAddColumnModal:LO,closeAddColumnModal:Lu,openConfirmationModal:Wg,closeConfirmationModal:Uu}=QS.actions,UO=QS.reducer,BO="_inputGroup_172ub_1",zO="_error_172ub_25",Kb={inputGroup:BO,error:zO},Yg=({id:t,label:e,type:n="text",placeholder:i,error:a,registerProps:l})=>G.jsxs("div",{className:Kb.inputGroup,children:[e&&G.jsx("label",{htmlFor:t,children:G.jsx("h2",{children:e})}),G.jsx("input",{id:t,type:n,placeholder:i,autoComplete:"new-password",...l}),a&&G.jsx("p",{className:Kb.error,children:a})]}),qy="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5.33366%2015.8333L4.16699%2014.6667L8.83366%209.99999L4.16699%205.33332L5.33366%204.16666L10.0003%208.83332L14.667%204.16666L15.8337%205.33332L11.167%209.99999L15.8337%2014.6667L14.667%2015.8333L10.0003%2011.1667L5.33366%2015.8333Z'%20fill='white'/%3e%3c/svg%3e",jO="_popup_4jt2o_1",FO="_header_4jt2o_10",HO="_closeButton_4jt2o_20",qO="_body_4jt2o_30",Bu={popup:jO,header:FO,closeButton:HO,body:qO},XS=({children:t,onClose:e})=>G.jsxs("div",{className:Bu.popup,children:[G.jsx("div",{className:Bu.header,children:G.jsx("button",{onClick:e,"data-tooltip":" ",className:Bu.closeButton,children:G.jsx("img",{className:Bu.buttonIcon,src:qy,alt:" "})})}),G.jsx("div",{className:Bu.body,children:t})]}),GO="_overlay_bauub_1",$O="_modalButtons_bauub_14",Wb={overlay:GO,modalButtons:$O},KO=()=>{const t=Vn(),{isOpen:e}=Tn(c=>c.popup.addColumnModal),[n,i]=k.useState(""),a=c=>{c.target===c.currentTarget&&t(Lu())};k.useEffect(()=>{const c=d=>{d.key==="Escape"&&t(Lu())};return e&&window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)}},[e,t]);const l=()=>{if(n.trim()){const c={id:`column-${Date.now()}`,title:n,taskIds:[]};t(xO(c)),i(""),t(Lu())}};return e?G.jsx("div",{className:Wb.overlay,onClick:a,children:G.jsxs(XS,{onClose:()=>t(Lu()),children:[G.jsx("h2",{children:" "}),G.jsx(Yg,{id:"columnTitle",placeholder:" ",registerProps:{value:n,onChange:c=>i(c.target.value),onKeyDown:c=>{c.key==="Enter"&&l()}}}),G.jsxs("div",{className:Wb.modalButtons,children:[G.jsx("button",{onClick:l,className:"mainButton",children:G.jsx("h3",{children:""})}),G.jsx("button",{onClick:()=>t(Lu()),className:"mainButton",children:G.jsx("h3",{children:""})})]})]})}):null},WO="_overlay_1mh3l_1",YO="_buttons_1mh3l_14",Yb={overlay:WO,buttons:YO},QO=()=>{const t=Vn(),{isOpen:e,type:n,targetId:i}=Tn(p=>p.popup.confirmationModal),a=p=>{p.target===p.currentTarget&&t(Uu())};k.useEffect(()=>{const p=m=>{m.key==="Escape"&&t(Uu())};return document.addEventListener("keydown",p),()=>{document.removeEventListener("keydown",p)}},[t]);const l=()=>{n==="column"&&i?t(NO(i.columnId)):n==="task"&&i?i.taskId&&t(DO({taskId:i.taskId,columnId:i.columnId})):n==="clear-tasks"&&i&&t(PO(i.columnId)),t(Uu())},c=n==="column"?" ":n==="task"?" ":n==="clear-tasks"?" ":" ",d=p=>p?p[0].toUpperCase()+p.slice(1):"";return e?G.jsx("div",{className:Yb.overlay,onClick:a,children:G.jsxs(XS,{onClose:()=>t(Uu()),children:[G.jsx("h2",{children:" ?"}),G.jsxs("p",{className:"text-body",style:{textAlign:"center"},children:["   ",c,"?"]}),G.jsxs("div",{className:Yb.buttons,children:[G.jsx("button",{onClick:l,className:"mainButton",children:G.jsx("h3",{children:d(c.split(" ")[0])})}),G.jsx("button",{onClick:()=>t(Uu()),className:"mainButton",children:G.jsx("h3",{children:""})})]})]})}):null},XO="data:image/svg+xml,%3csvg%20width='119'%20height='119'%20viewBox='0%200%20119%20119'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M117.5%201.5H1.5V117.5M1.5%20117.5H117.5V14.0667H1.5V117.5Z'%20stroke='white'%20stroke-width='3'%20stroke-linecap='square'/%3e%3ccircle%20cx='98.5'%20cy='7.5'%20r='3'%20fill='white'/%3e%3ccircle%20cx='111.5'%20cy='7.5'%20r='3'%20fill='white'/%3e%3cg%20filter='url(%23filter0_i_5_487)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M60.5%2022.5C84.2482%2022.5%20103.5%2041.7518%20103.5%2065.5C103.5%2089.2482%2084.2482%20108.5%2060.5%20108.5C36.7518%20108.5%2017.5%2089.2482%2017.5%2065.5C17.5%2041.7518%2036.7518%2022.5%2060.5%2022.5ZM41.5%2065.4717C41.5002%2075.9649%2049.7828%2084.4717%2060%2084.4717C69.8812%2084.4717%2077.9524%2076.5151%2078.4727%2066.5H58.8506L58.7256%2066.418L43.6787%2056.5186C43.6228%2056.6259%2043.5686%2056.7342%2043.5146%2056.8428L41.5%2055.5V65.4717Z'%20fill='url(%23paint0_linear_5_487)'/%3e%3c/g%3e%3cline%20x1='18.5823'%20y1='39.0951'%20x2='59.0951'%20y2='66.4177'%20stroke='white'%20stroke-width='3'%20stroke-linecap='round'/%3e%3cline%20x1='59.4252'%20y1='66.38'%20x2='98.38'%20y2='24.5748'%20stroke='white'%20stroke-width='3'%20stroke-linecap='round'/%3e%3cline%20x1='99'%20y1='24'%20x2='99'%20y2='28'%20stroke='white'%20stroke-width='3'%20stroke-linecap='round'/%3e%3cline%20x1='99'%20y1='24'%20x2='95'%20y2='24'%20stroke='white'%20stroke-width='3'%20stroke-linecap='round'/%3e%3cdefs%3e%3cfilter%20id='filter0_i_5_487'%20x='17.5'%20y='22.5'%20width='86'%20height='90'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='BackgroundImageFix'%20result='shape'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dy='4'/%3e%3cfeGaussianBlur%20stdDeviation='2'/%3e%3cfeComposite%20in2='hardAlpha'%20operator='arithmetic'%20k2='-1'%20k3='1'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.25%200'/%3e%3cfeBlend%20mode='normal'%20in2='shape'%20result='effect1_innerShadow_5_487'/%3e%3c/filter%3e%3clinearGradient%20id='paint0_linear_5_487'%20x1='31'%20y1='37.5'%20x2='100.167'%20y2='76.4406'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23DD7A05'%20stop-opacity='0.8'/%3e%3cstop%20offset='1'%20stop-color='%23EC19A4'%20stop-opacity='0.8'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",ZO="data:image/svg+xml,%3csvg%20width='40'%20height='40'%20viewBox='0%200%2040%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M37.2093%2020C37.2093%2020.6175%2037.1768%2021.2275%2037.1133%2021.8282C36.2005%2030.4731%2028.8868%2037.2093%2020%2037.2093V40C31.0458%2040%2040%2031.0458%2040%2020H37.2093ZM20%2037.2093C10.4956%2037.2093%202.7907%2029.5044%202.7907%2020H0C0%2031.0458%208.95431%2040%2020%2040V37.2093ZM2.7907%2020C2.7907%2011.1131%209.52694%203.79945%2018.1719%202.88664C18.7726%202.82322%2019.3825%202.7907%2020%202.7907V0C8.95431%200%200%208.95431%200%2020H2.7907ZM26.5116%2024.186C20.6035%2024.186%2015.814%2019.3965%2015.814%2013.4884H13.0233C13.0233%2020.9379%2019.0621%2026.9767%2026.5116%2026.9767V24.186ZM35.675%2019.0121C33.7994%2022.1159%2030.3967%2024.186%2026.5116%2024.186V26.9767C30.8141%2026.9767%2034.6449%2024.9616%2037.1133%2021.8282C37.4574%2021.3914%2037.7749%2020.933%2038.0636%2020.4553L35.675%2019.0121ZM15.814%2013.4884C15.814%209.60339%2017.8841%206.20056%2020.9879%204.32497L19.5447%201.93647C19.067%202.22512%2018.6086%202.54265%2018.1719%202.88664C15.0384%205.35497%2013.0233%209.18583%2013.0233%2013.4884H15.814ZM20%202.7907C19.8353%202.7907%2019.6422%202.71643%2019.5021%202.57057C19.3834%202.44701%2019.3559%202.33012%2019.3494%202.28285C19.3416%202.22487%2019.3455%202.05687%2019.5447%201.93647L20.9879%204.32497C21.9241%203.75935%2022.2251%202.72368%2022.115%201.90934C22.0007%201.06281%2021.3332%200%2020%200V2.7907ZM38.0636%2020.4553C37.9431%2020.6545%2037.7751%2020.6584%2037.7172%2020.6506C37.67%2020.6441%2037.5529%2020.6166%2037.4294%2020.4979C37.2835%2020.3578%2037.2093%2020.1647%2037.2093%2020H40C40%2018.6668%2038.9371%2017.9993%2038.0906%2017.885C37.2763%2017.7749%2036.2406%2018.0759%2035.675%2019.0121L38.0636%2020.4553Z'%20fill='white'/%3e%3cpath%20d='M20%2037.2093C28.8868%2037.2093%2036.2005%2030.4731%2037.1133%2021.8282C34.6449%2024.9616%2030.8141%2026.9767%2026.5116%2026.9767C19.0621%2026.9767%2013.0233%2020.9379%2013.0233%2013.4884C13.0233%209.18583%2015.0384%205.35497%2018.1719%202.88664C9.52694%203.79945%202.7907%2011.1131%202.7907%2020C2.7907%2029.5044%2010.4956%2037.2093%2020%2037.2093Z'%20fill='%23F48C1D'/%3e%3c/svg%3e",JO="data:image/svg+xml,%3csvg%20width='39'%20height='39'%20viewBox='0%200%2039%2039'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cmask%20id='mask0_54_909'%20style='mask-type:luminance'%20maskUnits='userSpaceOnUse'%20x='-1'%20y='-1'%20width='41'%20height='41'%3e%3cpath%20d='M-0.666748%20-0.666504H39.3333V39.3335H-0.666748V-0.666504Z'%20fill='white'/%3e%3c/mask%3e%3cg%20mask='url(%23mask0_54_909)'%3e%3cpath%20d='M29.3333%2019.3333C29.3333%2021.9855%2028.2798%2024.529%2026.4044%2026.4044C24.529%2028.2798%2021.9855%2029.3333%2019.3333%2029.3333C16.6812%2029.3333%2014.1376%2028.2798%2012.2623%2026.4044C10.3869%2024.529%209.33333%2021.9855%209.33333%2019.3333C9.33333%2016.6812%2010.3869%2014.1376%2012.2623%2012.2623C14.1376%2010.3869%2016.6812%209.33333%2019.3333%209.33333C21.9855%209.33333%2024.529%2010.3869%2026.4044%2012.2623C28.2798%2014.1376%2029.3333%2016.6812%2029.3333%2019.3333Z'%20fill='%23F48C1D'/%3e%3cpath%20d='M4.33333%2019.3333H1M37.6667%2019.3333H34.3333M19.3333%2034.3333V37.6667M19.3333%201V4.33333M8.72667%2029.94L6.37%2032.2967M32.2967%206.37L29.94%208.72667M8.72667%208.72667L6.37%206.37M32.2967%2032.2967L29.94%2029.94M29.3333%2019.3333C29.3333%2021.9855%2028.2798%2024.529%2026.4044%2026.4044C24.529%2028.2798%2021.9855%2029.3333%2019.3333%2029.3333C16.6812%2029.3333%2014.1376%2028.2798%2012.2623%2026.4044C10.3869%2024.529%209.33333%2021.9855%209.33333%2019.3333C9.33333%2016.6812%2010.3869%2014.1376%2012.2623%2012.2623C14.1376%2010.3869%2016.6812%209.33333%2019.3333%209.33333C21.9855%209.33333%2024.529%2010.3869%2026.4044%2012.2623C28.2798%2014.1376%2029.3333%2016.6812%2029.3333%2019.3333Z'%20stroke='white'%20stroke-width='2'%20stroke-miterlimit='10'%20stroke-linecap='round'/%3e%3c/g%3e%3c/svg%3e";var ZS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Qb=je.createContext&&je.createContext(ZS),e3=["attr","size","title"];function t3(t,e){if(t==null)return{};var n=n3(t,e),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)i=l[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function n3(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function qd(){return qd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},qd.apply(this,arguments)}function Xb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function Gd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xb(Object(n),!0).forEach(function(i){r3(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xb(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function r3(t,e,n){return e=i3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i3(t){var e=s3(t,"string");return typeof e=="symbol"?e:e+""}function s3(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JS(t){return t&&t.map((e,n)=>je.createElement(e.tag,Gd({key:n},e.attr),JS(e.child)))}function Gy(t){return e=>je.createElement(a3,qd({attr:Gd({},t.attr)},e),JS(t.child))}function a3(t){var e=n=>{var{attr:i,size:a,title:l}=t,c=t3(t,e3),d=a||n.size||"1em",p;return n.className&&(p=n.className),t.className&&(p=(p?p+" ":"")+t.className),je.createElement("svg",qd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,c,{className:p,style:Gd(Gd({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&je.createElement("title",null,l),t.children)};return Qb!==void 0?je.createElement(Qb.Consumer,null,n=>e(n)):e(ZS)}function o3(t){return Gy({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function l3(t){return Gy({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function u3(t){return Gy({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}const c3=()=>{};var Zb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},f3=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},tw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,p=a+2<t.length,m=p?t[a+2]:0,y=l>>2,_=(l&3)<<4|d>>4;let E=(d&15)<<2|m>>6,S=m&63;p||(S=64,c||(E=64)),i.push(n[y],n[_],n[E],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ew(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):f3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||m==null||_==null)throw new d3;const E=l<<2|d>>4;if(i.push(E),m!==64){const S=d<<4&240|m>>2;if(i.push(S),_!==64){const R=m<<6&192|_;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class d3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const h3=function(t){const e=ew(t);return tw.encodeByteArray(e,!0)},$d=function(t){return h3(t).replace(/\./g,"")},nw=function(t){try{return tw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=()=>p3().__FIREBASE_DEFAULTS__,g3=()=>{if(typeof process>"u"||typeof Zb>"u")return;const t=Zb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},y3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nw(t[1]);return e&&JSON.parse(e)},xh=()=>{try{return c3()||m3()||g3()||y3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rw=t=>{var e,n;return(n=(e=xh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},v3=t=>{const e=rw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},iw=()=>{var t;return(t=xh())===null||t===void 0?void 0:t.config},sw=t=>{var e;return(e=xh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[$d(JSON.stringify(n)),$d(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function T3(){var t;const e=(t=xh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function w3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function A3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function R3(){const t=Sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function C3(){return!T3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function I3(){try{return typeof indexedDB=="object"}catch{return!1}}function D3(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3="FirebaseError";class Zi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=x3,Object.setPrototypeOf(this,Zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mc.prototype.create)}}class Mc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?O3(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Zi(a,d,i)}}function O3(t,e){return t.replace(N3,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const N3=/\{\$([^}]+)}/g;function P3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ka(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(Jb(l)&&Jb(c)){if(!Ka(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function Jb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Yu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Qu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function M3(t,e){const n=new k3(t,e);return n.subscribe.bind(n)}class k3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");V3(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=dg),a.error===void 0&&(a.error=dg),a.complete===void 0&&(a.complete=dg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function V3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function dg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(t){return t&&t._delegate?t._delegate:t}class Wa{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new _3;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(B3(e))try{this.getOrInitializeService({instanceIdentifier:za})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=za){return this.instances.has(e)}getOptions(e=za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,n){var i;const a=this.normalizeInstanceIdentifier(n),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:U3(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=za){return this.component?this.component.multipleInstances?e:za:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function U3(t){return t===za?void 0:t}function B3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new L3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));const j3={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},F3=Ye.INFO,H3={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},q3=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=H3[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $y{constructor(e){this.name=e,this._logLevel=F3,this._logHandler=q3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?j3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const G3=(t,e)=>e.some(n=>t instanceof n);let e2,t2;function $3(){return e2||(e2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K3(){return t2||(t2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aw=new WeakMap,Qg=new WeakMap,ow=new WeakMap,hg=new WeakMap,Ky=new WeakMap;function W3(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Fs(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&aw.set(n,t)}).catch(()=>{}),Ky.set(e,t),e}function Y3(t){if(Qg.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Qg.set(t,e)}let Xg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ow.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Q3(t){Xg=t(Xg)}function X3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(pg(this),e,...n);return ow.set(i,e.sort?e.sort():[e]),Fs(i)}:K3().includes(t)?function(...e){return t.apply(pg(this),e),Fs(aw.get(this))}:function(...e){return Fs(t.apply(pg(this),e))}}function Z3(t){return typeof t=="function"?X3(t):(t instanceof IDBTransaction&&Y3(t),G3(t,$3())?new Proxy(t,Xg):t)}function Fs(t){if(t instanceof IDBRequest)return W3(t);if(hg.has(t))return hg.get(t);const e=Z3(t);return e!==t&&(hg.set(t,e),Ky.set(e,t)),e}const pg=t=>Ky.get(t);function J3(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=Fs(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Fs(c.result),p.oldVersion,p.newVersion,Fs(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const eN=["get","getKey","getAll","getAllKeys","count"],tN=["put","add","delete","clear"],mg=new Map;function n2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mg.get(e))return mg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=tN.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||eN.includes(n)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),a&&p.done]))[0]};return mg.set(e,l),l}Q3(t=>({...t,get:(e,n,i)=>n2(e,n)||t.get(e,n,i),has:(e,n)=>!!n2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rN(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function rN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zg="@firebase/app",r2="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new $y("@firebase/app"),iN="@firebase/app-compat",sN="@firebase/analytics-compat",aN="@firebase/analytics",oN="@firebase/app-check-compat",lN="@firebase/app-check",uN="@firebase/auth",cN="@firebase/auth-compat",fN="@firebase/database",dN="@firebase/data-connect",hN="@firebase/database-compat",pN="@firebase/functions",mN="@firebase/functions-compat",gN="@firebase/installations",yN="@firebase/installations-compat",vN="@firebase/messaging",_N="@firebase/messaging-compat",EN="@firebase/performance",bN="@firebase/performance-compat",TN="@firebase/remote-config",SN="@firebase/remote-config-compat",wN="@firebase/storage",AN="@firebase/storage-compat",RN="@firebase/firestore",CN="@firebase/vertexai",IN="@firebase/firestore-compat",DN="firebase",xN="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg="[DEFAULT]",ON={[Zg]:"fire-core",[iN]:"fire-core-compat",[aN]:"fire-analytics",[sN]:"fire-analytics-compat",[lN]:"fire-app-check",[oN]:"fire-app-check-compat",[uN]:"fire-auth",[cN]:"fire-auth-compat",[fN]:"fire-rtdb",[dN]:"fire-data-connect",[hN]:"fire-rtdb-compat",[pN]:"fire-fn",[mN]:"fire-fn-compat",[gN]:"fire-iid",[yN]:"fire-iid-compat",[vN]:"fire-fcm",[_N]:"fire-fcm-compat",[EN]:"fire-perf",[bN]:"fire-perf-compat",[TN]:"fire-rc",[SN]:"fire-rc-compat",[wN]:"fire-gcs",[AN]:"fire-gcs-compat",[RN]:"fire-fst",[IN]:"fire-fst-compat",[CN]:"fire-vertex","fire-js":"fire-js",[DN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd=new Map,NN=new Map,ey=new Map;function i2(t,e){try{t.container.addComponent(e)}catch(n){Wi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function cl(t){const e=t.name;if(ey.has(e))return Wi.debug(`There were multiple attempts to register component ${e}.`),!1;ey.set(e,t);for(const n of Kd.values())i2(n,t);for(const n of NN.values())i2(n,t);return!0}function Wy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new Mc("app","Firebase",PN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl=xN;function lw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Jg,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw Hs.create("bad-app-name",{appName:String(a)});if(n||(n=iw()),!n)throw Hs.create("no-options");const l=Kd.get(a);if(l){if(Ka(n,l.options)&&Ka(i,l.config))return l;throw Hs.create("duplicate-app",{appName:a})}const c=new z3(a);for(const p of ey.values())c.addComponent(p);const d=new MN(n,i,c);return Kd.set(a,d),d}function uw(t=Jg){const e=Kd.get(t);if(!e&&t===Jg&&iw())return lw();if(!e)throw Hs.create("no-app",{appName:t});return e}function qs(t,e,n){var i;let a=(i=ON[t])!==null&&i!==void 0?i:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wi.warn(d.join(" "));return}cl(new Wa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="firebase-heartbeat-database",VN=1,dc="firebase-heartbeat-store";let gg=null;function cw(){return gg||(gg=J3(kN,VN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(dc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hs.create("idb-open",{originalErrorMessage:t.message})})),gg}async function LN(t){try{const n=(await cw()).transaction(dc),i=await n.objectStore(dc).get(fw(t));return await n.done,i}catch(e){if(e instanceof Zi)Wi.warn(e.message);else{const n=Hs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wi.warn(n.message)}}}async function s2(t,e){try{const i=(await cw()).transaction(dc,"readwrite");await i.objectStore(dc).put(e,fw(t)),await i.done}catch(n){if(n instanceof Zi)Wi.warn(n.message);else{const i=Hs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wi.warn(i.message)}}}function fw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=1024,BN=30;class zN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FN(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=a2();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>BN){const c=HN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Wi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=a2(),{heartbeatsToSend:i,unsentEntries:a}=jN(this._heartbeatsCache.heartbeats),l=$d(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Wi.warn(n),""}}}function a2(){return new Date().toISOString().substring(0,10)}function jN(t,e=UN){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),o2(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),o2(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class FN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return I3()?D3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await LN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return s2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return s2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function o2(t){return $d(JSON.stringify({version:2,heartbeats:t})).length}function HN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(t){cl(new Wa("platform-logger",e=>new nN(e),"PRIVATE")),cl(new Wa("heartbeat",e=>new zN(e),"PRIVATE")),qs(Zg,r2,t),qs(Zg,r2,"esm2017"),qs("fire-js","")}qN("");var GN="firebase",$N="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qs(GN,$N,"app");function Yy(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n}function dw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KN=dw,hw=new Mc("auth","Firebase",dw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd=new $y("@firebase/auth");function WN(t,...e){Wd.logLevel<=Ye.WARN&&Wd.warn(`Auth (${Sl}): ${t}`,...e)}function Rd(t,...e){Wd.logLevel<=Ye.ERROR&&Wd.error(`Auth (${Sl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(t,...e){throw Qy(t,...e)}function ri(t,...e){return Qy(t,...e)}function pw(t,e,n){const i=Object.assign(Object.assign({},KN()),{[e]:n});return new Mc("auth","Firebase",i).create(e,{appName:t.name})}function Hi(t){return pw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qy(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return hw.create(t,...e)}function Oe(t,e,...n){if(!t)throw Qy(e,...n)}function Ui(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rd(e),new Error(e)}function Yi(t,e){t||Ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function YN(){return l2()==="http:"||l2()==="https:"}function l2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YN()||w3()||"connection"in navigator)?navigator.onLine:!0}function XN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yi(n>e,"Short delay should be less than long delay!"),this.isMobile=b3()||A3()}get(){return QN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(t,e){Yi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=new Vc(3e4,6e4);function ra(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ia(t,e,n,i,a={}){return gw(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=kc(Object.assign({key:t.config.apiKey},c)).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:p},l);return S3()||(m.referrerPolicy="no-referrer"),mw.fetch()(yw(t,t.config.apiHost,n,d),m)})}async function gw(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},ZN),e);try{const a=new tP(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw md(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,m]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw md(t,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw md(t,"email-already-in-use",c);if(p==="USER_DISABLED")throw md(t,"user-disabled",c);const y=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw pw(t,y,m);Pr(t,y)}}catch(a){if(a instanceof Zi)throw a;Pr(t,"network-request-failed",{message:String(a)})}}async function Lc(t,e,n,i,a={}){const l=await ia(t,e,n,i,a);return"mfaPendingCredential"in l&&Pr(t,"multi-factor-auth-required",{_serverResponse:l}),l}function yw(t,e,n,i){const a=`${e}${n}?${i}`;return t.config.emulator?Xy(t.config,a):`${t.config.apiScheme}://${a}`}function eP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ri(this.auth,"network-request-failed")),JN.get())})}}function md(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=ri(t,e,i);return a.customData._tokenResponse=n,a}function u2(t){return t!==void 0&&t.enterprise!==void 0}class nP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return eP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function rP(t,e){return ia(t,"GET","/v2/recaptchaConfig",ra(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iP(t,e){return ia(t,"POST","/v1/accounts:delete",e)}async function vw(t,e){return ia(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sP(t,e=!1){const n=Er(t),i=await n.getIdToken(e),a=Zy(i);Oe(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:ec(yg(a.auth_time)),issuedAtTime:ec(yg(a.iat)),expirationTime:ec(yg(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function yg(t){return Number(t)*1e3}function Zy(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Rd("JWT malformed, contained fewer than 3 sections"),null;try{const a=nw(n);return a?JSON.parse(a):(Rd("Failed to decode base64 JWT payload"),null)}catch(a){return Rd("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function c2(t){const e=Zy(t);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Zi&&aP(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function aP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ec(this.lastLoginAt),this.creationTime=ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yd(t){var e;const n=t.auth,i=await t.getIdToken(),a=await hc(t,vw(n,{idToken:i}));Oe(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?_w(l.providerUserInfo):[],d=uP(t.providerData,c),p=t.isAnonymous,m=!(t.email&&l.passwordHash)&&!(d!=null&&d.length),y=p?m:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new ny(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(t,_)}async function lP(t){const e=Er(t);await Yd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uP(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function _w(t){return t.map(e=>{var{providerId:n}=e,i=Yy(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cP(t,e){const n=await gw(t,{},async()=>{const i=kc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=yw(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",mw.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fP(t,e){return ia(t,"POST","/v2/accounts:revokeToken",ra(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):c2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const n=c2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await cP(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new il;return i&&(Oe(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Oe(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Oe(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new il,this.toJSON())}_performRefresh(){return Ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(t,e){Oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Bi{constructor(e){var{uid:n,auth:i,stsTokenManager:a}=e,l=Yy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ny(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await hc(this,this.stsTokenManager.getToken(this.auth,e));return Oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return sP(this,e)}reload(){return lP(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Yd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pr(this.auth.app))return Promise.reject(Hi(this.auth));const e=await this.getIdToken();return await hc(this,iP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,a,l,c,d,p,m,y;const _=(i=n.displayName)!==null&&i!==void 0?i:void 0,E=(a=n.email)!==null&&a!==void 0?a:void 0,S=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,R=(c=n.photoURL)!==null&&c!==void 0?c:void 0,M=(d=n.tenantId)!==null&&d!==void 0?d:void 0,D=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,z=(m=n.createdAt)!==null&&m!==void 0?m:void 0,F=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:q,emailVerified:Z,isAnonymous:X,providerData:se,stsTokenManager:P}=n;Oe(q&&P,e,"internal-error");const I=il.fromJSON(this.name,P);Oe(typeof q=="string",e,"internal-error"),Ms(_,e.name),Ms(E,e.name),Oe(typeof Z=="boolean",e,"internal-error"),Oe(typeof X=="boolean",e,"internal-error"),Ms(S,e.name),Ms(R,e.name),Ms(M,e.name),Ms(D,e.name),Ms(z,e.name),Ms(F,e.name);const C=new Bi({uid:q,auth:e,email:E,emailVerified:Z,displayName:_,isAnonymous:X,photoURL:R,phoneNumber:S,tenantId:M,stsTokenManager:I,createdAt:z,lastLoginAt:F});return se&&Array.isArray(se)&&(C.providerData=se.map(x=>Object.assign({},x))),D&&(C._redirectEventId=D),C}static async _fromIdTokenResponse(e,n,i=!1){const a=new il;a.updateFromServerResponse(n);const l=new Bi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Yd(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Oe(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?_w(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new il;d.updateFromIdToken(i);const p=new Bi({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new ny(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=new Map;function zi(t){Yi(t instanceof Function,"Expected a class definition");let e=f2.get(t);return e?(Yi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,f2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ew.type="NONE";const d2=Ew;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(t,e,n){return`firebase:${t}:${e}:${n}`}class sl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Cd(this.userKey,a.apiKey,l),this.fullPersistenceKey=Cd("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Bi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new sl(zi(d2),e,i);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||zi(d2);const c=Cd(i,e.config.apiKey,e.name);let d=null;for(const m of n)try{const y=await m._get(c);if(y){const _=Bi._fromJSON(e,y);m!==l&&(d=_),l=m;break}}catch{}const p=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new sl(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new sl(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ww(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Rw(e))return"Blackberry";if(Cw(e))return"Webos";if(Tw(e))return"Safari";if((e.includes("chrome/")||Sw(e))&&!e.includes("edge/"))return"Chrome";if(Aw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function bw(t=Sn()){return/firefox\//i.test(t)}function Tw(t=Sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Sw(t=Sn()){return/crios\//i.test(t)}function ww(t=Sn()){return/iemobile/i.test(t)}function Aw(t=Sn()){return/android/i.test(t)}function Rw(t=Sn()){return/blackberry/i.test(t)}function Cw(t=Sn()){return/webos/i.test(t)}function Jy(t=Sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dP(t=Sn()){var e;return Jy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hP(){return R3()&&document.documentMode===10}function Iw(t=Sn()){return Jy(t)||Aw(t)||Cw(t)||Rw(t)||/windows phone/i.test(t)||ww(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(t,e=[]){let n;switch(t){case"Browser":n=h2(Sn());break;case"Worker":n=`${h2(Sn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Sl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mP(t,e={}){return ia(t,"GET","/v2/passwordPolicy",ra(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=6;class yP{constructor(e){var n,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:gP,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,a,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new p2(this),this.idTokenSubscription=new p2(this),this.beforeStateQueue=new pP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zi(n)),this._initializationPromise=this.queue(async()=>{var i,a;if(!this._deleted&&(this.persistenceManager=await sl.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vw(this,{idToken:e}),i=await Bi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(pr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pr(this.app))return Promise.reject(Hi(this));const n=e?Er(e):null;return n&&Oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pr(this.app)?Promise.reject(Hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pr(this.app)?Promise.reject(Hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mP(this),n=new yP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Mc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await fP(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zi(e)||this._popupRedirectResolver;Oe(n,this,"argument-error"),this.redirectPersistenceManager=await sl.create(this,[zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,i,a);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Dw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&WN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function to(t){return Er(t)}class p2{constructor(e){this.auth=e,this.observer=null,this.addObserver=M3(n=>this.observer=n)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _P(t){Oh=t}function xw(t){return Oh.loadJS(t)}function EP(){return Oh.recaptchaEnterpriseScript}function bP(){return Oh.gapiScript}function TP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class SP{constructor(){this.enterprise=new wP}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class wP{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const AP="recaptcha-enterprise",Ow="NO_RECAPTCHA";class RP{constructor(e){this.type=AP,this.auth=to(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{rP(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new nP(p);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,c(m.siteKey)}}).catch(p=>{d(p)})})}function a(l,c,d){const p=window.grecaptcha;u2(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(m=>{c(m)}).catch(()=>{c(Ow)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new SP().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!n&&u2(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=EP();p.length!==0&&(p+=d),xw(p).then(()=>{a(d,l,c)}).catch(m=>{c(m)})}}).catch(d=>{c(d)})})}}async function m2(t,e,n,i=!1,a=!1){const l=new RP(t);let c;if(a)c=Ow;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function ry(t,e,n,i,a){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await m2(t,e,n,n==="getOobCode");return i(t,c)}else return i(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await m2(t,e,n,n==="getOobCode");return i(t,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(t,e){const n=Wy(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ka(l,e??{}))return a;Pr(a,"already-initialized")}return n.initialize({options:e})}function IP(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(zi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function DP(t,e,n){const i=to(t);Oe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=Nw(e),{host:c,port:d}=xP(e),p=d===null?"":`:${d}`,m={url:`${l}//${c}${p}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Oe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Oe(Ka(m,i.config.emulator)&&Ka(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,OP()}function Nw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xP(t){const e=Nw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:g2(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:g2(c)}}}function g2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function OP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ui("not implemented")}_getIdTokenResponse(e){return Ui("not implemented")}_linkToIdToken(e,n){return Ui("not implemented")}_getReauthenticationResolver(e){return Ui("not implemented")}}async function NP(t,e){return ia(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PP(t,e){return Lc(t,"POST","/v1/accounts:signInWithPassword",ra(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MP(t,e){return Lc(t,"POST","/v1/accounts:signInWithEmailLink",ra(t,e))}async function kP(t,e){return Lc(t,"POST","/v1/accounts:signInWithEmailLink",ra(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends ev{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new pc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new pc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ry(e,n,"signInWithPassword",PP);case"emailLink":return MP(e,{email:this._email,oobCode:this._password});default:Pr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ry(e,i,"signUpPassword",NP);case"emailLink":return kP(e,{idToken:n,email:this._email,oobCode:this._password});default:Pr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(t,e){return Lc(t,"POST","/v1/accounts:signInWithIdp",ra(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP="http://localhost";class Ya extends ev{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=n,l=Yy(n,["providerId","signInMethod"]);if(!i||!a)return null;const c=new Ya(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return al(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,al(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,al(e,n)}buildRequest(){const e={requestUri:VP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UP(t){const e=Yu(Qu(t)).link,n=e?Yu(Qu(e)).deep_link_id:null,i=Yu(Qu(t)).deep_link_id;return(i?Yu(Qu(i)).link:null)||i||n||e||t}class tv{constructor(e){var n,i,a,l,c,d;const p=Yu(Qu(e)),m=(n=p.apiKey)!==null&&n!==void 0?n:null,y=(i=p.oobCode)!==null&&i!==void 0?i:null,_=LP((a=p.mode)!==null&&a!==void 0?a:null);Oe(m&&y&&_,"argument-error"),this.apiKey=m,this.operation=_,this.code=y,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=UP(e);try{return new tv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(){this.providerId=wl.PROVIDER_ID}static credential(e,n){return pc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=tv.parseLink(n);return Oe(i,"argument-error"),pc._fromEmailAndCode(e,i.code,i.tenantId)}}wl.PROVIDER_ID="password";wl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc extends Pw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends Uc{constructor(){super("facebook.com")}static credential(e){return Ya._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vs.credential(e.oauthAccessToken)}catch{return null}}}Vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends Uc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ya._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ls.credential(n,i)}catch{return null}}}Ls.GOOGLE_SIGN_IN_METHOD="google.com";Ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends Uc{constructor(){super("github.com")}static credential(e){return Ya._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Us.credential(e.oauthAccessToken)}catch{return null}}}Us.GITHUB_SIGN_IN_METHOD="github.com";Us.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Uc{constructor(){super("twitter.com")}static credential(e,n){return Ya._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Bs.credential(n,i)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BP(t,e){return Lc(t,"POST","/v1/accounts:signUp",ra(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await Bi._fromIdTokenResponse(e,i,a),c=y2(i);return new Qa({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=y2(i);return new Qa({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function y2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd extends Zi{constructor(e,n,i,a){var l;super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Qd.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new Qd(e,n,i,a)}}function Mw(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Qd._fromErrorAndOperation(t,l,e,i):l})}async function zP(t,e,n=!1){const i=await hc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qa._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP(t,e,n=!1){const{auth:i}=t;if(pr(i.app))return Promise.reject(Hi(i));const a="reauthenticate";try{const l=await hc(t,Mw(i,a,e,t),n);Oe(l.idToken,i,"internal-error");const c=Zy(l.idToken);Oe(c,i,"internal-error");const{sub:d}=c;return Oe(t.uid===d,i,"user-mismatch"),Qa._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Pr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kw(t,e,n=!1){if(pr(t.app))return Promise.reject(Hi(t));const i="signIn",a=await Mw(t,i,e),l=await Qa._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}async function FP(t,e){return kw(to(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vw(t){const e=to(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function HP(t,e,n){if(pr(t.app))return Promise.reject(Hi(t));const i=to(t),c=await ry(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",BP).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Vw(t),p}),d=await Qa._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function qP(t,e,n){return pr(t.app)?Promise.reject(Hi(t)):FP(Er(t),wl.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Vw(t),i})}function GP(t,e,n,i){return Er(t).onIdTokenChanged(e,n,i)}function $P(t,e,n){return Er(t).beforeAuthStateChanged(e,n)}function KP(t,e,n,i){return Er(t).onAuthStateChanged(e,n,i)}const Xd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xd,"1"),this.storage.removeItem(Xd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=1e3,YP=10;class Uw extends Lw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Iw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);hP()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,YP):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},WP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Uw.type="LOCAL";const QP=Uw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw extends Lw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Bw.type="SESSION";const zw=Bw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Nh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async m=>m(n.origin,l)),p=await XP(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const m=nv("",20);a.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(E.data.response);break;default:clearTimeout(y),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(){return window}function JP(t){ii().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(){return typeof ii().WorkerGlobalScope<"u"&&typeof ii().importScripts=="function"}async function eM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function nM(){return jw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="firebaseLocalStorageDb",rM=1,Zd="firebaseLocalStorage",Hw="fbase_key";class Bc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ph(t,e){return t.transaction([Zd],e?"readwrite":"readonly").objectStore(Zd)}function iM(){const t=indexedDB.deleteDatabase(Fw);return new Bc(t).toPromise()}function iy(){const t=indexedDB.open(Fw,rM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Zd,{keyPath:Hw})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Zd)?e(i):(i.close(),await iM(),e(await iy()))})})}async function v2(t,e,n){const i=Ph(t,!0).put({[Hw]:e,value:n});return new Bc(i).toPromise()}async function sM(t,e){const n=Ph(t,!1).get(e),i=await new Bc(n).toPromise();return i===void 0?null:i.value}function _2(t,e){const n=Ph(t,!0).delete(e);return new Bc(n).toPromise()}const aM=800,oM=3;class qw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await iy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>oM)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nh._getInstance(nM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await eM(),!this.activeServiceWorker)return;this.sender=new ZP(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await iy();return await v2(e,Xd,"1"),await _2(e,Xd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>v2(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>sM(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Ph(a,!1).getAll();return new Bc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qw.type="LOCAL";const lM=qw;new Vc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(t,e){return e?zi(e):(Oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv extends ev{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return al(e,this._buildIdpRequest())}_linkToIdToken(e,n){return al(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return al(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cM(t){return kw(t.auth,new rv(t),t.bypassAuthState)}function fM(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),jP(n,new rv(t),t.bypassAuthState)}async function dM(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),zP(n,new rv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cM;case"linkViaPopup":case"linkViaRedirect":return dM;case"reauthViaPopup":case"reauthViaRedirect":return fM;default:Pr(this.auth,"internal-error")}}resolve(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=new Vc(2e3,1e4);class rl extends Gw{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,rl.currentPopupAction&&rl.currentPopupAction.cancel(),rl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){Yi(this.filter.length===1,"Popup operations only handle one event");const e=nv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hM.get())};e()}}rl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM="pendingRedirect",Id=new Map;class mM extends Gw{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Id.get(this.auth._key());if(!e){try{const i=await gM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Id.set(this.auth._key(),e)}return this.bypassAuthState||Id.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gM(t,e){const n=_M(e),i=vM(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function yM(t,e){Id.set(t._key(),e)}function vM(t){return zi(t._redirectPersistence)}function _M(t){return Cd(pM,t.config.apiKey,t.name)}async function EM(t,e,n=!1){if(pr(t.app))return Promise.reject(Hi(t));const i=to(t),a=uM(i,e),c=await new mM(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=10*60*1e3;class TM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!$w(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(ri(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bM&&this.cachedEventUids.clear(),this.cachedEventUids.has(E2(e))}saveEventToCache(e){this.cachedEventUids.add(E2(e)),this.lastProcessedEventTime=Date.now()}}function E2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $w({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function SM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $w(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wM(t,e={}){return ia(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RM=/^https?/;async function CM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await wM(t);for(const n of e)try{if(IM(n))return}catch{}Pr(t,"unauthorized-domain")}function IM(t){const e=ty(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!RM.test(n))return!1;if(AM.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=new Vc(3e4,6e4);function b2(){const t=ii().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function xM(t){return new Promise((e,n)=>{var i,a,l;function c(){b2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{b2(),n(ri(t,"network-request-failed"))},timeout:DM.get()})}if(!((a=(i=ii().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=ii().gapi)===null||l===void 0)&&l.load)c();else{const d=TP("iframefcb");return ii()[d]=()=>{gapi.load?c():n(ri(t,"network-request-failed"))},xw(`${bP()}?onload=${d}`).catch(p=>n(p))}}).catch(e=>{throw Dd=null,e})}let Dd=null;function OM(t){return Dd=Dd||xM(t),Dd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=new Vc(5e3,15e3),PM="__/auth/iframe",MM="emulator/auth/iframe",kM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LM(t){const e=t.config;Oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Xy(e,MM):`https://${t.config.authDomain}/${PM}`,i={apiKey:e.apiKey,appName:t.name,v:Sl},a=VM.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${kc(i).slice(1)}`}async function UM(t){const e=await OM(t),n=ii().gapi;return Oe(n,t,"internal-error"),e.open({where:document.body,url:LM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kM,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=ri(t,"network-request-failed"),d=ii().setTimeout(()=>{l(c)},NM.get());function p(){ii().clearTimeout(d),a(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zM=500,jM=600,FM="_blank",HM="http://localhost";class T2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qM(t,e,n,i=zM,a=jM){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},BM),{width:i.toString(),height:a.toString(),top:l,left:c}),m=Sn().toLowerCase();n&&(d=Sw(m)?FM:n),bw(m)&&(e=e||HM,p.scrollbars="yes");const y=Object.entries(p).reduce((E,[S,R])=>`${E}${S}=${R},`,"");if(dP(m)&&d!=="_self")return GM(e||"",d),new T2(null);const _=window.open(e||"",d,y);Oe(_,t,"popup-blocked");try{_.focus()}catch{}return new T2(_)}function GM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M="__/auth/handler",KM="emulator/auth/handler",WM=encodeURIComponent("fac");async function S2(t,e,n,i,a,l){Oe(t.config.authDomain,t,"auth-domain-config-required"),Oe(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Sl,eventId:a};if(e instanceof Pw){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",P3(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof Uc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const p=await t._getAppCheckToken(),m=p?`#${WM}=${encodeURIComponent(p)}`:"";return`${YM(t)}?${kc(d).slice(1)}${m}`}function YM({config:t}){return t.emulator?Xy(t,KM):`https://${t.authDomain}/${$M}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="webStorageSupport";class QM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zw,this._completeRedirectFn=EM,this._overrideRedirectResult=yM}async _openPopup(e,n,i,a){var l;Yi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await S2(e,n,i,ty(),a);return qM(e,c,nv())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await S2(e,n,i,ty(),a);return JP(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Yi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await UM(e),i=new TM(e);return n.register("authEvent",a=>(Oe(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vg,{type:vg},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[vg];c!==void 0&&n(!!c),Pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Iw()||Tw()||Jy()}}const XM=QM;var w2="@firebase/auth",A2="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function e4(t){cl(new Wa("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Oe(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dw(t)},m=new vP(i,a,l,p);return IP(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),cl(new Wa("auth-internal",e=>{const n=to(e.getProvider("auth").getImmediate());return(i=>new ZM(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qs(w2,A2,JM(t)),qs(w2,A2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=5*60,n4=sw("authIdTokenMaxAge")||t4;let R2=null;const r4=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>n4)return;const a=n==null?void 0:n.token;R2!==a&&(R2=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function iv(t=uw()){const e=Wy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=CP(t,{popupRedirectResolver:XM,persistence:[lM,QP,zw]}),i=sw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=r4(l.toString());$P(n,c,()=>c(n.currentUser)),GP(n,d=>c(d))}}const a=rw("auth");return a&&DP(n,`http://${a}`),n}function i4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}_P({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=ri("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",i4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});e4("Browser");var C2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gs,Kw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,I){function C(){}C.prototype=I.prototype,P.D=I.prototype,P.prototype=new C,P.prototype.constructor=P,P.C=function(x,V,L){for(var O=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)O[Ue-2]=arguments[Ue];return I.prototype[V].apply(x,O)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,I,C){C||(C=0);var x=Array(16);if(typeof I=="string")for(var V=0;16>V;++V)x[V]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(V=0;16>V;++V)x[V]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=P.g[0],C=P.g[1],V=P.g[2];var L=P.g[3],O=I+(L^C&(V^L))+x[0]+3614090360&4294967295;I=C+(O<<7&4294967295|O>>>25),O=L+(V^I&(C^V))+x[1]+3905402710&4294967295,L=I+(O<<12&4294967295|O>>>20),O=V+(C^L&(I^C))+x[2]+606105819&4294967295,V=L+(O<<17&4294967295|O>>>15),O=C+(I^V&(L^I))+x[3]+3250441966&4294967295,C=V+(O<<22&4294967295|O>>>10),O=I+(L^C&(V^L))+x[4]+4118548399&4294967295,I=C+(O<<7&4294967295|O>>>25),O=L+(V^I&(C^V))+x[5]+1200080426&4294967295,L=I+(O<<12&4294967295|O>>>20),O=V+(C^L&(I^C))+x[6]+2821735955&4294967295,V=L+(O<<17&4294967295|O>>>15),O=C+(I^V&(L^I))+x[7]+4249261313&4294967295,C=V+(O<<22&4294967295|O>>>10),O=I+(L^C&(V^L))+x[8]+1770035416&4294967295,I=C+(O<<7&4294967295|O>>>25),O=L+(V^I&(C^V))+x[9]+2336552879&4294967295,L=I+(O<<12&4294967295|O>>>20),O=V+(C^L&(I^C))+x[10]+4294925233&4294967295,V=L+(O<<17&4294967295|O>>>15),O=C+(I^V&(L^I))+x[11]+2304563134&4294967295,C=V+(O<<22&4294967295|O>>>10),O=I+(L^C&(V^L))+x[12]+1804603682&4294967295,I=C+(O<<7&4294967295|O>>>25),O=L+(V^I&(C^V))+x[13]+4254626195&4294967295,L=I+(O<<12&4294967295|O>>>20),O=V+(C^L&(I^C))+x[14]+2792965006&4294967295,V=L+(O<<17&4294967295|O>>>15),O=C+(I^V&(L^I))+x[15]+1236535329&4294967295,C=V+(O<<22&4294967295|O>>>10),O=I+(V^L&(C^V))+x[1]+4129170786&4294967295,I=C+(O<<5&4294967295|O>>>27),O=L+(C^V&(I^C))+x[6]+3225465664&4294967295,L=I+(O<<9&4294967295|O>>>23),O=V+(I^C&(L^I))+x[11]+643717713&4294967295,V=L+(O<<14&4294967295|O>>>18),O=C+(L^I&(V^L))+x[0]+3921069994&4294967295,C=V+(O<<20&4294967295|O>>>12),O=I+(V^L&(C^V))+x[5]+3593408605&4294967295,I=C+(O<<5&4294967295|O>>>27),O=L+(C^V&(I^C))+x[10]+38016083&4294967295,L=I+(O<<9&4294967295|O>>>23),O=V+(I^C&(L^I))+x[15]+3634488961&4294967295,V=L+(O<<14&4294967295|O>>>18),O=C+(L^I&(V^L))+x[4]+3889429448&4294967295,C=V+(O<<20&4294967295|O>>>12),O=I+(V^L&(C^V))+x[9]+568446438&4294967295,I=C+(O<<5&4294967295|O>>>27),O=L+(C^V&(I^C))+x[14]+3275163606&4294967295,L=I+(O<<9&4294967295|O>>>23),O=V+(I^C&(L^I))+x[3]+4107603335&4294967295,V=L+(O<<14&4294967295|O>>>18),O=C+(L^I&(V^L))+x[8]+1163531501&4294967295,C=V+(O<<20&4294967295|O>>>12),O=I+(V^L&(C^V))+x[13]+2850285829&4294967295,I=C+(O<<5&4294967295|O>>>27),O=L+(C^V&(I^C))+x[2]+4243563512&4294967295,L=I+(O<<9&4294967295|O>>>23),O=V+(I^C&(L^I))+x[7]+1735328473&4294967295,V=L+(O<<14&4294967295|O>>>18),O=C+(L^I&(V^L))+x[12]+2368359562&4294967295,C=V+(O<<20&4294967295|O>>>12),O=I+(C^V^L)+x[5]+4294588738&4294967295,I=C+(O<<4&4294967295|O>>>28),O=L+(I^C^V)+x[8]+2272392833&4294967295,L=I+(O<<11&4294967295|O>>>21),O=V+(L^I^C)+x[11]+1839030562&4294967295,V=L+(O<<16&4294967295|O>>>16),O=C+(V^L^I)+x[14]+4259657740&4294967295,C=V+(O<<23&4294967295|O>>>9),O=I+(C^V^L)+x[1]+2763975236&4294967295,I=C+(O<<4&4294967295|O>>>28),O=L+(I^C^V)+x[4]+1272893353&4294967295,L=I+(O<<11&4294967295|O>>>21),O=V+(L^I^C)+x[7]+4139469664&4294967295,V=L+(O<<16&4294967295|O>>>16),O=C+(V^L^I)+x[10]+3200236656&4294967295,C=V+(O<<23&4294967295|O>>>9),O=I+(C^V^L)+x[13]+681279174&4294967295,I=C+(O<<4&4294967295|O>>>28),O=L+(I^C^V)+x[0]+3936430074&4294967295,L=I+(O<<11&4294967295|O>>>21),O=V+(L^I^C)+x[3]+3572445317&4294967295,V=L+(O<<16&4294967295|O>>>16),O=C+(V^L^I)+x[6]+76029189&4294967295,C=V+(O<<23&4294967295|O>>>9),O=I+(C^V^L)+x[9]+3654602809&4294967295,I=C+(O<<4&4294967295|O>>>28),O=L+(I^C^V)+x[12]+3873151461&4294967295,L=I+(O<<11&4294967295|O>>>21),O=V+(L^I^C)+x[15]+530742520&4294967295,V=L+(O<<16&4294967295|O>>>16),O=C+(V^L^I)+x[2]+3299628645&4294967295,C=V+(O<<23&4294967295|O>>>9),O=I+(V^(C|~L))+x[0]+4096336452&4294967295,I=C+(O<<6&4294967295|O>>>26),O=L+(C^(I|~V))+x[7]+1126891415&4294967295,L=I+(O<<10&4294967295|O>>>22),O=V+(I^(L|~C))+x[14]+2878612391&4294967295,V=L+(O<<15&4294967295|O>>>17),O=C+(L^(V|~I))+x[5]+4237533241&4294967295,C=V+(O<<21&4294967295|O>>>11),O=I+(V^(C|~L))+x[12]+1700485571&4294967295,I=C+(O<<6&4294967295|O>>>26),O=L+(C^(I|~V))+x[3]+2399980690&4294967295,L=I+(O<<10&4294967295|O>>>22),O=V+(I^(L|~C))+x[10]+4293915773&4294967295,V=L+(O<<15&4294967295|O>>>17),O=C+(L^(V|~I))+x[1]+2240044497&4294967295,C=V+(O<<21&4294967295|O>>>11),O=I+(V^(C|~L))+x[8]+1873313359&4294967295,I=C+(O<<6&4294967295|O>>>26),O=L+(C^(I|~V))+x[15]+4264355552&4294967295,L=I+(O<<10&4294967295|O>>>22),O=V+(I^(L|~C))+x[6]+2734768916&4294967295,V=L+(O<<15&4294967295|O>>>17),O=C+(L^(V|~I))+x[13]+1309151649&4294967295,C=V+(O<<21&4294967295|O>>>11),O=I+(V^(C|~L))+x[4]+4149444226&4294967295,I=C+(O<<6&4294967295|O>>>26),O=L+(C^(I|~V))+x[11]+3174756917&4294967295,L=I+(O<<10&4294967295|O>>>22),O=V+(I^(L|~C))+x[2]+718787259&4294967295,V=L+(O<<15&4294967295|O>>>17),O=C+(L^(V|~I))+x[9]+3951481745&4294967295,P.g[0]=P.g[0]+I&4294967295,P.g[1]=P.g[1]+(V+(O<<21&4294967295|O>>>11))&4294967295,P.g[2]=P.g[2]+V&4294967295,P.g[3]=P.g[3]+L&4294967295}i.prototype.u=function(P,I){I===void 0&&(I=P.length);for(var C=I-this.blockSize,x=this.B,V=this.h,L=0;L<I;){if(V==0)for(;L<=C;)a(this,P,L),L+=this.blockSize;if(typeof P=="string"){for(;L<I;)if(x[V++]=P.charCodeAt(L++),V==this.blockSize){a(this,x),V=0;break}}else for(;L<I;)if(x[V++]=P[L++],V==this.blockSize){a(this,x),V=0;break}}this.h=V,this.o+=I},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var I=1;I<P.length-8;++I)P[I]=0;var C=8*this.o;for(I=P.length-8;I<P.length;++I)P[I]=C&255,C/=256;for(this.u(P),P=Array(16),I=C=0;4>I;++I)for(var x=0;32>x;x+=8)P[C++]=this.g[I]>>>x&255;return P};function l(P,I){var C=d;return Object.prototype.hasOwnProperty.call(C,P)?C[P]:C[P]=I(P)}function c(P,I){this.h=I;for(var C=[],x=!0,V=P.length-1;0<=V;V--){var L=P[V]|0;x&&L==I||(C[V]=L,x=!1)}this.g=C}var d={};function p(P){return-128<=P&&128>P?l(P,function(I){return new c([I|0],0>I?-1:0)}):new c([P|0],0>P?-1:0)}function m(P){if(isNaN(P)||!isFinite(P))return _;if(0>P)return D(m(-P));for(var I=[],C=1,x=0;P>=C;x++)I[x]=P/C|0,C*=4294967296;return new c(I,0)}function y(P,I){if(P.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(P.charAt(0)=="-")return D(y(P.substring(1),I));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=m(Math.pow(I,8)),x=_,V=0;V<P.length;V+=8){var L=Math.min(8,P.length-V),O=parseInt(P.substring(V,V+L),I);8>L?(L=m(Math.pow(I,L)),x=x.j(L).add(m(O))):(x=x.j(C),x=x.add(m(O)))}return x}var _=p(0),E=p(1),S=p(16777216);t=c.prototype,t.m=function(){if(M(this))return-D(this).m();for(var P=0,I=1,C=0;C<this.g.length;C++){var x=this.i(C);P+=(0<=x?x:4294967296+x)*I,I*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(R(this))return"0";if(M(this))return"-"+D(this).toString(P);for(var I=m(Math.pow(P,6)),C=this,x="";;){var V=Z(C,I).g;C=z(C,V.j(I));var L=((0<C.g.length?C.g[0]:C.h)>>>0).toString(P);if(C=V,R(C))return L+x;for(;6>L.length;)L="0"+L;x=L+x}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function R(P){if(P.h!=0)return!1;for(var I=0;I<P.g.length;I++)if(P.g[I]!=0)return!1;return!0}function M(P){return P.h==-1}t.l=function(P){return P=z(this,P),M(P)?-1:R(P)?0:1};function D(P){for(var I=P.g.length,C=[],x=0;x<I;x++)C[x]=~P.g[x];return new c(C,~P.h).add(E)}t.abs=function(){return M(this)?D(this):this},t.add=function(P){for(var I=Math.max(this.g.length,P.g.length),C=[],x=0,V=0;V<=I;V++){var L=x+(this.i(V)&65535)+(P.i(V)&65535),O=(L>>>16)+(this.i(V)>>>16)+(P.i(V)>>>16);x=O>>>16,L&=65535,O&=65535,C[V]=O<<16|L}return new c(C,C[C.length-1]&-2147483648?-1:0)};function z(P,I){return P.add(D(I))}t.j=function(P){if(R(this)||R(P))return _;if(M(this))return M(P)?D(this).j(D(P)):D(D(this).j(P));if(M(P))return D(this.j(D(P)));if(0>this.l(S)&&0>P.l(S))return m(this.m()*P.m());for(var I=this.g.length+P.g.length,C=[],x=0;x<2*I;x++)C[x]=0;for(x=0;x<this.g.length;x++)for(var V=0;V<P.g.length;V++){var L=this.i(x)>>>16,O=this.i(x)&65535,Ue=P.i(V)>>>16,Ne=P.i(V)&65535;C[2*x+2*V]+=O*Ne,F(C,2*x+2*V),C[2*x+2*V+1]+=L*Ne,F(C,2*x+2*V+1),C[2*x+2*V+1]+=O*Ue,F(C,2*x+2*V+1),C[2*x+2*V+2]+=L*Ue,F(C,2*x+2*V+2)}for(x=0;x<I;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=I;x<2*I;x++)C[x]=0;return new c(C,0)};function F(P,I){for(;(P[I]&65535)!=P[I];)P[I+1]+=P[I]>>>16,P[I]&=65535,I++}function q(P,I){this.g=P,this.h=I}function Z(P,I){if(R(I))throw Error("division by zero");if(R(P))return new q(_,_);if(M(P))return I=Z(D(P),I),new q(D(I.g),D(I.h));if(M(I))return I=Z(P,D(I)),new q(D(I.g),I.h);if(30<P.g.length){if(M(P)||M(I))throw Error("slowDivide_ only works with positive integers.");for(var C=E,x=I;0>=x.l(P);)C=X(C),x=X(x);var V=se(C,1),L=se(x,1);for(x=se(x,2),C=se(C,2);!R(x);){var O=L.add(x);0>=O.l(P)&&(V=V.add(C),L=O),x=se(x,1),C=se(C,1)}return I=z(P,V.j(I)),new q(V,I)}for(V=_;0<=P.l(I);){for(C=Math.max(1,Math.floor(P.m()/I.m())),x=Math.ceil(Math.log(C)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),L=m(C),O=L.j(I);M(O)||0<O.l(P);)C-=x,L=m(C),O=L.j(I);R(L)&&(L=E),V=V.add(L),P=z(P,O)}return new q(V,P)}t.A=function(P){return Z(this,P).h},t.and=function(P){for(var I=Math.max(this.g.length,P.g.length),C=[],x=0;x<I;x++)C[x]=this.i(x)&P.i(x);return new c(C,this.h&P.h)},t.or=function(P){for(var I=Math.max(this.g.length,P.g.length),C=[],x=0;x<I;x++)C[x]=this.i(x)|P.i(x);return new c(C,this.h|P.h)},t.xor=function(P){for(var I=Math.max(this.g.length,P.g.length),C=[],x=0;x<I;x++)C[x]=this.i(x)^P.i(x);return new c(C,this.h^P.h)};function X(P){for(var I=P.g.length+1,C=[],x=0;x<I;x++)C[x]=P.i(x)<<1|P.i(x-1)>>>31;return new c(C,P.h)}function se(P,I){var C=I>>5;I%=32;for(var x=P.g.length-C,V=[],L=0;L<x;L++)V[L]=0<I?P.i(L+C)>>>I|P.i(L+C+1)<<32-I:P.i(L+C);return new c(V,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Kw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,Gs=c}).apply(typeof C2<"u"?C2:typeof self<"u"?self:typeof window<"u"?window:{});var gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ww,Xu,Yw,xd,sy,Qw,Xw,Zw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,b){return f==Array.prototype||f==Object.prototype||(f[v]=b.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof gd=="object"&&gd];for(var v=0;v<f.length;++v){var b=f[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=n(this);function a(f,v){if(v)e:{var b=i;f=f.split(".");for(var A=0;A<f.length-1;A++){var K=f[A];if(!(K in b))break e;b=b[K]}f=f[f.length-1],A=b[f],v=v(A),v!=A&&v!=null&&e(b,f,{configurable:!0,writable:!0,value:v})}}function l(f,v){f instanceof String&&(f+="");var b=0,A=!1,K={next:function(){if(!A&&b<f.length){var J=b++;return{value:v(J,f[J]),done:!1}}return A=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}a("Array.prototype.values",function(f){return f||function(){return l(this,function(v,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function m(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function y(f,v,b){return f.call.apply(f.bind,arguments)}function _(f,v,b){if(!f)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,A),f.apply(v,K)}}return function(){return f.apply(v,arguments)}}function E(f,v,b){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,E.apply(null,arguments)}function S(f,v){var b=Array.prototype.slice.call(arguments,1);return function(){var A=b.slice();return A.push.apply(A,arguments),f.apply(this,A)}}function R(f,v){function b(){}b.prototype=v.prototype,f.aa=v.prototype,f.prototype=new b,f.prototype.constructor=f,f.Qb=function(A,K,J){for(var fe=Array(arguments.length-2),et=2;et<arguments.length;et++)fe[et-2]=arguments[et];return v.prototype[K].apply(A,fe)}}function M(f){const v=f.length;if(0<v){const b=Array(v);for(let A=0;A<v;A++)b[A]=f[A];return b}return[]}function D(f,v){for(let b=1;b<arguments.length;b++){const A=arguments[b];if(p(A)){const K=f.length||0,J=A.length||0;f.length=K+J;for(let fe=0;fe<J;fe++)f[K+fe]=A[fe]}else f.push(A)}}class z{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function F(f){return/^[\s\xa0]*$/.test(f)}function q(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function Z(f){return Z[" "](f),f}Z[" "]=function(){};var X=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function se(f,v,b){for(const A in f)v.call(b,f[A],A,f)}function P(f,v){for(const b in f)v.call(void 0,f[b],b,f)}function I(f){const v={};for(const b in f)v[b]=f[b];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(f,v){let b,A;for(let K=1;K<arguments.length;K++){A=arguments[K];for(b in A)f[b]=A[b];for(let J=0;J<C.length;J++)b=C[J],Object.prototype.hasOwnProperty.call(A,b)&&(f[b]=A[b])}}function V(f){var v=1;f=f.split(":");const b=[];for(;0<v&&f.length;)b.push(f.shift()),v--;return f.length&&b.push(f.join(":")),b}function L(f){d.setTimeout(()=>{throw f},0)}function O(){var f=Fe;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class Ue{constructor(){this.h=this.g=null}add(v,b){const A=Ne.get();A.set(v,b),this.h?this.h.next=A:this.g=A,this.h=A}}var Ne=new z(()=>new ue,f=>f.reset());class ue{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,ve=!1,Fe=new Ue,B=()=>{const f=d.Promise.resolve(void 0);Ee=()=>{f.then(oe)}};var oe=()=>{for(var f;f=O();){try{f.h.call(f.g)}catch(b){L(b)}var v=Ne;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}ve=!1};function be(){this.s=this.s,this.C=this.C}be.prototype.s=!1,be.prototype.ma=function(){this.s||(this.s=!0,this.N())},be.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};d.addEventListener("test",b,v),d.removeEventListener("test",b,v)}catch{}return f}();function Me(f,v){if(me.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var b=this.type=f.type,A=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(X){e:{try{Z(v.nodeName);var K=!0;break e}catch{}K=!1}K||(v=null)}}else b=="mouseover"?v=f.fromElement:b=="mouseout"&&(v=f.toElement);this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:xe[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Me.aa.h.call(this)}}R(Me,me);var xe={2:"touch",3:"pen",4:"mouse"};Me.prototype.h=function(){Me.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var mt="closure_listenable_"+(1e6*Math.random()|0),qe=0;function lt(f,v,b,A,K){this.listener=f,this.proxy=null,this.src=v,this.type=b,this.capture=!!A,this.ha=K,this.key=++qe,this.da=this.fa=!1}function Xe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function zt(f){this.src=f,this.g={},this.h=0}zt.prototype.add=function(f,v,b,A,K){var J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);var fe=xt(f,v,A,K);return-1<fe?(v=f[fe],b||(v.fa=!1)):(v=new lt(v,this.src,J,!!A,K),v.fa=b,f.push(v)),v};function _t(f,v){var b=v.type;if(b in f.g){var A=f.g[b],K=Array.prototype.indexOf.call(A,v,void 0),J;(J=0<=K)&&Array.prototype.splice.call(A,K,1),J&&(Xe(v),f.g[b].length==0&&(delete f.g[b],f.h--))}}function xt(f,v,b,A){for(var K=0;K<f.length;++K){var J=f[K];if(!J.da&&J.listener==v&&J.capture==!!b&&J.ha==A)return K}return-1}var br="closure_lm_"+(1e6*Math.random()|0),ui={};function Vr(f,v,b,A,K){if(Array.isArray(v)){for(var J=0;J<v.length;J++)Vr(f,v[J],b,A,K);return null}return b=Be(b),f&&f[mt]?f.K(v,b,m(A)?!!A.capture:!1,K):ao(f,v,b,!1,A,K)}function ao(f,v,b,A,K,J){if(!v)throw Error("Invalid event type");var fe=m(K)?!!K.capture:!!K,et=ce(f);if(et||(f[br]=et=new zt(f)),b=et.add(v,b,A,fe,J),b.proxy)return b;if(A=U(),b.proxy=A,A.src=f,A.listener=b,f.addEventListener)ge||(K=fe),K===void 0&&(K=!1),f.addEventListener(v.toString(),A,K);else if(f.attachEvent)f.attachEvent(pe(v.toString()),A);else if(f.addListener&&f.removeListener)f.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return b}function U(){function f(b){return v.call(f.src,f.listener,b)}const v=he;return f}function Y(f,v,b,A,K){if(Array.isArray(v))for(var J=0;J<v.length;J++)Y(f,v[J],b,A,K);else A=m(A)?!!A.capture:!!A,b=Be(b),f&&f[mt]?(f=f.i,v=String(v).toString(),v in f.g&&(J=f.g[v],b=xt(J,b,A,K),-1<b&&(Xe(J[b]),Array.prototype.splice.call(J,b,1),J.length==0&&(delete f.g[v],f.h--)))):f&&(f=ce(f))&&(v=f.g[v.toString()],f=-1,v&&(f=xt(v,b,A,K)),(b=-1<f?v[f]:null)&&ee(b))}function ee(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[mt])_t(v.i,f);else{var b=f.type,A=f.proxy;v.removeEventListener?v.removeEventListener(b,A,f.capture):v.detachEvent?v.detachEvent(pe(b),A):v.addListener&&v.removeListener&&v.removeListener(A),(b=ce(v))?(_t(b,f),b.h==0&&(b.src=null,v[br]=null)):Xe(f)}}}function pe(f){return f in ui?ui[f]:ui[f]="on"+f}function he(f,v){if(f.da)f=!0;else{v=new Me(v,this);var b=f.listener,A=f.ha||f.src;f.fa&&ee(f),f=b.call(A,v)}return f}function ce(f){return f=f[br],f instanceof zt?f:null}var _e="__closure_events_fn_"+(1e9*Math.random()>>>0);function Be(f){return typeof f=="function"?f:(f[_e]||(f[_e]=function(v){return f.handleEvent(v)}),f[_e])}function Ge(){be.call(this),this.i=new zt(this),this.M=this,this.F=null}R(Ge,be),Ge.prototype[mt]=!0,Ge.prototype.removeEventListener=function(f,v,b,A){Y(this,f,v,b,A)};function Ke(f,v){var b,A=f.F;if(A)for(b=[];A;A=A.F)b.push(A);if(f=f.M,A=v.type||v,typeof v=="string")v=new me(v,f);else if(v instanceof me)v.target=v.target||f;else{var K=v;v=new me(A,f),x(v,K)}if(K=!0,b)for(var J=b.length-1;0<=J;J--){var fe=v.g=b[J];K=Qt(fe,A,!0,v)&&K}if(fe=v.g=f,K=Qt(fe,A,!0,v)&&K,K=Qt(fe,A,!1,v)&&K,b)for(J=0;J<b.length;J++)fe=v.g=b[J],K=Qt(fe,A,!1,v)&&K}Ge.prototype.N=function(){if(Ge.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var b=f.g[v],A=0;A<b.length;A++)Xe(b[A]);delete f.g[v],f.h--}}this.F=null},Ge.prototype.K=function(f,v,b,A){return this.i.add(String(f),v,!1,b,A)},Ge.prototype.L=function(f,v,b,A){return this.i.add(String(f),v,!0,b,A)};function Qt(f,v,b,A){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var K=!0,J=0;J<v.length;++J){var fe=v[J];if(fe&&!fe.da&&fe.capture==b){var et=fe.listener,Ft=fe.ha||fe.src;fe.fa&&_t(f.i,fe),K=et.call(Ft,A)!==!1&&K}}return K&&!A.defaultPrevented}function oo(f,v,b){if(typeof f=="function")b&&(f=E(f,b));else if(f&&typeof f.handleEvent=="function")f=E(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(f,v||0)}function ci(f){f.g=oo(()=>{f.g=null,f.i&&(f.i=!1,ci(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class sa extends be{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ci(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fi(f){be.call(this),this.h=f,this.g={}}R(fi,be);var Tr=[];function Xt(f){se(f.g,function(v,b){this.g.hasOwnProperty(b)&&ee(v)},f),f.g={}}fi.prototype.N=function(){fi.aa.N.call(this),Xt(this)},fi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ji=d.JSON.stringify,Lr=d.JSON.parse,wn=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function Nl(){}Nl.prototype.h=null;function Kc(f){return f.h||(f.h=f.i())}function Wc(){}var Ur={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function es(){me.call(this,"d")}R(es,me);function Sr(){me.call(this,"c")}R(Sr,me);var Qn={},ts=null;function lo(){return ts=ts||new Ge}Qn.La="serverreachability";function Pl(f){me.call(this,Qn.La,f)}R(Pl,me);function ns(f){const v=lo();Ke(v,new Pl(v))}Qn.STAT_EVENT="statevent";function uo(f,v){me.call(this,Qn.STAT_EVENT,f),this.stat=v}R(uo,me);function Ot(f){const v=lo();Ke(v,new uo(v,f))}Qn.Ma="timingevent";function Yc(f,v){me.call(this,Qn.Ma,f),this.size=v}R(Yc,me);function rs(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},v)}function is(){this.g=!0}is.prototype.xa=function(){this.g=!1};function Qc(f,v,b,A,K,J){f.info(function(){if(f.g)if(J)for(var fe="",et=J.split("&"),Ft=0;Ft<et.length;Ft++){var tt=et[Ft].split("=");if(1<tt.length){var en=tt[0];tt=tt[1];var Ht=en.split("_");fe=2<=Ht.length&&Ht[1]=="type"?fe+(en+"="+tt+"&"):fe+(en+"=redacted&")}}else fe=null;else fe=J;return"XMLHTTP REQ ("+A+") [attempt "+K+"]: "+v+`
`+b+`
`+fe})}function Xc(f,v,b,A,K,J,fe){f.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+K+"]: "+v+`
`+b+`
`+J+" "+fe})}function ss(f,v,b,A){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+Zt(f,b)+(A?" "+A:"")})}function Br(f,v){f.info(function(){return"TIMEOUT: "+v})}is.prototype.info=function(){};function Zt(f,v){if(!f.g)return v;if(!v)return null;try{var b=JSON.parse(v);if(b){for(f=0;f<b.length;f++)if(Array.isArray(b[f])){var A=b[f];if(!(2>A.length)){var K=A[1];if(Array.isArray(K)&&!(1>K.length)){var J=K[0];if(J!="noop"&&J!="stop"&&J!="close")for(var fe=1;fe<K.length;fe++)K[fe]=""}}}}return Ji(b)}catch{return v}}var jt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},aa;function co(){}R(co,Nl),co.prototype.g=function(){return new XMLHttpRequest},co.prototype.i=function(){return{}},aa=new co;function zr(f,v,b,A){this.j=f,this.i=v,this.l=b,this.R=A||1,this.U=new fi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ml}function Ml(){this.i=null,this.g="",this.h=!1}var as={},oa={};function wr(f,v,b){f.L=1,f.v=ca(At(v)),f.m=b,f.P=!0,hi(f,null)}function hi(f,v){f.F=Date.now(),bt(f),f.A=At(f.v);var b=f.A,A=f.R;Array.isArray(A)||(A=[String(A)]),gi(b.i,"t",A),f.C=0,b=f.j.J,f.h=new Ml,f.g=df(f.j,b?v:null,!f.m),0<f.O&&(f.M=new sa(E(f.Y,f,f.g),f.O)),v=f.U,b=f.g,A=f.ca;var K="readystatechange";Array.isArray(K)||(K&&(Tr[0]=K.toString()),K=Tr);for(var J=0;J<K.length;J++){var fe=Vr(b,K[J],A||v.handleEvent,!1,v.h||v);if(!fe)break;v.g[fe.key]=fe}v=f.H?I(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),ns(),Qc(f.i,f.u,f.A,f.l,f.R,f.m)}zr.prototype.ca=function(f){f=f.target;const v=this.M;v&&tr(f)==3?v.j():this.Y(f)},zr.prototype.Y=function(f){try{if(f==this.g)e:{const Ht=tr(this.g);var v=this.g.Ba();const Ei=this.g.Z();if(!(3>Ht)&&(Ht!=3||this.g&&(this.h.h||this.g.oa()||rf(this.g)))){this.J||Ht!=4||v==7||(v==8||0>=Ei?ns(3):ns(2)),fo(this);var b=this.g.Z();this.X=b;t:if(os(this)){var A=rf(this.g);f="";var K=A.length,J=tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){On(this),Ln(this);var fe="";break t}this.h.i=new d.TextDecoder}for(v=0;v<K;v++)this.h.h=!0,f+=this.h.i.decode(A[v],{stream:!(J&&v==K-1)});A.length=0,this.h.g+=f,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=b==200,Xc(this.i,this.u,this.A,this.l,this.R,Ht,b),this.o){if(this.T&&!this.K){t:{if(this.g){var et,Ft=this.g;if((et=Ft.g?Ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(et)){var tt=et;break t}}tt=null}if(b=tt)ss(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Un(this,b);else{this.o=!1,this.s=3,Ot(12),On(this),Ln(this);break e}}if(this.P){b=!0;let un;for(;!this.J&&this.C<fe.length;)if(un=ls(this,fe),un==oa){Ht==4&&(this.s=4,Ot(14),b=!1),ss(this.i,this.l,null,"[Incomplete Response]");break}else if(un==as){this.s=4,Ot(15),ss(this.i,this.l,fe,"[Invalid Chunk]"),b=!1;break}else ss(this.i,this.l,un,null),Un(this,un);if(os(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||fe.length!=0||this.h.h||(this.s=1,Ot(16),b=!1),this.o=this.o&&b,!b)ss(this.i,this.l,fe,"[Invalid Chunked Response]"),On(this),Ln(this);else if(0<fe.length&&!this.W){this.W=!0;var en=this.j;en.g==this&&en.ba&&!en.M&&(en.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),ya(en),en.M=!0,Ot(11))}}else ss(this.i,this.l,fe,null),Un(this,fe);Ht==4&&On(this),this.o&&!this.J&&(Ht==4?uf(this.j,this):(this.o=!1,bt(this)))}else sp(this.g),b==400&&0<fe.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),On(this),Ln(this)}}}catch{}finally{}};function os(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function ls(f,v){var b=f.C,A=v.indexOf(`
`,b);return A==-1?oa:(b=Number(v.substring(b,A)),isNaN(b)?as:(A+=1,A+b>v.length?oa:(v=v.slice(A,A+b),f.C=A+b,v)))}zr.prototype.cancel=function(){this.J=!0,On(this)};function bt(f){f.S=Date.now()+f.I,kl(f,f.I)}function kl(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=rs(E(f.ba,f),v)}function fo(f){f.B&&(d.clearTimeout(f.B),f.B=null)}zr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Br(this.i,this.A),this.L!=2&&(ns(),Ot(17)),On(this),this.s=2,Ln(this)):kl(this,this.S-f)};function Ln(f){f.j.G==0||f.J||uf(f.j,f)}function On(f){fo(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,Xt(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function Un(f,v){try{var b=f.j;if(b.G!=0&&(b.g==f||us(b.h,f))){if(!f.K&&us(b.h,f)&&b.G==3){try{var A=b.Da.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var K=A;if(K[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<f.F)To(b),Eo(b);else break e;$l(b),Ot(18)}}else b.za=K[1],0<b.za-b.T&&37500>K[2]&&b.F&&b.v==0&&!b.C&&(b.C=rs(E(b.Za,b),6e3));if(1>=Zc(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else _i(b,11)}else if((f.K||b.g==f)&&To(b),!F(v))for(K=b.Da.g.parse(v),v=0;v<K.length;v++){let tt=K[v];if(b.T=tt[0],tt=tt[1],b.G==2)if(tt[0]=="c"){b.K=tt[1],b.ia=tt[2];const en=tt[3];en!=null&&(b.la=en,b.j.info("VER="+b.la));const Ht=tt[4];Ht!=null&&(b.Aa=Ht,b.j.info("SVER="+b.Aa));const Ei=tt[5];Ei!=null&&typeof Ei=="number"&&0<Ei&&(A=1.5*Ei,b.L=A,b.j.info("backChannelRequestTimeoutMs_="+A)),A=b;const un=f.g;if(un){const Kr=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kr){var J=A.h;J.g||Kr.indexOf("spdy")==-1&&Kr.indexOf("quic")==-1&&Kr.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(cs(J,J.h),J.h=null))}if(A.D){const Wl=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;Wl&&(A.ya=Wl,st(A.I,A.D,Wl))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-f.F,b.j.info("Handshake RTT: "+b.R+"ms")),A=b;var fe=f;if(A.qa=ff(A,A.J?A.ia:null,A.W),fe.K){Xn(A.h,fe);var et=fe,Ft=A.L;Ft&&(et.I=Ft),et.B&&(fo(et),bt(et)),A.g=fe}else of(A);0<b.i.length&&bo(b)}else tt[0]!="stop"&&tt[0]!="close"||_i(b,7);else b.G==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?_i(b,7):ql(b):tt[0]!="noop"&&b.l&&b.l.ta(tt),b.v=0)}}ns(4)}catch{}}var ep=class{constructor(f,v){this.g=f,this.map=v}};function Vl(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ll(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Zc(f){return f.h?1:f.g?f.g.size:0}function us(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function cs(f,v){f.g?f.g.add(v):f.h=v}function Xn(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}Vl.prototype.cancel=function(){if(this.i=An(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function An(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const b of f.g.values())v=v.concat(b.D);return v}return M(f.i)}function Jc(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(p(f)){for(var v=[],b=f.length,A=0;A<b;A++)v.push(f[A]);return v}v=[],b=0;for(A in f)v[b++]=f[A];return v}function tp(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(p(f)||typeof f=="string"){var v=[];f=f.length;for(var b=0;b<f;b++)v.push(b);return v}v=[],b=0;for(const A in f)v[b++]=A;return v}}}function la(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(p(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var b=tp(f),A=Jc(f),K=A.length,J=0;J<K;J++)v.call(void 0,A[J],b&&b[J],f)}var Ul=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ho(f,v){if(f){f=f.split("&");for(var b=0;b<f.length;b++){var A=f[b].indexOf("="),K=null;if(0<=A){var J=f[b].substring(0,A);K=f[b].substring(A+1)}else J=f[b];v(J,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function pi(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof pi){this.h=f.h,fs(this,f.j),this.o=f.o,this.g=f.g,ua(this,f.s),this.l=f.l;var v=f.i,b=new jr;b.i=v.i,v.g&&(b.g=new Map(v.g),b.h=v.h),po(this,b),this.m=f.m}else f&&(v=String(f).match(Ul))?(this.h=!1,fs(this,v[1]||"",!0),this.o=ds(v[2]||""),this.g=ds(v[3]||"",!0),ua(this,v[4]),this.l=ds(v[5]||"",!0),po(this,v[6]||"",!0),this.m=ds(v[7]||"")):(this.h=!1,this.i=new jr(null,this.h))}pi.prototype.toString=function(){var f=[],v=this.j;v&&f.push(Zn(v,Bl,!0),":");var b=this.g;return(b||v=="file")&&(f.push("//"),(v=this.o)&&f.push(Zn(v,Bl,!0),"@"),f.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&f.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(Zn(b,b.charAt(0)=="/"?zl:ef,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",Zn(b,ip)),f.join("")};function At(f){return new pi(f)}function fs(f,v,b){f.j=b?ds(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function ua(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function po(f,v,b){v instanceof jr?(f.i=v,jl(f.i,f.h)):(b||(v=Zn(v,rp)),f.i=new jr(v,f.h))}function st(f,v,b){f.i.set(v,b)}function ca(f){return st(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ds(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Zn(f,v,b){return typeof f=="string"?(f=encodeURI(f).replace(v,np),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function np(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Bl=/[#\/\?@]/g,ef=/[#\?:]/g,zl=/[#\?]/g,rp=/[#\?@]/g,ip=/#/g;function jr(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function Jn(f){f.g||(f.g=new Map,f.h=0,f.i&&ho(f.i,function(v,b){f.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}t=jr.prototype,t.add=function(f,v){Jn(this),this.i=null,f=yi(this,f);var b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(v),this.h+=1,this};function mo(f,v){Jn(f),v=yi(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function mi(f,v){return Jn(f),v=yi(f,v),f.g.has(v)}t.forEach=function(f,v){Jn(this),this.g.forEach(function(b,A){b.forEach(function(K){f.call(v,K,A,this)},this)},this)},t.na=function(){Jn(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),b=[];for(let A=0;A<v.length;A++){const K=f[A];for(let J=0;J<K.length;J++)b.push(v[A])}return b},t.V=function(f){Jn(this);let v=[];if(typeof f=="string")mi(this,f)&&(v=v.concat(this.g.get(yi(this,f))));else{f=Array.from(this.g.values());for(let b=0;b<f.length;b++)v=v.concat(f[b])}return v},t.set=function(f,v){return Jn(this),this.i=null,f=yi(this,f),mi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},t.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function gi(f,v,b){mo(f,v),0<b.length&&(f.i=null,f.g.set(yi(f,v),M(b)),f.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var b=0;b<v.length;b++){var A=v[b];const J=encodeURIComponent(String(A)),fe=this.V(A);for(A=0;A<fe.length;A++){var K=J;fe[A]!==""&&(K+="="+encodeURIComponent(String(fe[A]))),f.push(K)}}return this.i=f.join("&")};function yi(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function jl(f,v){v&&!f.j&&(Jn(f),f.i=null,f.g.forEach(function(b,A){var K=A.toLowerCase();A!=K&&(mo(this,A),gi(this,K,b))},f)),f.j=v}function tf(f,v){const b=new is;if(d.Image){const A=new Image;A.onload=S(er,b,"TestLoadImage: loaded",!0,v,A),A.onerror=S(er,b,"TestLoadImage: error",!1,v,A),A.onabort=S(er,b,"TestLoadImage: abort",!1,v,A),A.ontimeout=S(er,b,"TestLoadImage: timeout",!1,v,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=f}else v(!1)}function fa(f,v){const b=new is,A=new AbortController,K=setTimeout(()=>{A.abort(),er(b,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:A.signal}).then(J=>{clearTimeout(K),J.ok?er(b,"TestPingServer: ok",!0,v):er(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(K),er(b,"TestPingServer: error",!1,v)})}function er(f,v,b,A,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),A(b)}catch{}}function da(){this.g=new wn}function Fr(f,v,b){const A=b||"";try{la(f,function(K,J){let fe=K;m(K)&&(fe=Ji(K)),v.push(A+J+"="+encodeURIComponent(fe))})}catch(K){throw v.push(A+"type="+encodeURIComponent("_badmap")),K}}function hs(f){this.l=f.Ub||null,this.j=f.eb||!1}R(hs,Nl),hs.prototype.g=function(){return new vi(this.l,this.j)},hs.prototype.i=function(f){return function(){return f}}({});function vi(f,v){Ge.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(vi,Ge),t=vi.prototype,t.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,qr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hr(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,qr(this)),this.g&&(this.readyState=3,qr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?Hr(this):qr(this),this.readyState==3&&Fl(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Hr(this))},t.Qa=function(f){this.g&&(this.response=f,Hr(this))},t.ga=function(){this.g&&Hr(this)};function Hr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,qr(f)}t.setRequestHeader=function(f,v){this.u.append(f,v)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=v.next();return f.join(`\r
`)};function qr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Hl(f){let v="";return se(f,function(b,A){v+=A,v+=":",v+=b,v+=`\r
`}),v}function Jt(f,v,b){e:{for(A in b){var A=!1;break e}A=!0}A||(b=Hl(b),typeof f=="string"?b!=null&&encodeURIComponent(String(b)):st(f,v,b))}function ut(f){Ge.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(ut,Ge);var go=/^https?$/i,ha=["POST","PUT"];t=ut.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,v,b,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():aa.g(),this.v=this.o?Kc(this.o):Kc(aa),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(J){nf(this,J);return}if(f=b||"",b=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var K in A)b.set(K,A[K]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const J of A.keys())b.set(J,A.get(J));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(b.keys()).find(J=>J.toLowerCase()=="content-type"),K=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ha,v,void 0))||A||K||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,fe]of b)this.g.setRequestHeader(J,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pa(this),this.u=!0,this.g.send(f),this.u=!1}catch(J){nf(this,J)}};function nf(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,yo(f),Gr(f)}function yo(f){f.A||(f.A=!0,Ke(f,"complete"),Ke(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ke(this,"complete"),Ke(this,"abort"),Gr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gr(this,!0)),ut.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?vo(this):this.bb())},t.bb=function(){vo(this)};function vo(f){if(f.h&&typeof c<"u"&&(!f.v[1]||tr(f)!=4||f.Z()!=2)){if(f.u&&tr(f)==4)oo(f.Ea,0,f);else if(Ke(f,"readystatechange"),tr(f)==4){f.h=!1;try{const fe=f.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var A;if(A=fe===0){var K=String(f.D).match(Ul)[1]||null;!K&&d.self&&d.self.location&&(K=d.self.location.protocol.slice(0,-1)),A=!go.test(K?K.toLowerCase():"")}b=A}if(b)Ke(f,"complete"),Ke(f,"success");else{f.m=6;try{var J=2<tr(f)?f.g.statusText:""}catch{J=""}f.l=J+" ["+f.Z()+"]",yo(f)}}finally{Gr(f)}}}}function Gr(f,v){if(f.g){pa(f);const b=f.g,A=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||Ke(f,"ready");try{b.onreadystatechange=A}catch{}}}function pa(f){f.I&&(d.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function tr(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<tr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),Lr(v)}};function rf(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function sp(f){const v={};f=(f.g&&2<=tr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<f.length;A++){if(F(f[A]))continue;var b=V(f[A]);const K=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const J=v[K]||[];v[K]=J,J.push(b)}P(v,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ma(f,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||v}function _o(f){this.Aa=0,this.i=[],this.j=new is,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ma("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ma("baseRetryDelayMs",5e3,f),this.cb=ma("retryDelaySeedMs",1e4,f),this.Wa=ma("forwardChannelMaxRetries",2,f),this.wa=ma("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Vl(f&&f.concurrentRequestLimit),this.Da=new da,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=_o.prototype,t.la=8,t.G=1,t.connect=function(f,v,b,A){Ot(0),this.W=f,this.H=v||{},b&&A!==void 0&&(this.H.OSID=b,this.H.OAID=A),this.F=this.X,this.I=ff(this,null,this.W),bo(this)};function ql(f){if(sf(f),f.G==3){var v=f.U++,b=At(f.I);if(st(b,"SID",f.K),st(b,"RID",v),st(b,"TYPE","terminate"),ga(f,b),v=new zr(f,f.j,v),v.L=2,v.v=ca(At(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!b&&d.Image&&(new Image().src=v.v,b=!0),b||(v.g=df(v.j,null),v.g.ea(v.v)),v.F=Date.now(),bt(v)}cf(f)}function Eo(f){f.g&&(ya(f),f.g.cancel(),f.g=null)}function sf(f){Eo(f),f.u&&(d.clearTimeout(f.u),f.u=null),To(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function bo(f){if(!Ll(f.h)&&!f.s){f.s=!0;var v=f.Ga;Ee||B(),ve||(Ee(),ve=!0),Fe.add(v,f),f.B=0}}function ap(f,v){return Zc(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=rs(E(f.Ga,f,v),Kl(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const K=new zr(this,this.j,f);let J=this.o;if(this.S&&(J?(J=I(J),x(J,this.S)):J=this.S),this.m!==null||this.O||(K.H=J,J=null),this.P)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var A=this.i[b];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,4096<v){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=af(this,K,v),b=At(this.I),st(b,"RID",f),st(b,"CVER",22),this.D&&st(b,"X-HTTP-Session-Id",this.D),ga(this,b),J&&(this.O?v="headers="+encodeURIComponent(String(Hl(J)))+"&"+v:this.m&&Jt(b,this.m,J)),cs(this.h,K),this.Ua&&st(b,"TYPE","init"),this.P?(st(b,"$req",v),st(b,"SID","null"),K.T=!0,wr(K,b,null)):wr(K,b,v),this.G=2}}else this.G==3&&(f?Gl(this,f):this.i.length==0||Ll(this.h)||Gl(this))};function Gl(f,v){var b;v?b=v.l:b=f.U++;const A=At(f.I);st(A,"SID",f.K),st(A,"RID",b),st(A,"AID",f.T),ga(f,A),f.m&&f.o&&Jt(A,f.m,f.o),b=new zr(f,f.j,b,f.B+1),f.m===null&&(b.H=f.o),v&&(f.i=v.D.concat(f.i)),v=af(f,b,1e3),b.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),cs(f.h,b),wr(b,A,v)}function ga(f,v){f.H&&se(f.H,function(b,A){st(v,A,b)}),f.l&&la({},function(b,A){st(v,A,b)})}function af(f,v,b){b=Math.min(f.i.length,b);var A=f.l?E(f.l.Na,f.l,f):null;e:{var K=f.i;let J=-1;for(;;){const fe=["count="+b];J==-1?0<b?(J=K[0].g,fe.push("ofs="+J)):J=0:fe.push("ofs="+J);let et=!0;for(let Ft=0;Ft<b;Ft++){let tt=K[Ft].g;const en=K[Ft].map;if(tt-=J,0>tt)J=Math.max(0,K[Ft].g-100),et=!1;else try{Fr(en,fe,"req"+tt+"_")}catch{A&&A(en)}}if(et){A=fe.join("&");break e}}}return f=f.i.splice(0,b),v.D=f,A}function of(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;Ee||B(),ve||(Ee(),ve=!0),Fe.add(v,f),f.v=0}}function $l(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=rs(E(f.Fa,f),Kl(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,lf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=rs(E(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ot(10),Eo(this),lf(this))};function ya(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function lf(f){f.g=new zr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=At(f.qa);st(v,"RID","rpc"),st(v,"SID",f.K),st(v,"AID",f.T),st(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&st(v,"TO",f.ja),st(v,"TYPE","xmlhttp"),ga(f,v),f.m&&f.o&&Jt(v,f.m,f.o),f.L&&(f.g.I=f.L);var b=f.g;f=f.ia,b.L=1,b.v=ca(At(v)),b.m=null,b.P=!0,hi(b,f)}t.Za=function(){this.C!=null&&(this.C=null,Eo(this),$l(this),Ot(19))};function To(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function uf(f,v){var b=null;if(f.g==v){To(f),ya(f),f.g=null;var A=2}else if(us(f.h,v))b=v.D,Xn(f.h,v),A=1;else return;if(f.G!=0){if(v.o)if(A==1){b=v.m?v.m.length:0,v=Date.now()-v.F;var K=f.B;A=lo(),Ke(A,new Yc(A,b)),bo(f)}else of(f);else if(K=v.s,K==3||K==0&&0<v.X||!(A==1&&ap(f,v)||A==2&&$l(f)))switch(b&&0<b.length&&(v=f.h,v.i=v.i.concat(b)),K){case 1:_i(f,5);break;case 4:_i(f,10);break;case 3:_i(f,6);break;default:_i(f,2)}}}function Kl(f,v){let b=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(b*=2),b*v}function _i(f,v){if(f.j.info("Error code "+v),v==2){var b=E(f.fb,f),A=f.Xa;const K=!A;A=new pi(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||fs(A,"https"),ca(A),K?tf(A.toString(),b):fa(A.toString(),b)}else Ot(2);f.G=0,f.l&&f.l.sa(v),cf(f),sf(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function cf(f){if(f.G=0,f.ka=[],f.l){const v=An(f.h);(v.length!=0||f.i.length!=0)&&(D(f.ka,v),D(f.ka,f.i),f.h.i.length=0,M(f.i),f.i.length=0),f.l.ra()}}function ff(f,v,b){var A=b instanceof pi?At(b):new pi(b);if(A.g!="")v&&(A.g=v+"."+A.g),ua(A,A.s);else{var K=d.location;A=K.protocol,v=v?v+"."+K.hostname:K.hostname,K=+K.port;var J=new pi(null);A&&fs(J,A),v&&(J.g=v),K&&ua(J,K),b&&(J.l=b),A=J}return b=f.D,v=f.ya,b&&v&&st(A,b,v),st(A,"VER",f.la),ga(f,A),A}function df(f,v,b){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new ut(new hs({eb:b})):new ut(f.pa),v.Ha(f.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hf(){}t=hf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function So(){}So.prototype.g=function(f,v){return new Rn(f,v)};function Rn(f,v){Ge.call(this),this.g=new _o(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!F(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!F(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new $r(this)}R(Rn,Ge),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){ql(this.g)},Rn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.u&&(b={},b.__data__=Ji(f),f=b);v.i.push(new ep(v.Ya++,f)),v.G==3&&bo(v)},Rn.prototype.N=function(){this.g.l=null,delete this.j,ql(this.g),delete this.g,Rn.aa.N.call(this)};function pf(f){es.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const b in v){f=b;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}R(pf,es);function mf(){Sr.call(this),this.status=1}R(mf,Sr);function $r(f){this.g=f}R($r,hf),$r.prototype.ua=function(){Ke(this.g,"a")},$r.prototype.ta=function(f){Ke(this.g,new pf(f))},$r.prototype.sa=function(f){Ke(this.g,new mf)},$r.prototype.ra=function(){Ke(this.g,"b")},So.prototype.createWebChannel=So.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,Zw=function(){return new So},Xw=function(){return lo()},Qw=Qn,sy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jt.NO_ERROR=0,jt.TIMEOUT=8,jt.HTTP_ERROR=6,xd=jt,di.COMPLETE="complete",Yw=di,Wc.EventType=Ur,Ur.OPEN="a",Ur.CLOSE="b",Ur.ERROR="c",Ur.MESSAGE="d",Ge.prototype.listen=Ge.prototype.K,Xu=Wc,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,Ww=ut}).apply(typeof gd<"u"?gd:typeof self<"u"?self:typeof window<"u"?window:{});const I2="@firebase/firestore",D2="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=new $y("@firebase/firestore");function Jo(){return Xa.logLevel}function ye(t,...e){if(Xa.logLevel<=Ye.DEBUG){const n=e.map(sv);Xa.debug(`Firestore (${Al}): ${t}`,...n)}}function Qi(t,...e){if(Xa.logLevel<=Ye.ERROR){const n=e.map(sv);Xa.error(`Firestore (${Al}): ${t}`,...n)}}function fl(t,...e){if(Xa.logLevel<=Ye.WARN){const n=e.map(sv);Xa.warn(`Firestore (${Al}): ${t}`,...n)}}function sv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(t="Unexpected state"){const e=`FIRESTORE (${Al}) INTERNAL ASSERTION FAILED: `+t;throw Qi(e),new Error(e)}function ft(t,e){t||Pe()}function Le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends Zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class s4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(En.UNAUTHENTICATED))}shutdown(){}}class a4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class o4{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ft(this.o===void 0);let i=this.i;const a=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let l=new $s;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new $s,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},d=p=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new $s)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ft(typeof i.accessToken=="string"),new Jw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string"),new En(e)}}class l4{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=En.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class u4{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new l4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class x2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class c4{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,pr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){ft(this.o===void 0);const i=l=>{l.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new x2(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ft(typeof n.token=="string"),this.R=n.token,new x2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=f4(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function Je(t,e){return t<e?-1:t>e?1:0}function dl(t,e,n){return t.length===e.length&&t.every((i,a)=>n(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=-62135596800,N2=1e6;class Wt{static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*N2);return new Wt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ce(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ce(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<O2)throw new Ce(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/N2}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-O2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Wt(0,0))}static max(){return new ke(new Wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2="__name__";class Jr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Pe(),i===void 0?i=e.length-n:i>e.length-n&&Pe(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Jr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=Jr.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Math.sign(e.length-n.length)}static compareSegments(e,n){const i=Jr.isNumericId(e),a=Jr.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Jr.extractNumericId(e).compare(Jr.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gs.fromString(e.substring(4,e.length-2))}}class Dt extends Jr{construct(e,n,i){return new Dt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ce(le.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(a=>a.length>0))}return new Dt(n)}static emptyPath(){return new Dt([])}}const d4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends Jr{construct(e,n,i){return new pn(e,n,i)}static isValidIdentifier(e){return d4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P2}static keyField(){return new pn([P2])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new Ce(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new Ce(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ce(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new Ce(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pn(n)}static emptyPath(){return new pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Dt.fromString(e))}static fromName(e){return new Ie(Dt.fromString(e).popFirst(5))}static empty(){return new Ie(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Dt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=-1;function h4(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=ke.fromTimestamp(i===1e9?new Wt(n+1,0):new Wt(n,i));return new Ys(a,Ie.empty(),e)}function p4(t){return new Ys(t.readTime,t.key,mc)}class Ys{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ys(ke.min(),Ie.empty(),mc)}static max(){return new Ys(ke.max(),Ie.empty(),mc)}}function m4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:Je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class y4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==g4)throw t;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.reject(n)}static resolve(e){return new ie((n,i)=>{n(e)})}static reject(e){return new ie((n,i)=>{i(e)})}static waitFor(e){return new ie((n,i)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&n()},p=>i(p))}),c=!0,l===a&&n()})}static or(e){let n=ie.resolve(!1);for(const i of e)n=n.next(a=>a?ie.resolve(a):i());return n}static forEach(e,n){const i=[];return e.forEach((a,l)=>{i.push(n.call(this,a,l))}),this.waitFor(i)}static mapArray(e,n){return new ie((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const m=p;n(e[m]).next(y=>{c[m]=y,++d,d===l&&i(c)},y=>a(y))}})}static doWhile(e,n){return new ie((i,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):i()};l()})}}function v4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Mh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=-1;function kh(t){return t==null}function Jd(t){return t===0&&1/t==-1/0}function _4(t){return typeof t=="number"&&Number.isInteger(t)&&!Jd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="";function E4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=M2(e)),e=b4(t.get(n),e);return M2(e)}function b4(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case tA:n+="";break;default:n+=l}}return n}function M2(t){return t+tA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function no(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){this.comparator=e,this.root=n||hn.EMPTY}insert(e,n){return new wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yd(this.root,e,this.comparator,!1)}getReverseIterator(){return new yd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yd(this.root,e,this.comparator,!0)}}class yd{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??hn.RED,this.left=a??hn.EMPTY,this.right=l??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new hn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return hn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pe();const e=this.left.check();if(e!==this.right.check())throw Pe();return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe()}get value(){throw Pe()}get color(){throw Pe()}get left(){throw Pe()}get right(){throw Pe()}copy(e,n,i,a,l){return this}insert(e,n,i){return new hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new V2(this.data.getIterator())}getIteratorFrom(e){return new V2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Yt(this.comparator);return n.data=e,n}}class V2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.fields=e,e.sort(pn.comparator)}static empty(){return new Or([])}unionWith(e){let n=new Yt(pn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Or(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return dl(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new rA("Invalid base64 string: "+l):l}}(e);return new gn(n)}static fromUint8Array(e){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new gn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const T4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qs(t){if(ft(!!t),typeof t=="string"){let e=0;const n=T4.exec(t);if(ft(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Pt(t.seconds),nanos:Pt(t.nanos)}}function Pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xs(t){return typeof t=="string"?gn.fromBase64String(t):gn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="server_timestamp",sA="__type__",aA="__previous_value__",oA="__local_write_time__";function ov(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[sA])===null||n===void 0?void 0:n.stringValue)===iA}function Vh(t){const e=t.mapValue.fields[aA];return ov(e)?Vh(e):e}function gc(t){const e=Qs(t.mapValue.fields[oA].timestampValue);return new Wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e,n,i,a,l,c,d,p,m){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=m}}const eh="(default)";class yc{constructor(e,n){this.projectId=e,this.database=n||eh}static empty(){return new yc("","")}get isDefaultDatabase(){return this.database===eh}isEqual(e){return e instanceof yc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="__type__",w4="__max__",vd={mapValue:{}},uA="__vector__",th="value";function Zs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ov(t)?4:R4(t)?9007199254740991:A4(t)?10:11:Pe()}function oi(t,e){if(t===e)return!0;const n=Zs(t);if(n!==Zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gc(t).isEqual(gc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Qs(a.timestampValue),d=Qs(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return Xs(a.bytesValue).isEqual(Xs(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return Pt(a.geoPointValue.latitude)===Pt(l.geoPointValue.latitude)&&Pt(a.geoPointValue.longitude)===Pt(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Pt(a.integerValue)===Pt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Pt(a.doubleValue),d=Pt(l.doubleValue);return c===d?Jd(c)===Jd(d):isNaN(c)&&isNaN(d)}return!1}(t,e);case 9:return dl(t.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(k2(c)!==k2(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!oi(c[p],d[p])))return!1;return!0}(t,e);default:return Pe()}}function vc(t,e){return(t.values||[]).find(n=>oi(n,e))!==void 0}function hl(t,e){if(t===e)return 0;const n=Zs(t),i=Zs(e);if(n!==i)return Je(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return function(l,c){const d=Pt(l.integerValue||l.doubleValue),p=Pt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(t,e);case 3:return L2(t.timestampValue,e.timestampValue);case 4:return L2(gc(t),gc(e));case 5:return Je(t.stringValue,e.stringValue);case 6:return function(l,c){const d=Xs(l),p=Xs(c);return d.compareTo(p)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let m=0;m<d.length&&m<p.length;m++){const y=Je(d[m],p[m]);if(y!==0)return y}return Je(d.length,p.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Je(Pt(l.latitude),Pt(c.latitude));return d!==0?d:Je(Pt(l.longitude),Pt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return U2(t.arrayValue,e.arrayValue);case 10:return function(l,c){var d,p,m,y;const _=l.fields||{},E=c.fields||{},S=(d=_[th])===null||d===void 0?void 0:d.arrayValue,R=(p=E[th])===null||p===void 0?void 0:p.arrayValue,M=Je(((m=S==null?void 0:S.values)===null||m===void 0?void 0:m.length)||0,((y=R==null?void 0:R.values)===null||y===void 0?void 0:y.length)||0);return M!==0?M:U2(S,R)}(t.mapValue,e.mapValue);case 11:return function(l,c){if(l===vd.mapValue&&c===vd.mapValue)return 0;if(l===vd.mapValue)return 1;if(c===vd.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),m=c.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let _=0;_<p.length&&_<y.length;++_){const E=Je(p[_],y[_]);if(E!==0)return E;const S=hl(d[p[_]],m[y[_]]);if(S!==0)return S}return Je(p.length,y.length)}(t.mapValue,e.mapValue);default:throw Pe()}}function L2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);const n=Qs(t),i=Qs(e),a=Je(n.seconds,i.seconds);return a!==0?a:Je(n.nanos,i.nanos)}function U2(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=hl(n[a],i[a]);if(l)return l}return Je(n.length,i.length)}function pl(t){return ay(t)}function ay(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Qs(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Xs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=ay(l);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${ay(n.fields[c])}`;return a+"}"}(t.mapValue):Pe()}function Od(t){switch(Zs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vh(t);return e?16+Od(e):16;case 5:return 2*t.stringValue.length;case 6:return Xs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+Od(l),0)}(t.arrayValue);case 10:case 11:return function(i){let a=0;return no(i.fields,(l,c)=>{a+=l.length+Od(c)}),a}(t.mapValue);default:throw Pe()}}function oy(t){return!!t&&"integerValue"in t}function lv(t){return!!t&&"arrayValue"in t}function B2(t){return!!t&&"nullValue"in t}function z2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nd(t){return!!t&&"mapValue"in t}function A4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[lA])===null||n===void 0?void 0:n.stringValue)===uA}function tc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return no(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=tc(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function R4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===w4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.value=e}static empty(){return new mr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Nd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tc(n)}setAll(e){let n=pn.emptyPath(),i={},a=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,i,a),i={},a=[],n=d.popLast()}c?i[d.lastSegment()]=tc(c):a.push(d.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Nd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Nd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){no(n,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new mr(tc(this.value))}}function cA(t){const e=[];return no(t.fields,(n,i)=>{const a=new pn([n]);if(Nd(i)){const l=cA(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n,i,a,l,c,d){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new bn(e,0,ke.min(),ke.min(),ke.min(),mr.empty(),0)}static newFoundDocument(e,n,i,a){return new bn(e,1,n,ke.min(),i,a,0)}static newNoDocument(e,n){return new bn(e,2,n,ke.min(),ke.min(),mr.empty(),0)}static newUnknownDocument(e,n){return new bn(e,3,n,ke.min(),ke.min(),mr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n){this.position=e,this.inclusive=n}}function j2(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=Ie.comparator(Ie.fromName(c.referenceValue),n.key):i=hl(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function F2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!oi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n="asc"){this.field=e,this.dir=n}}function C4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{}class Kt extends fA{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new D4(e,n,i):n==="array-contains"?new N4(e,i):n==="in"?new P4(e,i):n==="not-in"?new M4(e,i):n==="array-contains-any"?new k4(e,i):new Kt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new x4(e,i):new O4(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(hl(n,this.value)):n!==null&&Zs(this.value)===Zs(n)&&this.matchesComparison(hl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends fA{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new li(e,n)}matches(e){return dA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function dA(t){return t.op==="and"}function hA(t){return I4(t)&&dA(t)}function I4(t){for(const e of t.filters)if(e instanceof li)return!1;return!0}function ly(t){if(t instanceof Kt)return t.field.canonicalString()+t.op.toString()+pl(t.value);if(hA(t))return t.filters.map(e=>ly(e)).join(",");{const e=t.filters.map(n=>ly(n)).join(",");return`${t.op}(${e})`}}function pA(t,e){return t instanceof Kt?function(i,a){return a instanceof Kt&&i.op===a.op&&i.field.isEqual(a.field)&&oi(i.value,a.value)}(t,e):t instanceof li?function(i,a){return a instanceof li&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,d)=>l&&pA(c,a.filters[d]),!0):!1}(t,e):void Pe()}function mA(t){return t instanceof Kt?function(n){return`${n.field.canonicalString()} ${n.op} ${pl(n.value)}`}(t):t instanceof li?function(n){return n.op.toString()+" {"+n.getFilters().map(mA).join(" ,")+"}"}(t):"Filter"}class D4 extends Kt{constructor(e,n,i){super(e,n,i),this.key=Ie.fromName(i.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class x4 extends Kt{constructor(e,n){super(e,"in",n),this.keys=gA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class O4 extends Kt{constructor(e,n){super(e,"not-in",n),this.keys=gA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function gA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Ie.fromName(i.referenceValue))}class N4 extends Kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lv(n)&&vc(n.arrayValue,this.value)}}class P4 extends Kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vc(this.value.arrayValue,n)}}class M4 extends Kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(vc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!vc(this.value.arrayValue,n)}}class k4 extends Kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>vc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,n=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.le=null}}function H2(t,e=null,n=[],i=[],a=null,l=null,c=null){return new V4(t,e,n,i,a,l,c)}function uv(t){const e=Le(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>ly(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>pl(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>pl(i)).join(",")),e.le=n}return e.le}function cv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!C4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!pA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!F2(t.startAt,e.startAt)&&F2(t.endAt,e.endAt)}function uy(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n=null,i=[],a=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function L4(t,e,n,i,a,l,c,d){return new Lh(t,e,n,i,a,l,c,d)}function fv(t){return new Lh(t)}function q2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function U4(t){return t.collectionGroup!==null}function nc(t){const e=Le(t);if(e.he===null){e.he=[];const n=new Set;for(const l of e.explicitOrderBy)e.he.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Yt(pn.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.he.push(new rh(l,i))}),n.has(pn.keyField().canonicalString())||e.he.push(new rh(pn.keyField(),i))}return e.he}function si(t){const e=Le(t);return e.Pe||(e.Pe=B4(e,nc(t))),e.Pe}function B4(t,e){if(t.limitType==="F")return H2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new rh(a.field,l)});const n=t.endAt?new nh(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new nh(t.startAt.position,t.startAt.inclusive):null;return H2(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function cy(t,e,n){return new Lh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Uh(t,e){return cv(si(t),si(e))&&t.limitType===e.limitType}function yA(t){return`${uv(si(t))}|lt:${t.limitType}`}function el(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(a=>mA(a)).join(", ")}]`),kh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(a=>pl(a)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(a=>pl(a)).join(",")),`Target(${i})`}(si(t))}; limitType=${t.limitType})`}function Bh(t,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ie.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(t,e)&&function(i,a){for(const l of nc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(i,a){return!(i.startAt&&!function(c,d,p){const m=j2(c,d,p);return c.inclusive?m<=0:m<0}(i.startAt,nc(i),a)||i.endAt&&!function(c,d,p){const m=j2(c,d,p);return c.inclusive?m>=0:m>0}(i.endAt,nc(i),a))}(t,e)}function z4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vA(t){return(e,n)=>{let i=!1;for(const a of nc(t)){const l=j4(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function j4(t,e,n){const i=t.field.isKeyField()?Ie.comparator(e.key,n.key):function(l,c,d){const p=c.data.field(l),m=d.data.field(l);return p!==null&&m!==null?hl(p,m):Pe()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){no(this.inner,(n,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return nA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=new wt(Ie.comparator);function Xi(){return F4}const _A=new wt(Ie.comparator);function Zu(...t){let e=_A;for(const n of t)e=e.insert(n.key,n);return e}function EA(t){let e=_A;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Fa(){return rc()}function bA(){return rc()}function rc(){return new ro(t=>t.toString(),(t,e)=>t.isEqual(e))}const H4=new wt(Ie.comparator),q4=new Yt(Ie.comparator);function Qe(...t){let e=q4;for(const n of t)e=e.add(n);return e}const G4=new Yt(Je);function $4(){return G4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jd(e)?"-0":e}}function TA(t){return{integerValue:""+t}}function K4(t,e){return _4(e)?TA(e):dv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this._=void 0}}function W4(t,e,n){return t instanceof ih?function(a,l){const c={fields:{[sA]:{stringValue:iA},[oA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&ov(l)&&(l=Vh(l)),l&&(c.fields[aA]=l),{mapValue:c}}(n,e):t instanceof _c?wA(t,e):t instanceof Ec?AA(t,e):function(a,l){const c=SA(a,l),d=G2(c)+G2(a.Ie);return oy(c)&&oy(a.Ie)?TA(d):dv(a.serializer,d)}(t,e)}function Y4(t,e,n){return t instanceof _c?wA(t,e):t instanceof Ec?AA(t,e):n}function SA(t,e){return t instanceof sh?function(i){return oy(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class ih extends zh{}class _c extends zh{constructor(e){super(),this.elements=e}}function wA(t,e){const n=RA(e);for(const i of t.elements)n.some(a=>oi(a,i))||n.push(i);return{arrayValue:{values:n}}}class Ec extends zh{constructor(e){super(),this.elements=e}}function AA(t,e){let n=RA(e);for(const i of t.elements)n=n.filter(a=>!oi(a,i));return{arrayValue:{values:n}}}class sh extends zh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function G2(t){return Pt(t.integerValue||t.doubleValue)}function RA(t){return lv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Q4(t,e){return t.field.isEqual(e.field)&&function(i,a){return i instanceof _c&&a instanceof _c||i instanceof Ec&&a instanceof Ec?dl(i.elements,a.elements,oi):i instanceof sh&&a instanceof sh?oi(i.Ie,a.Ie):i instanceof ih&&a instanceof ih}(t.transform,e.transform)}class X4{constructor(e,n){this.version=e,this.transformResults=n}}class qi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qi}static exists(e){return new qi(void 0,e)}static updateTime(e){return new qi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class jh{}function CA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new DA(t.key,qi.none()):new zc(t.key,t.data,qi.none());{const n=t.data,i=mr.empty();let a=new Yt(pn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new io(t.key,i,new Or(a.toArray()),qi.none())}}function Z4(t,e,n){t instanceof zc?function(a,l,c){const d=a.value.clone(),p=K2(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):t instanceof io?function(a,l,c){if(!Pd(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=K2(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(IA(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(t,e,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function ic(t,e,n,i){return t instanceof zc?function(l,c,d,p){if(!Pd(l.precondition,c))return d;const m=l.value.clone(),y=W2(l.fieldTransforms,p,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(t,e,n,i):t instanceof io?function(l,c,d,p){if(!Pd(l.precondition,c))return d;const m=W2(l.fieldTransforms,p,c),y=c.data;return y.setAll(IA(l)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(t,e,n,i):function(l,c,d){return Pd(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(t,e,n)}function J4(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=SA(i.transform,a||null);l!=null&&(n===null&&(n=mr.empty()),n.set(i.field,l))}return n||null}function $2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&dl(i,a,(l,c)=>Q4(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zc extends jh{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class io extends jh{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function IA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function K2(t,e,n){const i=new Map;ft(t.length===n.length);for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,Y4(c,d,n[a]))}return i}function W2(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,W4(l,c,e))}return i}class DA extends jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ek extends jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&Z4(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=ic(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=ic(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=bA();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const p=CA(c,d);p!==null&&i.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(ke.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qe())}isEqual(e){return this.batchId===e.batchId&&dl(this.mutations,e.mutations,(n,i)=>$2(n,i))&&dl(this.baseMutations,e.baseMutations,(n,i)=>$2(n,i))}}class hv{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){ft(e.mutations.length===i.length);let a=function(){return H4}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new hv(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,rt;function ik(t){switch(t){case le.OK:return Pe();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Pe()}}function xA(t){if(t===void 0)return Qi("GRPC error has no .code"),le.UNKNOWN;switch(t){case Ut.OK:return le.OK;case Ut.CANCELLED:return le.CANCELLED;case Ut.UNKNOWN:return le.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return le.INTERNAL;case Ut.UNAVAILABLE:return le.UNAVAILABLE;case Ut.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Ut.NOT_FOUND:return le.NOT_FOUND;case Ut.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Ut.ABORTED:return le.ABORTED;case Ut.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Ut.DATA_LOSS:return le.DATA_LOSS;default:return Pe()}}(rt=Ut||(Ut={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=new Gs([4294967295,4294967295],0);function Y2(t){const e=sk().encode(t),n=new Kw;return n.update(e),new Uint8Array(n.digest())}function Q2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Gs([n,i],0),new Gs([a,l],0)]}class pv{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ju(`Invalid padding: ${n}`);if(i<0)throw new Ju(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ju(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Ju(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Gs.fromNumber(this.Ee)}Ae(e,n,i){let a=e.add(n.multiply(Gs.fromNumber(i)));return a.compare(ak)===1&&(a=new Gs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=Y2(e),[i,a]=Q2(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);if(!this.Re(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new pv(l,a,n);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Ee===0)return;const n=Y2(e),[i,a]=Q2(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);this.Ve(c)}}Ve(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Ju extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,jc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Fh(ke.min(),a,new wt(Je),Xi(),Qe())}}class jc{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new jc(i,n,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n,i,a){this.me=e,this.removedTargetIds=n,this.key=i,this.fe=a}}class OA{constructor(e,n){this.targetId=e,this.ge=n}}class NA{constructor(e,n,i=gn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class X2{constructor(){this.pe=0,this.ye=Z2(),this.we=gn.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Qe(),n=Qe(),i=Qe();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Pe()}}),new jc(this.we,this.be,e,n,i)}Me(){this.Se=!1,this.ye=Z2()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,ft(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class ok{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Xi(),this.$e=_d(),this.Ke=_d(),this.Ue=new wt(Je)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const i=this.He(n);switch(e.state){case 0:this.Je(n)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(e.resumeToken));break;default:Pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((i,a)=>{this.Je(a)&&n(a)})}Ze(e){const n=e.targetId,i=e.ge.count,a=this.Xe(n);if(a){const l=a.target;if(uy(l))if(i===0){const c=new Ie(l.path);this.ze(n,c,bn.newNoDocument(c,ke.min()))}else ft(i===1);else{const c=this.et(n);if(c!==i){const d=this.tt(e),p=d?this.nt(d,e,c):1;if(p!==0){this.Ye(n);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,m)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Xs(i).toUint8Array()}catch(p){if(p instanceof rA)return fl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new pv(c,a,l)}catch(p){return fl(p instanceof Ju?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(e,n,i){return n.ge.count===i-this.st(e,n.targetId)?0:2}st(e,n){const i=this.ke.getRemoteKeysForTarget(n);let a=0;return i.forEach(l=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(n,l,null),a++)}),a}ot(e){const n=new Map;this.qe.forEach((l,c)=>{const d=this.Xe(c);if(d){if(l.current&&uy(d.target)){const p=new Ie(d.target.path);this._t(p).has(c)||this.ut(c,p)||this.ze(c,p,bn.newNoDocument(p,e))}l.ve&&(n.set(c,l.Fe()),l.Me())}});let i=Qe();this.Ke.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const m=this.Xe(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const a=new Fh(e,n,this.Ue,this.Qe,i);return this.Qe=Xi(),this.$e=_d(),this.Ke=_d(),this.Ue=new wt(Je),a}Ge(e,n){if(!this.Je(e))return;const i=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,i){if(!this.Je(e))return;const a=this.He(e);this.ut(e,n)?a.xe(n,1):a.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new X2,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Yt(Je),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Yt(Je),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new X2),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function _d(){return new wt(Ie.comparator)}function Z2(){return new wt(Ie.comparator)}const lk={asc:"ASCENDING",desc:"DESCENDING"},uk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ck={and:"AND",or:"OR"};class fk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fy(t,e){return t.useProto3Json||kh(e)?e:{value:e}}function ah(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dk(t,e){return ah(t,e.toTimestamp())}function ai(t){return ft(!!t),ke.fromTimestamp(function(n){const i=Qs(n);return new Wt(i.seconds,i.nanos)}(t))}function mv(t,e){return dy(t,e).canonicalString()}function dy(t,e){const n=function(a){return new Dt(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function MA(t){const e=Dt.fromString(t);return ft(BA(e)),e}function hy(t,e){return mv(t.databaseId,e.path)}function _g(t,e){const n=MA(e);if(n.get(1)!==t.databaseId.projectId)throw new Ce(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ce(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(VA(n))}function kA(t,e){return mv(t.databaseId,e)}function hk(t){const e=MA(t);return e.length===4?Dt.emptyPath():VA(e)}function py(t){return new Dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function VA(t){return ft(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function J2(t,e,n){return{name:hy(t,e),fields:n.value.mapValue.fields}}function pk(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(m,y){return m.useProto3Json?(ft(y===void 0||typeof y=="string"),gn.fromBase64String(y||"")):(ft(y===void 0||y instanceof Buffer||y instanceof Uint8Array),gn.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(m){const y=m.code===void 0?le.UNKNOWN:xA(m.code);return new Ce(y,m.message||"")}(c);n=new NA(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=_g(t,i.document.name),l=ai(i.document.updateTime),c=i.document.createTime?ai(i.document.createTime):ke.min(),d=new mr({mapValue:{fields:i.document.fields}}),p=bn.newFoundDocument(a,l,c,d),m=i.targetIds||[],y=i.removedTargetIds||[];n=new Md(m,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=_g(t,i.document),l=i.readTime?ai(i.readTime):ke.min(),c=bn.newNoDocument(a,l),d=i.removedTargetIds||[];n=new Md([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=_g(t,i.document),l=i.removedTargetIds||[];n=new Md([],l,a,null)}else{if(!("filter"in e))return Pe();{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new rk(a,l),d=i.targetId;n=new OA(d,c)}}return n}function mk(t,e){let n;if(e instanceof zc)n={update:J2(t,e.key,e.value)};else if(e instanceof DA)n={delete:hy(t,e.key)};else if(e instanceof io)n={update:J2(t,e.key,e.data),updateMask:wk(e.fieldMask)};else{if(!(e instanceof ek))return Pe();n={verify:hy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof ih)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof _c)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ec)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof sh)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw Pe()}(0,i))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:dk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Pe()}(t,e.precondition)),n}function gk(t,e){return t&&t.length>0?(ft(e!==void 0),t.map(n=>function(a,l){let c=a.updateTime?ai(a.updateTime):ai(l);return c.isEqual(ke.min())&&(c=ai(l)),new X4(c,a.transformResults||[])}(n,e))):[]}function yk(t,e){return{documents:[kA(t,e.path)]}}function vk(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=kA(t,a);const l=function(m){if(m.length!==0)return UA(li.create(m,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const c=function(m){if(m.length!==0)return m.map(y=>function(E){return{field:tl(E.field),direction:bk(E.dir)}}(y))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=fy(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:n,parent:a}}function _k(t){let e=hk(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){ft(i===1);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=function(_){const E=LA(_);return E instanceof li&&hA(E)?E.getFilters():[E]}(n.where));let c=[];n.orderBy&&(c=function(_){return _.map(E=>function(R){return new rh(nl(R.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(E))}(n.orderBy));let d=null;n.limit&&(d=function(_){let E;return E=typeof _=="object"?_.value:_,kh(E)?null:E}(n.limit));let p=null;n.startAt&&(p=function(_){const E=!!_.before,S=_.values||[];return new nh(S,E)}(n.startAt));let m=null;return n.endAt&&(m=function(_){const E=!_.before,S=_.values||[];return new nh(S,E)}(n.endAt)),L4(e,a,c,l,d,"F",p,m)}function Ek(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function LA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=nl(n.unaryFilter.field);return Kt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=nl(n.unaryFilter.field);return Kt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=nl(n.unaryFilter.field);return Kt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=nl(n.unaryFilter.field);return Kt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Pe()}}(t):t.fieldFilter!==void 0?function(n){return Kt.create(nl(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return li.create(n.compositeFilter.filters.map(i=>LA(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Pe()}}(n.compositeFilter.op))}(t):Pe()}function bk(t){return lk[t]}function Tk(t){return uk[t]}function Sk(t){return ck[t]}function tl(t){return{fieldPath:t.canonicalString()}}function nl(t){return pn.fromServerFormat(t.fieldPath)}function UA(t){return t instanceof Kt?function(n){if(n.op==="=="){if(z2(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NAN"}};if(B2(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(z2(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NOT_NAN"}};if(B2(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tl(n.field),op:Tk(n.op),value:n.value}}}(t):t instanceof li?function(n){const i=n.getFilters().map(a=>UA(a));return i.length===1?i[0]:{compositeFilter:{op:Sk(n.op),filters:i}}}(t):Pe()}function wk(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function BA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n,i,a,l=ke.min(),c=ke.min(),d=gn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e){this.Tt=e}}function Rk(t){const e=_k({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?cy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(){this.Tn=new Ik}addToCollectionParentIndex(e,n){return this.Tn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Ys.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Ys.min())}updateCollectionGroup(e,n,i){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class Ik{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Yt(Dt.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Yt(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zA=41943040;class kn{static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(zA,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new ml(0)}static Un(){return new ml(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="LruGarbageCollector",Dk=1048576;function nT([t,e],[n,i]){const a=Je(t,n);return a===0?Je(e,i):a}class xk{constructor(e){this.Hn=e,this.buffer=new Yt(nT),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();nT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Ok{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ye(tT,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Cl(n)?ye(tT,"Ignoring IndexedDB error during garbage collection: ",n):await Rl(n)}await this.er(3e5)})}}class Nk{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Mh.ae);const i=new xk(n);return this.tr.forEachTarget(e,a=>i.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>i.Zn(a))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.tr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(eT)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eT):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let i,a,l,c,d,p,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(i=_,d=Date.now(),this.removeTargets(e,i,n))).next(_=>(l=_,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(_=>(m=Date.now(),Jo()<=Ye.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${_} documents in `+(m-p)+`ms
Total Duration: ${m-y}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function Pk(t,e){return new Nk(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(){this.changes=new ro(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ie.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(i!==null&&ic(i.mutation,a,Or.empty(),Wt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Qe()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Qe()){const a=Fa();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,i).next(l=>{let c=Zu();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const i=Fa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Qe()))}populateOverlays(e,n,i){const a=[];return i.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,i,a){let l=Xi();const c=rc(),d=function(){return rc()}();return n.forEach((p,m)=>{const y=i.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof io)?l=l.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),ic(y.mutation,m,y.mutation.getFieldMask(),Wt.now())):c.set(m.key,Or.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((m,y)=>c.set(m,y)),n.forEach((m,y)=>{var _;return d.set(m,new kk(y,(_=c.get(m))!==null&&_!==void 0?_:null))}),d))}recalculateAndSaveOverlays(e,n){const i=rc();let a=new wt((c,d)=>c-d),l=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(p=>{const m=n.get(p);if(m===null)return;let y=i.get(p)||Or.empty();y=d.applyToLocalView(m,y),i.set(p,y);const _=(a.get(d.batchId)||Qe()).add(p);a=a.insert(d.batchId,_)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),m=p.key,y=p.value,_=bA();y.forEach(E=>{if(!l.has(E)){const S=CA(n.get(E),i.get(E));S!==null&&_.set(E,S),l=l.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,_))}return ie.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,a){return function(c){return Ie.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):U4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):ie.resolve(Fa());let d=mc,p=l;return c.next(m=>ie.forEach(m,(y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(y)?ie.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{p=p.insert(y,E)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,p,m,Qe())).next(y=>({batchId:d,changes:EA(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next(i=>{let a=Zu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=Zu();return this.indexManager.getCollectionParents(e,l).next(d=>ie.forEach(d,p=>{const m=function(_,E){return new Lh(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,a).next(y=>{y.forEach((_,E)=>{c=c.insert(_,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a))).next(c=>{l.forEach((p,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,bn.newInvalidDocument(y)))});let d=Zu();return c.forEach((p,m)=>{const y=l.get(p);y!==void 0&&ic(y.mutation,m,Or.empty(),Wt.now()),Bh(n,m)&&(d=d.insert(p,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ie.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:ai(a.createTime)}}(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(a){return{name:a.name,query:Rk(a.bundledQuery),readTime:ai(a.readTime)}}(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(){this.overlays=new wt(Ie.comparator),this.Rr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Fa();return ie.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((a,l)=>{this.Et(e,n,l)}),ie.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Rr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),ie.resolve()}getOverlaysForCollection(e,n,i){const a=Fa(),l=n.length+1,c=new Ie(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,m=p.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return ie.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new wt((m,y)=>m-y);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let y=l.get(m.largestBatchId);y===null&&(y=Fa(),l=l.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const d=Fa(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,y)=>d.set(m,y)),!(d.size()>=a)););return ie.resolve(d)}Et(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(i.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new nk(n,i));let l=this.Rr.get(n);l===void 0&&(l=Qe(),this.Rr.set(n,l)),this.Rr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(){this.sessionToken=gn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(){this.Vr=new Yt(an.mr),this.gr=new Yt(an.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const i=new an(e,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.wr(new an(e,n))}br(e,n){e.forEach(i=>this.removeReference(i,n))}Sr(e){const n=new Ie(new Dt([])),i=new an(n,e),a=new an(n,e+1),l=[];return this.gr.forEachInRange([i,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Ie(new Dt([])),i=new an(n,e),a=new an(n,e+1);let l=Qe();return this.gr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new an(e,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class an{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Ie.comparator(e.key,n.key)||Je(e.Cr,n.Cr)}static pr(e,n){return Je(e.Cr,n.Cr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Yt(an.mr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new tk(l,n,i,a);this.mutationQueue.push(c);for(const d of a)this.Mr=this.Mr.add(new an(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ie.resolve(c)}lookupMutationBatch(e,n){return ie.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Nr(i),l=a<0?0:a;return ie.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?av:this.Fr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new an(n,0),a=new an(n,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,a],c=>{const d=this.Or(c.Cr);l.push(d)}),ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Yt(Je);return n.forEach(a=>{const l=new an(a,0),c=new an(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],d=>{i=i.add(d.Cr)})}),ie.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Ie.isDocumentKey(l)||(l=l.child(""));const c=new an(new Ie(l),0);let d=new Yt(Je);return this.Mr.forEachWhile(p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(d=d.add(p.Cr)),!0)},c),ie.resolve(this.Br(d))}Br(e){const n=[];return e.forEach(i=>{const a=this.Or(i);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){ft(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ie.forEach(n.mutations,a=>{const l=new an(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,n){const i=new an(n,0),a=this.Mr.firstAfterOrEqual(i);return ie.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e){this.kr=e,this.docs=function(){return new wt(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ie.resolve(i?i.document.mutableCopy():bn.newInvalidDocument(n))}getEntries(e,n){let i=Xi();return n.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():bn.newInvalidDocument(a))}),ie.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=Xi();const c=n.path,d=new Ie(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:m,value:{document:y}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||m4(p4(y),i)<=0||(a.has(y.key)||Bh(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ie.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Pe()}qr(e,n){return ie.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new Fk(this)}getSize(e){return ie.resolve(this.size)}}class Fk extends Mk{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?n.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(i)}),ie.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.persistence=e,this.Qr=new ro(n=>uv(n),cv),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.$r=0,this.Kr=new gv,this.targetCount=0,this.Ur=ml.Kn()}forEachTarget(e,n){return this.Qr.forEach((i,a)=>n(a)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),ie.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new ml(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.zn(n),ie.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),ie.waitFor(l).next(()=>a)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const i=this.Qr.get(n)||null;return ie.resolve(i)}addMatchingKeys(e,n,i){return this.Kr.yr(n,i),ie.resolve()}removeMatchingKeys(e,n,i){this.Kr.br(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ie.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Kr.vr(n);return ie.resolve(i)}containsKey(e,n){return ie.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Mh(0),this.zr=!1,this.zr=!0,this.jr=new Bk,this.referenceDelegate=e(this),this.Hr=new Hk(this),this.indexManager=new Ck,this.remoteDocumentCache=function(a){return new jk(a)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new Ak(n),this.Yr=new Lk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Uk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Wr[e.toKey()];return i||(i=new zk(n,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,i){ye("MemoryPersistence","Starting transaction:",e);const a=new qk(this.Gr.next());return this.referenceDelegate.Zr(),i(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,n){return ie.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,n)))}}class qk extends y4{constructor(e){super(),this.currentSequenceNumber=e}}class yv{constructor(e){this.persistence=e,this.ti=new gv,this.ni=null}static ri(e){return new yv(e)}get ii(){if(this.ni)return this.ni;throw Pe()}addReference(e,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),ie.resolve()}removeReference(e,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ie.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(a=>this.ii.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.ii,i=>{const a=Ie.fromPath(i);return this.si(e,a).next(l=>{l||n.removeEntry(a,ke.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ie.or([()=>ie.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class oh{constructor(e,n){this.persistence=e,this.oi=new ro(i=>E4(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=Pk(this,n)}static ri(e,n){return new oh(e,n)}Zr(){}Xr(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(a=>i+a))}sr(e){let n=0;return this.rr(e,i=>{n++}).next(()=>n)}rr(e,n){return ie.forEach(this.oi,(i,a)=>this.ar(e,i,a).next(l=>l?ie.resolve():n(a)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,c=>this.ar(e,c,n).next(d=>{d||(i++,l.removeEntry(c,ke.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ie.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Od(e.data.value)),n}ar(e,n,i){return ie.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.oi.get(n);return ie.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Hi=i,this.Ji=a}static Yi(e,n){let i=Qe(),a=Qe();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new vv(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return C3()?8:v4(Sn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.rs(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,n,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new Gk;return this._s(e,n,c).next(d=>{if(l.result=d,this.Xi)return this.us(e,n,c,d.size)})}).next(()=>l.result)}us(e,n,i,a){return i.documentReadCount<this.es?(Jo()<=Ye.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",el(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ie.resolve()):(Jo()<=Ye.DEBUG&&ye("QueryEngine","Query:",el(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ts*a?(Jo()<=Ye.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",el(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,si(n))):ie.resolve())}rs(e,n){if(q2(n))return ie.resolve(null);let i=si(n);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=cy(n,null,"F"),i=si(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Qe(...l);return this.ns.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const m=this.cs(n,d);return this.ls(n,m,c,p.readTime)?this.rs(e,cy(n,null,"F")):this.hs(e,m,n,p)}))})))}ss(e,n,i,a){return q2(n)||a.isEqual(ke.min())?ie.resolve(null):this.ns.getDocuments(e,i).next(l=>{const c=this.cs(n,l);return this.ls(n,c,i,a)?ie.resolve(null):(Jo()<=Ye.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),el(n)),this.hs(e,c,n,h4(a,mc)).next(d=>d))})}cs(e,n){let i=new Yt(vA(e));return n.forEach((a,l)=>{Bh(e,l)&&(i=i.add(l))}),i}ls(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,n,i){return Jo()<=Ye.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",el(n)),this.ns.getDocumentsMatchingQuery(e,n,Ys.min(),i)}hs(e,n,i,a){return this.ns.getDocumentsMatchingQuery(e,i,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="LocalStore",Kk=3e8;class Wk{constructor(e,n,i,a){this.persistence=e,this.Ps=n,this.serializer=a,this.Ts=new wt(Je),this.Is=new ro(l=>uv(l),cv),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vk(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function Yk(t,e,n,i){return new Wk(t,e,n,i)}async function FA(t,e){const n=Le(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,n.As(e),n.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let p=Qe();for(const m of a){c.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}for(const m of l){d.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(i,p).next(m=>({Rs:m,removedBatchIds:c,addedBatchIds:d}))})})}function Qk(t,e){const n=Le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=n.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,m,y){const _=m.batch,E=_.keys();let S=ie.resolve();return E.forEach(R=>{S=S.next(()=>y.getEntry(p,R)).next(M=>{const D=m.docVersions.get(R);ft(D!==null),M.version.compareTo(D)<0&&(_.applyToRemoteDocument(M,m),M.isValidDocument()&&(M.setReadTime(m.commitVersion),y.addEntry(M)))})}),S.next(()=>d.mutationQueue.removeMutationBatch(p,_))}(n,i,e,l).next(()=>l.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=Qe();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(p=p.add(d.batch.mutations[m].key));return p}(e))).next(()=>n.localDocuments.getDocuments(i,a))})}function HA(t){const e=Le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function Xk(t,e){const n=Le(t),i=e.snapshotVersion;let a=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.ds.newChangeBuffer({trackRemovals:!0});a=n.Ts;const d=[];e.targetChanges.forEach((y,_)=>{const E=a.get(_);if(!E)return;d.push(n.Hr.removeMatchingKeys(l,y.removedDocuments,_).next(()=>n.Hr.addMatchingKeys(l,y.addedDocuments,_)));let S=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(gn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,i)),a=a.insert(_,S),function(M,D,z){return M.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=Kk?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(E,S,y)&&d.push(n.Hr.updateTargetData(l,S))});let p=Xi(),m=Qe();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),d.push(Zk(l,c,e.documentUpdates).next(y=>{p=y.Vs,m=y.fs})),!i.isEqual(ke.min())){const y=n.Hr.getLastRemoteSnapshotVersion(l).next(_=>n.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(y)}return ie.waitFor(d).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,p,m)).next(()=>p)}).then(l=>(n.Ts=a,l))}function Zk(t,e,n){let i=Qe(),a=Qe();return n.forEach(l=>i=i.add(l)),e.getEntries(t,i).next(l=>{let c=Xi();return n.forEach((d,p)=>{const m=l.get(d);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(ke.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ye(_v,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",p.version)}),{Vs:c,fs:a}})}function Jk(t,e){const n=Le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=av),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function e9(t,e){const n=Le(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return n.Hr.getTargetData(i,e).next(l=>l?(a=l,ie.resolve(a)):n.Hr.allocateTargetId(i).next(c=>(a=new js(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=n.Ts.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(e,i.targetId)),i})}async function my(t,e,n){const i=Le(t),a=i.Ts.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Cl(c))throw c;ye(_v,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(a.target)}function rT(t,e,n){const i=Le(t);let a=ke.min(),l=Qe();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,m,y){const _=Le(p),E=_.Is.get(y);return E!==void 0?ie.resolve(_.Ts.get(E)):_.Hr.getTargetData(m,y)}(i,c,si(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,n?a:ke.min(),n?l:Qe())).next(d=>(t9(i,z4(e),d),{documents:d,gs:l})))}function t9(t,e,n){let i=t.Es.get(e)||ke.min();n.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),t.Es.set(e,i)}class iT{constructor(){this.activeTargetIds=$4()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class n9{constructor(){this.ho=new iT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,i){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new iT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="ConnectivityMonitor";class aT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ye(sT,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ye(sT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ed=null;function gy(){return Ed===null?Ed=function(){return 268435456+Math.round(2147483648*Math.random())}():Ed++,"0x"+Ed.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="RestConnection",i9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class s9{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${i}/databases/${a}`,this.wo=this.databaseId.database===eh?`project_id=${i}`:`project_id=${i}&database_id=${a}`}bo(e,n,i,a,l){const c=gy(),d=this.So(e,n.toUriEncodedString());ye(Eg,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,a,l),this.vo(e,d,p,i).then(m=>(ye(Eg,`Received RPC '${e}' ${c}: `,m),m),m=>{throw fl(Eg,`RPC '${e}' ${c} failed with error: `,m,"url: ",d,"request:",i),m})}Co(e,n,i,a,l,c){return this.bo(e,n,i,a,l)}Do(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Al}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}So(e,n){const i=i9[e];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n="WebChannelConnection";class o9 extends s9{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,i,a){const l=gy();return new Promise((c,d)=>{const p=new Ww;p.setWithCredentials(!0),p.listenOnce(Yw.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case xd.NO_ERROR:const y=p.getResponseJson();ye(_n,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case xd.TIMEOUT:ye(_n,`RPC '${e}' ${l} timed out`),d(new Ce(le.DEADLINE_EXCEEDED,"Request time out"));break;case xd.HTTP_ERROR:const _=p.getStatus();if(ye(_n,`RPC '${e}' ${l} failed with status:`,_,"response text:",p.getResponseText()),_>0){let E=p.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E==null?void 0:E.error;if(S&&S.status&&S.message){const R=function(D){const z=D.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(z)>=0?z:le.UNKNOWN}(S.status);d(new Ce(R,S.message))}else d(new Ce(le.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new Ce(le.UNAVAILABLE,"Connection failed."));break;default:Pe()}}finally{ye(_n,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(a);ye(_n,`RPC '${e}' ${l} sending request:`,a),p.send(n,"POST",m,i,15)})}Wo(e,n,i){const a=gy(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Zw(),d=Xw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const y=l.join("");ye(_n,`Creating RPC '${e}' stream ${a}: ${y}`,p);const _=c.createWebChannel(y,p);let E=!1,S=!1;const R=new a9({Fo:D=>{S?ye(_n,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(E||(ye(_n,`Opening RPC '${e}' stream ${a} transport.`),_.open(),E=!0),ye(_n,`RPC '${e}' stream ${a} sending:`,D),_.send(D))},Mo:()=>_.close()}),M=(D,z,F)=>{D.listen(z,q=>{try{F(q)}catch(Z){setTimeout(()=>{throw Z},0)}})};return M(_,Xu.EventType.OPEN,()=>{S||(ye(_n,`RPC '${e}' stream ${a} transport opened.`),R.Qo())}),M(_,Xu.EventType.CLOSE,()=>{S||(S=!0,ye(_n,`RPC '${e}' stream ${a} transport closed`),R.Ko())}),M(_,Xu.EventType.ERROR,D=>{S||(S=!0,fl(_n,`RPC '${e}' stream ${a} transport errored:`,D),R.Ko(new Ce(le.UNAVAILABLE,"The operation could not be completed")))}),M(_,Xu.EventType.MESSAGE,D=>{var z;if(!S){const F=D.data[0];ft(!!F);const q=F,Z=(q==null?void 0:q.error)||((z=q[0])===null||z===void 0?void 0:z.error);if(Z){ye(_n,`RPC '${e}' stream ${a} received error:`,Z);const X=Z.status;let se=function(C){const x=Ut[C];if(x!==void 0)return xA(x)}(X),P=Z.message;se===void 0&&(se=le.INTERNAL,P="Unknown error status: "+X+" with message "+Z.message),S=!0,R.Ko(new Ce(se,P)),_.close()}else ye(_n,`RPC '${e}' stream ${a} received:`,F),R.Uo(F)}}),M(d,Qw.STAT_EVENT,D=>{D.stat===sy.PROXY?ye(_n,`RPC '${e}' stream ${a} detected buffering proxy`):D.stat===sy.NOPROXY&&ye(_n,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{R.$o()},0),R}}function bg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(t){return new fk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=n,this.Go=i,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),a=Math.max(0,n-i);a>0&&ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="PersistentStream";class GA{constructor(e,n,i,a,l,c,d,p){this.Ti=e,this.n_=i,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new qA(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(Qi(n.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.i_===n&&this.V_(i,a)},i=>{e(()=>{const a=new Ce(le.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(a)})})}V_(e,n){const i=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{i(()=>this.m_(a))}),this.stream.onMessage(a=>{i(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ye(oT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ye(oT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class l9 extends GA{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=pk(this.serializer,e),i=function(l){if(!("targetChange"in l))return ke.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ke.min():c.readTime?ai(c.readTime):ke.min()}(e);return this.listener.p_(n,i)}y_(e){const n={};n.database=py(this.serializer),n.addTarget=function(l,c){let d;const p=c.target;if(d=uy(p)?{documents:yk(l,p)}:{query:vk(l,p).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=PA(l,c.resumeToken);const m=fy(l,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(ke.min())>0){d.readTime=ah(l,c.snapshotVersion.toTimestamp());const m=fy(l,c.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const i=Ek(this.serializer,e);i&&(n.labels=i),this.I_(n)}w_(e){const n={};n.database=py(this.serializer),n.removeTarget=e,this.I_(n)}}class u9 extends GA{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return ft(!!e.streamToken),this.lastStreamToken=e.streamToken,ft(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=gk(e.writeResults,e.commitTime),i=ai(e.commitTime);return this.listener.v_(i,n)}C_(){const e={};e.database=py(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>mk(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{}class f9 extends c9{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new Ce(le.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.bo(e,dy(n,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ce(le.UNKNOWN,l.toString())})}Co(e,n,i,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(e,dy(n,i),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ce(le.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class d9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Qi(n),this.N_=!1):ye("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="RemoteStore";class h9{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{i.enqueueAndForget(async()=>{so(this)&&(ye(Za,"Restarting streams for network reachability change."),await async function(p){const m=Le(p);m.W_.add(4),await Fc(m),m.j_.set("Unknown"),m.W_.delete(4),await qh(m)}(this))})}),this.j_=new d9(i,a)}}async function qh(t){if(so(t))for(const e of t.G_)await e(!0)}async function Fc(t){for(const e of t.G_)await e(!1)}function $A(t,e){const n=Le(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Sv(n)?Tv(n):Il(n).c_()&&bv(n,e))}function Ev(t,e){const n=Le(t),i=Il(n);n.U_.delete(e),i.c_()&&KA(n,e),n.U_.size===0&&(i.c_()?i.P_():so(n)&&n.j_.set("Unknown"))}function bv(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Il(t).y_(e)}function KA(t,e){t.H_.Ne(e),Il(t).w_(e)}function Tv(t){t.H_=new ok({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Il(t).start(),t.j_.B_()}function Sv(t){return so(t)&&!Il(t).u_()&&t.U_.size>0}function so(t){return Le(t).W_.size===0}function WA(t){t.H_=void 0}async function p9(t){t.j_.set("Online")}async function m9(t){t.U_.forEach((e,n)=>{bv(t,e)})}async function g9(t,e){WA(t),Sv(t)?(t.j_.q_(e),Tv(t)):t.j_.set("Unknown")}async function y9(t,e,n){if(t.j_.set("Online"),e instanceof NA&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.U_.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.U_.delete(d),a.H_.removeTarget(d))}(t,e)}catch(i){ye(Za,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await lh(t,i)}else if(e instanceof Md?t.H_.We(e):e instanceof OA?t.H_.Ze(e):t.H_.je(e),!n.isEqual(ke.min()))try{const i=await HA(t.localStore);n.compareTo(i)>=0&&await function(l,c){const d=l.H_.ot(c);return d.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const y=l.U_.get(m);y&&l.U_.set(m,y.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,m)=>{const y=l.U_.get(p);if(!y)return;l.U_.set(p,y.withResumeToken(gn.EMPTY_BYTE_STRING,y.snapshotVersion)),KA(l,p);const _=new js(y.target,p,m,y.sequenceNumber);bv(l,_)}),l.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(i){ye(Za,"Failed to raise snapshot:",i),await lh(t,i)}}async function lh(t,e,n){if(!Cl(e))throw e;t.W_.add(1),await Fc(t),t.j_.set("Offline"),n||(n=()=>HA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ye(Za,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await qh(t)})}function YA(t,e){return e().catch(n=>lh(t,n,e))}async function Gh(t){const e=Le(t),n=Js(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:av;for(;v9(e);)try{const a=await Jk(e.localStore,i);if(a===null){e.K_.length===0&&n.P_();break}i=a.batchId,_9(e,a)}catch(a){await lh(e,a)}QA(e)&&XA(e)}function v9(t){return so(t)&&t.K_.length<10}function _9(t,e){t.K_.push(e);const n=Js(t);n.c_()&&n.b_&&n.S_(e.mutations)}function QA(t){return so(t)&&!Js(t).u_()&&t.K_.length>0}function XA(t){Js(t).start()}async function E9(t){Js(t).C_()}async function b9(t){const e=Js(t);for(const n of t.K_)e.S_(n.mutations)}async function T9(t,e,n){const i=t.K_.shift(),a=hv.from(i,e,n);await YA(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await Gh(t)}async function S9(t,e){e&&Js(t).b_&&await async function(i,a){if(function(c){return ik(c)&&c!==le.ABORTED}(a.code)){const l=i.K_.shift();Js(i).h_(),await YA(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Gh(i)}}(t,e),QA(t)&&XA(t)}async function lT(t,e){const n=Le(t);n.asyncQueue.verifyOperationInProgress(),ye(Za,"RemoteStore received new credentials");const i=so(n);n.W_.add(3),await Fc(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await qh(n)}async function w9(t,e){const n=Le(t);e?(n.W_.delete(2),await qh(n)):e||(n.W_.add(2),await Fc(n),n.j_.set("Unknown"))}function Il(t){return t.J_||(t.J_=function(n,i,a){const l=Le(n);return l.M_(),new l9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{xo:p9.bind(null,t),No:m9.bind(null,t),Lo:g9.bind(null,t),p_:y9.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),Sv(t)?Tv(t):t.j_.set("Unknown")):(await t.J_.stop(),WA(t))})),t.J_}function Js(t){return t.Y_||(t.Y_=function(n,i,a){const l=Le(n);return l.M_(),new u9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:E9.bind(null,t),Lo:S9.bind(null,t),D_:b9.bind(null,t),v_:T9.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Gh(t)):(await t.Y_.stop(),t.K_.length>0&&(ye(Za,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new $s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,d=new wv(e,n,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Av(t,e){if(Qi("AsyncQueue",`${e}: ${t}`),Cl(t))return new Ce(le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{static emptySet(e){return new ol(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ie.comparator(n.key,i.key):(n,i)=>Ie.comparator(n.key,i.key),this.keyedMap=Zu(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ol)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new ol;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(){this.Z_=new wt(Ie.comparator)}track(e){const n=e.doc.key,i=this.Z_.get(n);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(n):e.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Pe():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,i)=>{e.push(i)}),e}}class gl{constructor(e,n,i,a,l,c,d,p,m){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new gl(e,n,ol.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class R9{constructor(){this.queries=cT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const a=Le(n),l=a.queries;a.queries=cT(),l.forEach((c,d)=>{for(const p of d.ta)p.onError(i)})})(this,new Ce(le.ABORTED,"Firestore shutting down"))}}function cT(){return new ro(t=>yA(t),Uh)}async function C9(t,e){const n=Le(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.na()&&e.ra()&&(i=2):(l=new A9,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await n.onListen(a,!0);break;case 1:l.ea=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=Av(c,`Initialization of query '${el(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.ta.push(e),e.sa(n.onlineState),l.ea&&e.oa(l.ea)&&Rv(n)}async function I9(t,e){const n=Le(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function D9(t,e){const n=Le(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.ta)d.oa(a)&&(i=!0);c.ea=a}}i&&Rv(n)}function x9(t,e,n){const i=Le(t),a=i.queries.get(e);if(a)for(const l of a.ta)l.onError(n);i.queries.delete(e)}function Rv(t){t.ia.forEach(e=>{e.next()})}var yy,fT;(fT=yy||(yy={}))._a="default",fT.Cache="cache";class O9{constructor(e,n,i){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new gl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==yy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.key=e}}class JA{constructor(e){this.key=e}}class N9{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Qe(),this.mutatedKeys=Qe(),this.ya=vA(e),this.wa=new ol(this.ya)}get ba(){return this.fa}Sa(e,n){const i=n?n.Da:new uT,a=n?n.wa:this.wa;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,_)=>{const E=a.get(y),S=Bh(this.query,_)?_:null,R=!!E&&this.mutatedKeys.has(E.key),M=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let D=!1;E&&S?E.data.isEqual(S.data)?R!==M&&(i.track({type:3,doc:S}),D=!0):this.va(E,S)||(i.track({type:2,doc:S}),D=!0,(p&&this.ya(S,p)>0||m&&this.ya(S,m)<0)&&(d=!0)):!E&&S?(i.track({type:0,doc:S}),D=!0):E&&!S&&(i.track({type:1,doc:E}),D=!0,(p||m)&&(d=!0)),D&&(S?(c=c.add(S),l=M?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{wa:c,Da:i,ls:d,mutatedKeys:l}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((y,_)=>function(S,R){const M=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe()}};return M(S)-M(R)}(y.type,_.type)||this.ya(y.doc,_.doc)),this.Ca(i),a=a!=null&&a;const d=n&&!a?this.Fa():[],p=this.pa.size===0&&this.current&&!a?1:0,m=p!==this.ga;return this.ga=p,c.length!==0||m?{snapshot:new gl(this.query,e.wa,l,c,e.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new uT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Qe(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return e.forEach(i=>{this.pa.has(i)||n.push(new JA(i))}),this.pa.forEach(i=>{e.has(i)||n.push(new ZA(i))}),n}Oa(e){this.fa=e.gs,this.pa=Qe();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return gl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Cv="SyncEngine";class P9{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class M9{constructor(e){this.key=e,this.Ba=!1}}class k9{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new ro(d=>yA(d),Uh),this.qa=new Map,this.Qa=new Set,this.$a=new wt(Ie.comparator),this.Ka=new Map,this.Ua=new gv,this.Wa={},this.Ga=new Map,this.za=ml.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function V9(t,e,n=!0){const i=s1(t);let a;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await e1(i,e,n,!0),a}async function L9(t,e){const n=s1(t);await e1(n,e,!0,!1)}async function e1(t,e,n,i){const a=await e9(t.localStore,si(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return i&&(d=await U9(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&$A(t.remoteStore,a),d}async function U9(t,e,n,i,a){t.Ha=(_,E,S)=>async function(M,D,z,F){let q=D.view.Sa(z);q.ls&&(q=await rT(M.localStore,D.query,!1).then(({documents:P})=>D.view.Sa(P,q)));const Z=F&&F.targetChanges.get(D.targetId),X=F&&F.targetMismatches.get(D.targetId)!=null,se=D.view.applyChanges(q,M.isPrimaryClient,Z,X);return hT(M,D.targetId,se.Ma),se.snapshot}(t,_,E,S);const l=await rT(t.localStore,e,!0),c=new N9(e,l.gs),d=c.Sa(l.documents),p=jc.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),m=c.applyChanges(d,t.isPrimaryClient,p);hT(t,n,m.Ma);const y=new P9(e,n,c);return t.ka.set(e,y),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),m.snapshot}async function B9(t,e,n){const i=Le(t),a=i.ka.get(e),l=i.qa.get(a.targetId);if(l.length>1)return i.qa.set(a.targetId,l.filter(c=>!Uh(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await my(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),n&&Ev(i.remoteStore,a.targetId),vy(i,a.targetId)}).catch(Rl)):(vy(i,a.targetId),await my(i.localStore,a.targetId,!0))}async function z9(t,e){const n=Le(t),i=n.ka.get(e),a=n.qa.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Ev(n.remoteStore,i.targetId))}async function j9(t,e,n){const i=W9(t);try{const a=await function(c,d){const p=Le(c),m=Wt.now(),y=d.reduce((S,R)=>S.add(R.key),Qe());let _,E;return p.persistence.runTransaction("Locally write mutations","readwrite",S=>{let R=Xi(),M=Qe();return p.ds.getEntries(S,y).next(D=>{R=D,R.forEach((z,F)=>{F.isValidDocument()||(M=M.add(z))})}).next(()=>p.localDocuments.getOverlayedDocuments(S,R)).next(D=>{_=D;const z=[];for(const F of d){const q=J4(F,_.get(F.key).overlayedDocument);q!=null&&z.push(new io(F.key,q,cA(q.value.mapValue),qi.exists(!0)))}return p.mutationQueue.addMutationBatch(S,m,z,d)}).next(D=>{E=D;const z=D.applyToLocalDocumentSet(_,M);return p.documentOverlayCache.saveOverlays(S,D.batchId,z)})}).then(()=>({batchId:E.batchId,changes:EA(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,d,p){let m=c.Wa[c.currentUser.toKey()];m||(m=new wt(Je)),m=m.insert(d,p),c.Wa[c.currentUser.toKey()]=m}(i,a.batchId,n),await Hc(i,a.changes),await Gh(i.remoteStore)}catch(a){const l=Av(a,"Failed to persist write");n.reject(l)}}async function t1(t,e){const n=Le(t);try{const i=await Xk(n.localStore,e);e.targetChanges.forEach((a,l)=>{const c=n.Ka.get(l);c&&(ft(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?ft(c.Ba):a.removedDocuments.size>0&&(ft(c.Ba),c.Ba=!1))}),await Hc(n,i,e)}catch(i){await Rl(i)}}function dT(t,e,n){const i=Le(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.ka.forEach((l,c)=>{const d=c.view.sa(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const p=Le(c);p.onlineState=d;let m=!1;p.queries.forEach((y,_)=>{for(const E of _.ta)E.sa(d)&&(m=!0)}),m&&Rv(p)}(i.eventManager,e),a.length&&i.La.p_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function F9(t,e,n){const i=Le(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Ka.get(e),l=a&&a.key;if(l){let c=new wt(Ie.comparator);c=c.insert(l,bn.newNoDocument(l,ke.min()));const d=Qe().add(l),p=new Fh(ke.min(),new Map,new wt(Je),c,d);await t1(i,p),i.$a=i.$a.remove(l),i.Ka.delete(e),Iv(i)}else await my(i.localStore,e,!1).then(()=>vy(i,e,n)).catch(Rl)}async function H9(t,e){const n=Le(t),i=e.batch.batchId;try{const a=await Qk(n.localStore,e);r1(n,i,null),n1(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Hc(n,a)}catch(a){await Rl(a)}}async function q9(t,e,n){const i=Le(t);try{const a=await function(c,d){const p=Le(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return p.mutationQueue.lookupMutationBatch(m,d).next(_=>(ft(_!==null),y=_.keys(),p.mutationQueue.removeMutationBatch(m,_))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,y,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>p.localDocuments.getDocuments(m,y))})}(i.localStore,e);r1(i,e,n),n1(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Hc(i,a)}catch(a){await Rl(a)}}function n1(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function r1(t,e,n){const i=Le(t);let a=i.Wa[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.Wa[i.currentUser.toKey()]=a}}function vy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.qa.get(e))t.ka.delete(i),n&&t.La.Ja(i,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.Sr(e).forEach(i=>{t.Ua.containsKey(i)||i1(t,i)})}function i1(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(Ev(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),Iv(t))}function hT(t,e,n){for(const i of n)i instanceof ZA?(t.Ua.addReference(i.key,e),G9(t,i)):i instanceof JA?(ye(Cv,"Document no longer in limbo: "+i.key),t.Ua.removeReference(i.key,e),t.Ua.containsKey(i.key)||i1(t,i.key)):Pe()}function G9(t,e){const n=e.key,i=n.path.canonicalString();t.$a.get(n)||t.Qa.has(i)||(ye(Cv,"New document in limbo: "+n),t.Qa.add(i),Iv(t))}function Iv(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Ie(Dt.fromString(e)),i=t.za.next();t.Ka.set(i,new M9(n)),t.$a=t.$a.insert(n,i),$A(t.remoteStore,new js(si(fv(n.path)),i,"TargetPurposeLimboResolution",Mh.ae))}}async function Hc(t,e,n){const i=Le(t),a=[],l=[],c=[];i.ka.isEmpty()||(i.ka.forEach((d,p)=>{c.push(i.Ha(p,e,n).then(m=>{var y;if((m||n)&&i.isPrimaryClient){const _=m?!m.fromCache:(y=n==null?void 0:n.targetChanges.get(p.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(m){a.push(m);const _=vv.Yi(p.targetId,m);l.push(_)}}))}),await Promise.all(c),i.La.p_(a),await async function(p,m){const y=Le(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ie.forEach(m,E=>ie.forEach(E.Hi,S=>y.persistence.referenceDelegate.addReference(_,E.targetId,S)).next(()=>ie.forEach(E.Ji,S=>y.persistence.referenceDelegate.removeReference(_,E.targetId,S)))))}catch(_){if(!Cl(_))throw _;ye(_v,"Failed to update sequence numbers: "+_)}for(const _ of m){const E=_.targetId;if(!_.fromCache){const S=y.Ts.get(E),R=S.snapshotVersion,M=S.withLastLimboFreeSnapshotVersion(R);y.Ts=y.Ts.insert(E,M)}}}(i.localStore,l))}async function $9(t,e){const n=Le(t);if(!n.currentUser.isEqual(e)){ye(Cv,"User change. New user:",e.toKey());const i=await FA(n.localStore,e);n.currentUser=e,function(l,c){l.Ga.forEach(d=>{d.forEach(p=>{p.reject(new Ce(le.CANCELLED,c))})}),l.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Hc(n,i.Rs)}}function K9(t,e){const n=Le(t),i=n.Ka.get(e);if(i&&i.Ba)return Qe().add(i.key);{let a=Qe();const l=n.qa.get(e);if(!l)return a;for(const c of l){const d=n.ka.get(c);a=a.unionWith(d.view.ba)}return a}}function s1(t){const e=Le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=t1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=K9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F9.bind(null,e),e.La.p_=D9.bind(null,e.eventManager),e.La.Ja=x9.bind(null,e.eventManager),e}function W9(t){const e=Le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=H9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=q9.bind(null,e),e}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return Yk(this.persistence,new $k,e.initialUser,this.serializer)}Xa(e){return new jA(yv.ri,this.serializer)}Za(e){return new n9}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class Y9 extends uh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){ft(this.persistence.referenceDelegate instanceof oh);const i=this.persistence.referenceDelegate.garbageCollector;return new Ok(i,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new jA(i=>oh.ri(i,n),this.serializer)}}class _y{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>dT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=$9.bind(null,this.syncEngine),await w9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new R9}()}createDatastore(e){const n=Hh(e.databaseInfo.databaseId),i=function(l){return new o9(l)}(e.databaseInfo);return function(l,c,d,p){return new f9(l,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,a,l,c,d){return new h9(i,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,n=>dT(this.syncEngine,n,0),function(){return aT.D()?new aT:new r9}())}createSyncEngine(e,n){return function(a,l,c,d,p,m,y){const _=new k9(a,l,c,d,p,m);return y&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const l=Le(a);ye(Za,"RemoteStore shutting down."),l.W_.add(5),await Fc(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}_y.provider={build:()=>new _y};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Qi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="FirestoreClient";class X9{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=En.UNAUTHENTICATED,this.clientId=eA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{ye(ea,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ye(ea,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Av(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Tg(t,e){t.asyncQueue.verifyOperationInProgress(),ye(ea,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async a=>{i.isEqual(a)||(await FA(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function pT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Z9(t);ye(ea,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>lT(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,a)=>lT(e.remoteStore,a)),t._onlineComponents=e}async function Z9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye(ea,"Using user provided OfflineComponentProvider");try{await Tg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===le.FAILED_PRECONDITION||a.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;fl("Error using user provided cache. Falling back to memory cache: "+n),await Tg(t,new uh)}}else ye(ea,"Using default OfflineComponentProvider"),await Tg(t,new Y9(void 0));return t._offlineComponents}async function a1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye(ea,"Using user provided OnlineComponentProvider"),await pT(t,t._uninitializedComponentsProvider._online)):(ye(ea,"Using default OnlineComponentProvider"),await pT(t,new _y))),t._onlineComponents}function J9(t){return a1(t).then(e=>e.syncEngine)}async function eV(t){const e=await a1(t),n=e.eventManager;return n.onListen=V9.bind(null,e.syncEngine),n.onUnlisten=B9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=L9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=z9.bind(null,e.syncEngine),n}function tV(t,e,n={}){const i=new $s;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,m){const y=new Q9({next:E=>{y.su(),c.enqueueAndForget(()=>I9(l,_));const S=E.docs.has(d);!S&&E.fromCache?m.reject(new Ce(le.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&p&&p.source==="server"?m.reject(new Ce(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),_=new O9(fv(d.path),y,{includeMetadataChanges:!0,Ta:!0});return C9(l,_)}(await eV(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(t,e,n){if(!n)throw new Ce(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rV(t,e,n,i){if(e===!0&&i===!0)throw new Ce(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gT(t){if(!Ie.isDocumentKey(t))throw new Ce(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Dv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pe()}function bc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ce(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dv(t);throw new Ce(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="firestore.googleapis.com",yT=!0;class vT{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=l1,this.ssl=yT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:yT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Dk)throw new Ce(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=o1((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xv{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new s4;switch(i.type){case"firstParty":return new u4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ce(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=mT.get(n);i&&(ye("ComponentProvider","Removing Datastore"),mT.delete(n),i.terminate())}(this),Promise.resolve()}}function iV(t,e,n,i={}){var a;const l=(t=bc(t,xv))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;l.host!==l1&&l.host!==d&&fl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:d,ssl:!1,emulatorOptions:i});if(!Ka(p,c)&&(t._setSettings(p),i.mockUserToken)){let m,y;if(typeof i.mockUserToken=="string")m=i.mockUserToken,y=En.MOCK_USER;else{m=E3(i.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Ce(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new En(_)}t._authCredentials=new a4(new Jw(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ov(this.firestore,e,this._query)}}class yr{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yr(this.firestore,e,this._key)}}class Tc extends Ov{constructor(e,n,i){super(e,n,fv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yr(this.firestore,null,new Ie(e))}withConverter(e){return new Tc(this.firestore,e,this._path)}}function u1(t,e,...n){if(t=Er(t),arguments.length===1&&(e=eA.newId()),nV("doc","path",e),t instanceof xv){const i=Dt.fromString(e,...n);return gT(i),new yr(t,null,new Ie(i))}{if(!(t instanceof yr||t instanceof Tc))throw new Ce(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Dt.fromString(e,...n));return gT(i),new yr(t.firestore,t instanceof Tc?t.converter:null,new Ie(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="AsyncQueue";class ET{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new qA(this,"async_queue_retry"),this.bu=()=>{const i=bg();i&&ye(_T,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.Su=e;const n=bg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=bg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new $s;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Cl(e))throw e;ye(_T,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const a=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw Qi("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.pu=!1,i))));return this.Su=n,n}enqueueAfterDelay(e,n,i){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const a=wv.createAndSchedule(this,e,n,i,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&Pe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Nv extends xv{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new ET,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ET(e),this._firestoreClient=void 0,await e}}}function sV(t,e){const n=typeof t=="object"?t:uw(),i=typeof t=="string"?t:eh,a=Wy(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=v3("firestore");l&&iV(a,...l)}return a}function c1(t){if(t._terminated)throw new Ce(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||aV(t),t._firestoreClient}function aV(t){var e,n,i;const a=t._freezeSettings(),l=function(d,p,m,y){return new S4(d,p,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,o1(y.experimentalLongPollingOptions),y.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new X9(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yl(gn.fromBase64String(e))}catch(n){throw new Ce(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yl(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ce(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ce(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ce(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV=/^__.*__$/;class lV{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new io(e,this.data,this.fieldMask,n,this.fieldTransforms):new zc(e,this.data,n,this.fieldTransforms)}}function d1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe()}}class Vv{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Vv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:i,Qu:!1});return a.$u(e),a}Ku(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:i,Qu:!1});return a.Bu(),a}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return ch(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(d1(this.Lu)&&oV.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class uV{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Hh(e)}ju(e,n,i,a=!1){return new Vv({Lu:e,methodName:n,zu:i,path:pn.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cV(t){const e=t._freezeSettings(),n=Hh(t._databaseId);return new uV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fV(t,e,n,i,a,l={}){const c=t.ju(l.merge||l.mergeFields?2:0,e,n,a);g1("Data must be an object, but it was:",c,i);const d=p1(i,c);let p,m;if(l.merge)p=new Or(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const E=dV(e,_,n);if(!c.contains(E))throw new Ce(le.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);pV(y,E)||y.push(E)}p=new Or(y),m=c.fieldTransforms.filter(_=>p.covers(_.field))}else p=null,m=c.fieldTransforms;return new lV(new mr(d),p,m)}function h1(t,e){if(m1(t=Er(t)))return g1("Unsupported field value:",e,t),p1(t,e);if(t instanceof f1)return function(i,a){if(!d1(a.Lu))throw a.Wu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const d of i){let p=h1(d,a.Uu(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(t,e)}return function(i,a){if((i=Er(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return K4(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Wt.fromDate(i);return{timestampValue:ah(a.serializer,l)}}if(i instanceof Wt){const l=new Wt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ah(a.serializer,l)}}if(i instanceof Mv)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof yl)return{bytesValue:PA(a.serializer,i._byteString)};if(i instanceof yr){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:mv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof kv)return function(c,d){return{mapValue:{fields:{[lA]:{stringValue:uA},[th]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw d.Wu("VectorValues must only contain numeric values.");return dv(d.serializer,m)})}}}}}}(i,a);throw a.Wu(`Unsupported field value: ${Dv(i)}`)}(t,e)}function p1(t,e){const n={};return nA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):no(t,(i,a)=>{const l=h1(a,e.qu(i));l!=null&&(n[i]=l)}),{mapValue:{fields:n}}}function m1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Wt||t instanceof Mv||t instanceof yl||t instanceof yr||t instanceof f1||t instanceof kv)}function g1(t,e,n){if(!m1(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const i=Dv(n);throw i==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+i)}}function dV(t,e,n){if((e=Er(e))instanceof Pv)return e._internalPath;if(typeof e=="string")return y1(t,e);throw ch("Field path arguments must be of type string or ",t,!1,void 0,n)}const hV=new RegExp("[~\\*/\\[\\]]");function y1(t,e,n){if(e.search(hV)>=0)throw ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Pv(...e.split("."))._internalPath}catch{throw ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ch(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${a}`),p+=")"),new Ce(le.INVALID_ARGUMENT,d+t+p)}function pV(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new yr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mV extends v1{data(){return super.data()}}function _1(t,e){return typeof e=="string"?y1(t,e):e instanceof Pv?e._internalPath:e._delegate._internalPath}class gV{convertValue(e,n="none"){switch(Zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return no(e,(a,l)=>{i[a]=this.convertValue(l,n)}),i}convertVectorValue(e){var n,i,a;const l=(a=(i=(n=e.fields)===null||n===void 0?void 0:n[th].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>Pt(c.doubleValue));return new kv(l)}convertGeoPoint(e){return new Mv(Pt(e.latitude),Pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Vh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(gc(e));default:return null}}convertTimestamp(e){const n=Qs(e);return new Wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Dt.fromString(e);ft(BA(i));const a=new yc(i.get(1),i.get(3)),l=new Ie(i.popFirst(5));return a.isEqual(n)||Qi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(t,e,n){let i;return i=t?t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class E1 extends v1{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _V(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(_1("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class _V extends E1{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(t){t=bc(t,yr);const e=bc(t.firestore,Nv);return tV(c1(e),t._key).then(n=>wV(e,t,n))}class bV extends gV{constructor(e){super(),this.firestore=e}convertBytes(e){return new yl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yr(this.firestore,null,n)}}function TV(t,e,n){t=bc(t,yr);const i=bc(t.firestore,Nv),a=yV(t.converter,e);return SV(i,[fV(cV(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,qi.none())])}function SV(t,e){return function(i,a){const l=new $s;return i.asyncQueue.enqueueAndForget(async()=>j9(await J9(i),a,l)),l.promise}(c1(t),e)}function wV(t,e,n){const i=n.docs.get(e._key),a=new bV(t);return new E1(t,a,e._key,i,new vV(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Al=a})(Sl),cl(new Wa("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new Nv(new o4(i.getProvider("auth-internal")),new c4(c,i.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ce(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yc(m.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:n},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),qs(I2,D2,e),qs(I2,D2,"esm2017")})();const AV={apiKey:"AIzaSyCyYfGLigE8BsrmJevN90AdHu7q6UvWIOY",authDomain:"mytrello-8c451.firebaseapp.com",projectId:"mytrello-8c451",storageBucket:"mytrello-8c451.firebasestorage.app",messagingSenderId:"334811594809",appId:"1:334811594809:web:f2a276ffc4e8f980930de8"},b1=lw(AV),Lv=iv(b1),T1=sV(b1),bT=localStorage.getItem("user"),TT=bT?{isAuthenticated:!0,user:JSON.parse(bT),isLoading:!1,error:null}:{isAuthenticated:!1,user:{email:null,token:null,id:null},isLoading:!1,error:null},S1=Hy({name:"auth",initialState:TT,reducers:{loginStart:t=>{t.isLoading=!0,t.error=null},loginFinish:t=>{t.isLoading=!1},loginSuccess:(t,e)=>{t.isAuthenticated=!0,t.user=e.payload,t.isLoading=!1},loginFailure:(t,e)=>{t.isLoading=!1,t.error=e.payload},logout:()=>TT}}),{loginStart:Uv,loginFinish:ST,loginSuccess:w1,loginFailure:RV,logout:A1}=S1.actions,CV=S1.reducer,IV="_userMenu_1v2j7_1",DV="_userButton_1v2j7_5",xV="_userIcon_1v2j7_16",OV="_dropdownMenu_1v2j7_20",NV="_open_1v2j7_36",PV="_logoutButton_1v2j7_42",Va={userMenu:IV,userButton:DV,userIcon:xV,dropdownMenu:OV,open:NV,logoutButton:PV},MV=()=>{const{theme:t}=Tn(p=>p.board),{isAuthenticated:e,user:n}=Tn(p=>p.auth),i=Vn(),[a,l]=k.useState(!1),c=k.useRef(null);k.useEffect(()=>{const p=m=>{c.current&&!c.current.contains(m.target)&&l(!1)};return a?document.addEventListener("mousedown",p):document.removeEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]);const d=async()=>{try{await Lv.signOut(),i(A1()),l(!1)}catch(p){console.error("  :",p)}};return e?G.jsxs("div",{ref:c,className:`${Va.userMenu} ${t==="dark"?Va.dark:""}`,children:[G.jsxs("button",{className:Va.userButton,onClick:()=>l(!a),children:[G.jsx(u3,{className:Va.userIcon}),G.jsx("p",{className:"text-body",children:n.email})]}),G.jsx("div",{className:`${Va.dropdownMenu} ${a?Va.open:""}`,children:G.jsxs("button",{className:Va.logoutButton,onClick:d,children:[G.jsx(l3,{}),G.jsx("h3",{children:""})]})})]}):null},kV="_header_kq99n_1",VV="_img_kq99n_10",LV="_controls_kq99n_15",UV="_themeButton_kq99n_24",BV="_themeLogo_kq99n_32",zu={header:kV,img:VV,controls:LV,themeButton:UV,themeLogo:BV},zV=()=>{const{theme:t}=Tn(n=>n.board),e=Vn();return G.jsxs("div",{className:zu.header,children:[G.jsx("img",{className:zu.img,src:XO,alt:""}),G.jsxs("div",{className:zu.controls,children:[G.jsx(MV,{}),G.jsx("button",{onClick:()=>e(MO()),className:zu.themeButton,children:G.jsx("img",{className:zu.themeLogo,src:t==="light"?ZO:JO,alt:" "})})]})]})},jV="_loader_jbkjj_1",FV="_spinner_jbkjj_7",wT={loader:jV,spinner:FV},Bv=()=>{const{theme:t}=Tn(e=>e.board);return G.jsx("div",{className:`${wT.loader} ${t==="dark"?"dark":"light"}`,children:G.jsx("div",{className:wT.spinner})})},HV=()=>Tn(e=>e.auth.isAuthenticated)?G.jsx(NS,{}):G.jsx(OS,{to:"/login",replace:!0}),qV=()=>{const t=Tn(n=>n.auth.isAuthenticated),e=Nc();return k.useEffect(()=>{window.location.pathname==="/"&&e(t?"/board":"/login",{replace:!0})},[t,e]),t?G.jsx(OS,{to:"/board",replace:!0}):G.jsx(NS,{})};var qc=t=>t.type==="checkbox",Ha=t=>t instanceof Date,xn=t=>t==null;const R1=t=>typeof t=="object";var Mt=t=>!xn(t)&&!Array.isArray(t)&&R1(t)&&!Ha(t),GV=t=>Mt(t)&&t.target?qc(t.target)?t.target.checked:t.target.value:t,$V=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,KV=(t,e)=>t.has($V(e)),WV=t=>{const e=t.constructor&&t.constructor.prototype;return Mt(e)&&e.hasOwnProperty("isPrototypeOf")},zv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function hr(t){let e;const n=Array.isArray(t),i=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(zv&&(t instanceof Blob||i))&&(n||Mt(t)))if(e=n?[]:{},!n&&!WV(t))e=t;else for(const a in t)t.hasOwnProperty(a)&&(e[a]=hr(t[a]));else return t;return e}var $h=t=>Array.isArray(t)?t.filter(Boolean):[],Bt=t=>t===void 0,Se=(t,e,n)=>{if(!e||!Mt(t))return n;const i=$h(e.split(/[,[\].]+?/)).reduce((a,l)=>xn(a)?a:a[l],t);return Bt(i)||i===t?Bt(t[e])?n:t[e]:i},ei=t=>typeof t=="boolean",jv=t=>/^\w*$/.test(t),C1=t=>$h(t.replace(/["|']|\]/g,"").split(/\.|\[/)),vt=(t,e,n)=>{let i=-1;const a=jv(e)?[e]:C1(e),l=a.length,c=l-1;for(;++i<l;){const d=a[i];let p=n;if(i!==c){const m=t[d];p=Mt(m)||Array.isArray(m)?m:isNaN(+a[i+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;t[d]=p,t=t[d]}return t};const AT={BLUR:"blur",FOCUS_OUT:"focusout"},xr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Vi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};je.createContext(null);var YV=(t,e,n,i=!0)=>{const a={defaultValues:e._defaultValues};for(const l in t)Object.defineProperty(a,l,{get:()=>{const c=l;return e._proxyFormState[c]!==xr.all&&(e._proxyFormState[c]=!i||xr.all),t[c]}});return a},Mn=t=>Mt(t)&&!Object.keys(t).length,QV=(t,e,n,i)=>{n(t);const{name:a,...l}=t;return Mn(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(c=>e[c]===xr.all)},kd=t=>Array.isArray(t)?t:[t];function XV(t){const e=je.useRef(t);e.current=t,je.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var ni=t=>typeof t=="string",ZV=(t,e,n,i,a)=>ni(t)?(i&&e.watch.add(t),Se(n,t,a)):Array.isArray(t)?t.map(l=>(i&&e.watch.add(l),Se(n,l))):(i&&(e.watchAll=!0),n),JV=(t,e,n,i,a)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[i]:a||!0}}:{},RT=t=>({isOnSubmit:!t||t===xr.onSubmit,isOnBlur:t===xr.onBlur,isOnChange:t===xr.onChange,isOnAll:t===xr.all,isOnTouch:t===xr.onTouched}),CT=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(i=>t.startsWith(i)&&/^\.\w+/.test(t.slice(i.length))));const sc=(t,e,n,i)=>{for(const a of n||Object.keys(t)){const l=Se(t,a);if(l){const{_f:c,...d}=l;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],a)&&!i)return!0;if(c.ref&&e(c.ref,c.name)&&!i)return!0;if(sc(d,e))break}else if(Mt(d)&&sc(d,e))break}}};var e6=(t,e,n)=>{const i=kd(Se(t,n));return vt(i,"root",e[n]),vt(t,n,i),t},Fv=t=>t.type==="file",ti=t=>typeof t=="function",fh=t=>{if(!zv)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Vd=t=>ni(t),Hv=t=>t.type==="radio",dh=t=>t instanceof RegExp;const IT={value:!1,isValid:!1},DT={value:!0,isValid:!0};var I1=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Bt(t[0].attributes.value)?Bt(t[0].value)||t[0].value===""?DT:{value:t[0].value,isValid:!0}:DT:IT}return IT};const xT={isValid:!1,value:null};var D1=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,xT):xT;function OT(t,e,n="validate"){if(Vd(t)||Array.isArray(t)&&t.every(Vd)||ei(t)&&!t)return{type:n,message:Vd(t)?t:"",ref:e}}var Qo=t=>Mt(t)&&!dh(t)?t:{value:t,message:""},NT=async(t,e,n,i,a,l)=>{const{ref:c,refs:d,required:p,maxLength:m,minLength:y,min:_,max:E,pattern:S,validate:R,name:M,valueAsNumber:D,mount:z}=t._f,F=Se(n,M);if(!z||e.has(M))return{};const q=d?d[0]:c,Z=L=>{a&&q.reportValidity&&(q.setCustomValidity(ei(L)?"":L||""),q.reportValidity())},X={},se=Hv(c),P=qc(c),I=se||P,C=(D||Fv(c))&&Bt(c.value)&&Bt(F)||fh(c)&&c.value===""||F===""||Array.isArray(F)&&!F.length,x=JV.bind(null,M,i,X),V=(L,O,Ue,Ne=Vi.maxLength,ue=Vi.minLength)=>{const Ee=L?O:Ue;X[M]={type:L?Ne:ue,message:Ee,ref:c,...x(L?Ne:ue,Ee)}};if(l?!Array.isArray(F)||!F.length:p&&(!I&&(C||xn(F))||ei(F)&&!F||P&&!I1(d).isValid||se&&!D1(d).isValid)){const{value:L,message:O}=Vd(p)?{value:!!p,message:p}:Qo(p);if(L&&(X[M]={type:Vi.required,message:O,ref:q,...x(Vi.required,O)},!i))return Z(O),X}if(!C&&(!xn(_)||!xn(E))){let L,O;const Ue=Qo(E),Ne=Qo(_);if(!xn(F)&&!isNaN(F)){const ue=c.valueAsNumber||F&&+F;xn(Ue.value)||(L=ue>Ue.value),xn(Ne.value)||(O=ue<Ne.value)}else{const ue=c.valueAsDate||new Date(F),Ee=B=>new Date(new Date().toDateString()+" "+B),ve=c.type=="time",Fe=c.type=="week";ni(Ue.value)&&F&&(L=ve?Ee(F)>Ee(Ue.value):Fe?F>Ue.value:ue>new Date(Ue.value)),ni(Ne.value)&&F&&(O=ve?Ee(F)<Ee(Ne.value):Fe?F<Ne.value:ue<new Date(Ne.value))}if((L||O)&&(V(!!L,Ue.message,Ne.message,Vi.max,Vi.min),!i))return Z(X[M].message),X}if((m||y)&&!C&&(ni(F)||l&&Array.isArray(F))){const L=Qo(m),O=Qo(y),Ue=!xn(L.value)&&F.length>+L.value,Ne=!xn(O.value)&&F.length<+O.value;if((Ue||Ne)&&(V(Ue,L.message,O.message),!i))return Z(X[M].message),X}if(S&&!C&&ni(F)){const{value:L,message:O}=Qo(S);if(dh(L)&&!F.match(L)&&(X[M]={type:Vi.pattern,message:O,ref:c,...x(Vi.pattern,O)},!i))return Z(O),X}if(R){if(ti(R)){const L=await R(F,n),O=OT(L,q);if(O&&(X[M]={...O,...x(Vi.validate,O.message)},!i))return Z(O.message),X}else if(Mt(R)){let L={};for(const O in R){if(!Mn(L)&&!i)break;const Ue=OT(await R[O](F,n),q,O);Ue&&(L={...Ue,...x(O,Ue.message)},Z(Ue.message),i&&(X[M]=L))}if(!Mn(L)&&(X[M]={ref:q,...L},!i))return X}}return Z(!0),X};function t6(t,e){const n=e.slice(0,-1).length;let i=0;for(;i<n;)t=Bt(t)?i++:t[e[i++]];return t}function n6(t){for(const e in t)if(t.hasOwnProperty(e)&&!Bt(t[e]))return!1;return!0}function $t(t,e){const n=Array.isArray(e)?e:jv(e)?[e]:C1(e),i=n.length===1?t:t6(t,n),a=n.length-1,l=n[a];return i&&delete i[l],a!==0&&(Mt(i)&&Mn(i)||Array.isArray(i)&&n6(i))&&$t(t,n.slice(0,-1)),t}var Sg=()=>{let t=[];return{get observers(){return t},next:a=>{for(const l of t)l.next&&l.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(l=>l!==a)}}),unsubscribe:()=>{t=[]}}},Ey=t=>xn(t)||!R1(t);function zs(t,e){if(Ey(t)||Ey(e))return t===e;if(Ha(t)&&Ha(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(const a of n){const l=t[a];if(!i.includes(a))return!1;if(a!=="ref"){const c=e[a];if(Ha(l)&&Ha(c)||Mt(l)&&Mt(c)||Array.isArray(l)&&Array.isArray(c)?!zs(l,c):l!==c)return!1}}return!0}var x1=t=>t.type==="select-multiple",r6=t=>Hv(t)||qc(t),wg=t=>fh(t)&&t.isConnected,O1=t=>{for(const e in t)if(ti(t[e]))return!0;return!1};function hh(t,e={}){const n=Array.isArray(t);if(Mt(t)||n)for(const i in t)Array.isArray(t[i])||Mt(t[i])&&!O1(t[i])?(e[i]=Array.isArray(t[i])?[]:{},hh(t[i],e[i])):xn(t[i])||(e[i]=!0);return e}function N1(t,e,n){const i=Array.isArray(t);if(Mt(t)||i)for(const a in t)Array.isArray(t[a])||Mt(t[a])&&!O1(t[a])?Bt(e)||Ey(n[a])?n[a]=Array.isArray(t[a])?hh(t[a],[]):{...hh(t[a])}:N1(t[a],xn(e)?{}:e[a],n[a]):n[a]=!zs(t[a],e[a]);return n}var ju=(t,e)=>N1(t,e,hh(e)),P1=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:i})=>Bt(t)?t:e?t===""?NaN:t&&+t:n&&ni(t)?new Date(t):i?i(t):t;function Ag(t){const e=t.ref;return Fv(e)?e.files:Hv(e)?D1(t.refs).value:x1(e)?[...e.selectedOptions].map(({value:n})=>n):qc(e)?I1(t.refs).value:P1(Bt(e.value)?t.ref.value:e.value,t)}var i6=(t,e,n,i)=>{const a={};for(const l of t){const c=Se(e,l);c&&vt(a,l,c._f)}return{criteriaMode:n,names:[...t],fields:a,shouldUseNativeValidation:i}},Fu=t=>Bt(t)?t:dh(t)?t.source:Mt(t)?dh(t.value)?t.value.source:t.value:t;const PT="AsyncFunction";var s6=t=>!!t&&!!t.validate&&!!(ti(t.validate)&&t.validate.constructor.name===PT||Mt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===PT)),a6=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function MT(t,e,n){const i=Se(t,n);if(i||jv(n))return{error:i,name:n};const a=n.split(".");for(;a.length;){const l=a.join("."),c=Se(e,l),d=Se(t,l);if(c&&!Array.isArray(c)&&n!==l)return{name:n};if(d&&d.type)return{name:l,error:d};a.pop()}return{name:n}}var o6=(t,e,n,i,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(e||t):(n?i.isOnBlur:a.isOnBlur)?!t:(n?i.isOnChange:a.isOnChange)?t:!0,l6=(t,e)=>!$h(Se(t,e)).length&&$t(t,e);const u6={mode:xr.onSubmit,reValidateMode:xr.onChange,shouldFocusError:!0};function c6(t={}){let e={...u6,...t},n={submitCount:0,isDirty:!1,isLoading:ti(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},i={},a=Mt(e.defaultValues)||Mt(e.values)?hr(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:hr(a),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,m=0;const y={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},_={values:Sg(),array:Sg(),state:Sg()},E=RT(e.mode),S=RT(e.reValidateMode),R=e.criteriaMode===xr.all,M=U=>Y=>{clearTimeout(m),m=setTimeout(U,Y)},D=async U=>{if(!e.disabled&&(y.isValid||U)){const Y=e.resolver?Mn((await I()).errors):await x(i,!0);Y!==n.isValid&&_.state.next({isValid:Y})}},z=(U,Y)=>{!e.disabled&&(y.isValidating||y.validatingFields)&&((U||Array.from(d.mount)).forEach(ee=>{ee&&(Y?vt(n.validatingFields,ee,Y):$t(n.validatingFields,ee))}),_.state.next({validatingFields:n.validatingFields,isValidating:!Mn(n.validatingFields)}))},F=(U,Y=[],ee,pe,he=!0,ce=!0)=>{if(pe&&ee&&!e.disabled){if(c.action=!0,ce&&Array.isArray(Se(i,U))){const _e=ee(Se(i,U),pe.argA,pe.argB);he&&vt(i,U,_e)}if(ce&&Array.isArray(Se(n.errors,U))){const _e=ee(Se(n.errors,U),pe.argA,pe.argB);he&&vt(n.errors,U,_e),l6(n.errors,U)}if(y.touchedFields&&ce&&Array.isArray(Se(n.touchedFields,U))){const _e=ee(Se(n.touchedFields,U),pe.argA,pe.argB);he&&vt(n.touchedFields,U,_e)}y.dirtyFields&&(n.dirtyFields=ju(a,l)),_.state.next({name:U,isDirty:L(U,Y),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else vt(l,U,Y)},q=(U,Y)=>{vt(n.errors,U,Y),_.state.next({errors:n.errors})},Z=U=>{n.errors=U,_.state.next({errors:n.errors,isValid:!1})},X=(U,Y,ee,pe)=>{const he=Se(i,U);if(he){const ce=Se(l,U,Bt(ee)?Se(a,U):ee);Bt(ce)||pe&&pe.defaultChecked||Y?vt(l,U,Y?ce:Ag(he._f)):Ne(U,ce),c.mount&&D()}},se=(U,Y,ee,pe,he)=>{let ce=!1,_e=!1;const Be={name:U};if(!e.disabled){const Ge=!!(Se(i,U)&&Se(i,U)._f&&Se(i,U)._f.disabled);if(!ee||pe){y.isDirty&&(_e=n.isDirty,n.isDirty=Be.isDirty=L(),ce=_e!==Be.isDirty);const Ke=Ge||zs(Se(a,U),Y);_e=!!(!Ge&&Se(n.dirtyFields,U)),Ke||Ge?$t(n.dirtyFields,U):vt(n.dirtyFields,U,!0),Be.dirtyFields=n.dirtyFields,ce=ce||y.dirtyFields&&_e!==!Ke}if(ee){const Ke=Se(n.touchedFields,U);Ke||(vt(n.touchedFields,U,ee),Be.touchedFields=n.touchedFields,ce=ce||y.touchedFields&&Ke!==ee)}ce&&he&&_.state.next(Be)}return ce?Be:{}},P=(U,Y,ee,pe)=>{const he=Se(n.errors,U),ce=y.isValid&&ei(Y)&&n.isValid!==Y;if(e.delayError&&ee?(p=M(()=>q(U,ee)),p(e.delayError)):(clearTimeout(m),p=null,ee?vt(n.errors,U,ee):$t(n.errors,U)),(ee?!zs(he,ee):he)||!Mn(pe)||ce){const _e={...pe,...ce&&ei(Y)?{isValid:Y}:{},errors:n.errors,name:U};n={...n,..._e},_.state.next(_e)}},I=async U=>{z(U,!0);const Y=await e.resolver(l,e.context,i6(U||d.mount,i,e.criteriaMode,e.shouldUseNativeValidation));return z(U),Y},C=async U=>{const{errors:Y}=await I(U);if(U)for(const ee of U){const pe=Se(Y,ee);pe?vt(n.errors,ee,pe):$t(n.errors,ee)}else n.errors=Y;return Y},x=async(U,Y,ee={valid:!0})=>{for(const pe in U){const he=U[pe];if(he){const{_f:ce,..._e}=he;if(ce){const Be=d.array.has(ce.name),Ge=he._f&&s6(he._f);Ge&&y.validatingFields&&z([pe],!0);const Ke=await NT(he,d.disabled,l,R,e.shouldUseNativeValidation&&!Y,Be);if(Ge&&y.validatingFields&&z([pe]),Ke[ce.name]&&(ee.valid=!1,Y))break;!Y&&(Se(Ke,ce.name)?Be?e6(n.errors,Ke,ce.name):vt(n.errors,ce.name,Ke[ce.name]):$t(n.errors,ce.name))}!Mn(_e)&&await x(_e,Y,ee)}}return ee.valid},V=()=>{for(const U of d.unMount){const Y=Se(i,U);Y&&(Y._f.refs?Y._f.refs.every(ee=>!wg(ee)):!wg(Y._f.ref))&&xe(U)}d.unMount=new Set},L=(U,Y)=>!e.disabled&&(U&&Y&&vt(l,U,Y),!zs(oe(),a)),O=(U,Y,ee)=>ZV(U,d,{...c.mount?l:Bt(Y)?a:ni(U)?{[U]:Y}:Y},ee,Y),Ue=U=>$h(Se(c.mount?l:a,U,e.shouldUnregister?Se(a,U,[]):[])),Ne=(U,Y,ee={})=>{const pe=Se(i,U);let he=Y;if(pe){const ce=pe._f;ce&&(!ce.disabled&&vt(l,U,P1(Y,ce)),he=fh(ce.ref)&&xn(Y)?"":Y,x1(ce.ref)?[...ce.ref.options].forEach(_e=>_e.selected=he.includes(_e.value)):ce.refs?qc(ce.ref)?ce.refs.length>1?ce.refs.forEach(_e=>(!_e.defaultChecked||!_e.disabled)&&(_e.checked=Array.isArray(he)?!!he.find(Be=>Be===_e.value):he===_e.value)):ce.refs[0]&&(ce.refs[0].checked=!!he):ce.refs.forEach(_e=>_e.checked=_e.value===he):Fv(ce.ref)?ce.ref.value="":(ce.ref.value=he,ce.ref.type||_.values.next({name:U,values:{...l}})))}(ee.shouldDirty||ee.shouldTouch)&&se(U,he,ee.shouldTouch,ee.shouldDirty,!0),ee.shouldValidate&&B(U)},ue=(U,Y,ee)=>{for(const pe in Y){const he=Y[pe],ce=`${U}.${pe}`,_e=Se(i,ce);(d.array.has(U)||Mt(he)||_e&&!_e._f)&&!Ha(he)?ue(ce,he,ee):Ne(ce,he,ee)}},Ee=(U,Y,ee={})=>{const pe=Se(i,U),he=d.array.has(U),ce=hr(Y);vt(l,U,ce),he?(_.array.next({name:U,values:{...l}}),(y.isDirty||y.dirtyFields)&&ee.shouldDirty&&_.state.next({name:U,dirtyFields:ju(a,l),isDirty:L(U,ce)})):pe&&!pe._f&&!xn(ce)?ue(U,ce,ee):Ne(U,ce,ee),CT(U,d)&&_.state.next({...n}),_.values.next({name:c.mount?U:void 0,values:{...l}})},ve=async U=>{c.mount=!0;const Y=U.target;let ee=Y.name,pe=!0;const he=Se(i,ee),ce=()=>Y.type?Ag(he._f):GV(U),_e=Be=>{pe=Number.isNaN(Be)||Ha(Be)&&isNaN(Be.getTime())||zs(Be,Se(l,ee,Be))};if(he){let Be,Ge;const Ke=ce(),Qt=U.type===AT.BLUR||U.type===AT.FOCUS_OUT,oo=!a6(he._f)&&!e.resolver&&!Se(n.errors,ee)&&!he._f.deps||o6(Qt,Se(n.touchedFields,ee),n.isSubmitted,S,E),ci=CT(ee,d,Qt);vt(l,ee,Ke),Qt?(he._f.onBlur&&he._f.onBlur(U),p&&p(0)):he._f.onChange&&he._f.onChange(U);const sa=se(ee,Ke,Qt,!1),fi=!Mn(sa)||ci;if(!Qt&&_.values.next({name:ee,type:U.type,values:{...l}}),oo)return y.isValid&&(e.mode==="onBlur"&&Qt?D():Qt||D()),fi&&_.state.next({name:ee,...ci?{}:sa});if(!Qt&&ci&&_.state.next({...n}),e.resolver){const{errors:Tr}=await I([ee]);if(_e(Ke),pe){const Xt=MT(n.errors,i,ee),Ji=MT(Tr,i,Xt.name||ee);Be=Ji.error,ee=Ji.name,Ge=Mn(Tr)}}else z([ee],!0),Be=(await NT(he,d.disabled,l,R,e.shouldUseNativeValidation))[ee],z([ee]),_e(Ke),pe&&(Be?Ge=!1:y.isValid&&(Ge=await x(i,!0)));pe&&(he._f.deps&&B(he._f.deps),P(ee,Ge,Be,sa))}},Fe=(U,Y)=>{if(Se(n.errors,Y)&&U.focus)return U.focus(),1},B=async(U,Y={})=>{let ee,pe;const he=kd(U);if(e.resolver){const ce=await C(Bt(U)?U:he);ee=Mn(ce),pe=U?!he.some(_e=>Se(ce,_e)):ee}else U?(pe=(await Promise.all(he.map(async ce=>{const _e=Se(i,ce);return await x(_e&&_e._f?{[ce]:_e}:_e)}))).every(Boolean),!(!pe&&!n.isValid)&&D()):pe=ee=await x(i);return _.state.next({...!ni(U)||y.isValid&&ee!==n.isValid?{}:{name:U},...e.resolver||!U?{isValid:ee}:{},errors:n.errors}),Y.shouldFocus&&!pe&&sc(i,Fe,U?he:d.mount),pe},oe=U=>{const Y={...c.mount?l:a};return Bt(U)?Y:ni(U)?Se(Y,U):U.map(ee=>Se(Y,ee))},be=(U,Y)=>({invalid:!!Se((Y||n).errors,U),isDirty:!!Se((Y||n).dirtyFields,U),error:Se((Y||n).errors,U),isValidating:!!Se(n.validatingFields,U),isTouched:!!Se((Y||n).touchedFields,U)}),me=U=>{U&&kd(U).forEach(Y=>$t(n.errors,Y)),_.state.next({errors:U?n.errors:{}})},ge=(U,Y,ee)=>{const pe=(Se(i,U,{_f:{}})._f||{}).ref,he=Se(n.errors,U)||{},{ref:ce,message:_e,type:Be,...Ge}=he;vt(n.errors,U,{...Ge,...Y,ref:pe}),_.state.next({name:U,errors:n.errors,isValid:!1}),ee&&ee.shouldFocus&&pe&&pe.focus&&pe.focus()},Me=(U,Y)=>ti(U)?_.values.subscribe({next:ee=>U(O(void 0,Y),ee)}):O(U,Y,!0),xe=(U,Y={})=>{for(const ee of U?kd(U):d.mount)d.mount.delete(ee),d.array.delete(ee),Y.keepValue||($t(i,ee),$t(l,ee)),!Y.keepError&&$t(n.errors,ee),!Y.keepDirty&&$t(n.dirtyFields,ee),!Y.keepTouched&&$t(n.touchedFields,ee),!Y.keepIsValidating&&$t(n.validatingFields,ee),!e.shouldUnregister&&!Y.keepDefaultValue&&$t(a,ee);_.values.next({values:{...l}}),_.state.next({...n,...Y.keepDirty?{isDirty:L()}:{}}),!Y.keepIsValid&&D()},mt=({disabled:U,name:Y,field:ee,fields:pe})=>{(ei(U)&&c.mount||U||d.disabled.has(Y))&&(U?d.disabled.add(Y):d.disabled.delete(Y),se(Y,Ag(ee?ee._f:Se(pe,Y)._f),!1,!1,!0))},qe=(U,Y={})=>{let ee=Se(i,U);const pe=ei(Y.disabled)||ei(e.disabled);return vt(i,U,{...ee||{},_f:{...ee&&ee._f?ee._f:{ref:{name:U}},name:U,mount:!0,...Y}}),d.mount.add(U),ee?mt({field:ee,disabled:ei(Y.disabled)?Y.disabled:e.disabled,name:U}):X(U,!0,Y.value),{...pe?{disabled:Y.disabled||e.disabled}:{},...e.progressive?{required:!!Y.required,min:Fu(Y.min),max:Fu(Y.max),minLength:Fu(Y.minLength),maxLength:Fu(Y.maxLength),pattern:Fu(Y.pattern)}:{},name:U,onChange:ve,onBlur:ve,ref:he=>{if(he){qe(U,Y),ee=Se(i,U);const ce=Bt(he.value)&&he.querySelectorAll&&he.querySelectorAll("input,select,textarea")[0]||he,_e=r6(ce),Be=ee._f.refs||[];if(_e?Be.find(Ge=>Ge===ce):ce===ee._f.ref)return;vt(i,U,{_f:{...ee._f,..._e?{refs:[...Be.filter(wg),ce,...Array.isArray(Se(a,U))?[{}]:[]],ref:{type:ce.type,name:U}}:{ref:ce}}}),X(U,!1,void 0,ce)}else ee=Se(i,U,{}),ee._f&&(ee._f.mount=!1),(e.shouldUnregister||Y.shouldUnregister)&&!(KV(d.array,U)&&c.action)&&d.unMount.add(U)}}},lt=()=>e.shouldFocusError&&sc(i,Fe,d.mount),Xe=U=>{ei(U)&&(_.state.next({disabled:U}),sc(i,(Y,ee)=>{const pe=Se(i,ee);pe&&(Y.disabled=pe._f.disabled||U,Array.isArray(pe._f.refs)&&pe._f.refs.forEach(he=>{he.disabled=pe._f.disabled||U}))},0,!1))},zt=(U,Y)=>async ee=>{let pe;ee&&(ee.preventDefault&&ee.preventDefault(),ee.persist&&ee.persist());let he=hr(l);if(d.disabled.size)for(const ce of d.disabled)vt(he,ce,void 0);if(_.state.next({isSubmitting:!0}),e.resolver){const{errors:ce,values:_e}=await I();n.errors=ce,he=_e}else await x(i);if($t(n.errors,"root"),Mn(n.errors)){_.state.next({errors:{}});try{await U(he,ee)}catch(ce){pe=ce}}else Y&&await Y({...n.errors},ee),lt(),setTimeout(lt);if(_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Mn(n.errors)&&!pe,submitCount:n.submitCount+1,errors:n.errors}),pe)throw pe},_t=(U,Y={})=>{Se(i,U)&&(Bt(Y.defaultValue)?Ee(U,hr(Se(a,U))):(Ee(U,Y.defaultValue),vt(a,U,hr(Y.defaultValue))),Y.keepTouched||$t(n.touchedFields,U),Y.keepDirty||($t(n.dirtyFields,U),n.isDirty=Y.defaultValue?L(U,hr(Se(a,U))):L()),Y.keepError||($t(n.errors,U),y.isValid&&D()),_.state.next({...n}))},xt=(U,Y={})=>{const ee=U?hr(U):a,pe=hr(ee),he=Mn(U),ce=he?a:pe;if(Y.keepDefaultValues||(a=ee),!Y.keepValues){if(Y.keepDirtyValues){const _e=new Set([...d.mount,...Object.keys(ju(a,l))]);for(const Be of Array.from(_e))Se(n.dirtyFields,Be)?vt(ce,Be,Se(l,Be)):Ee(Be,Se(ce,Be))}else{if(zv&&Bt(U))for(const _e of d.mount){const Be=Se(i,_e);if(Be&&Be._f){const Ge=Array.isArray(Be._f.refs)?Be._f.refs[0]:Be._f.ref;if(fh(Ge)){const Ke=Ge.closest("form");if(Ke){Ke.reset();break}}}}i={}}l=e.shouldUnregister?Y.keepDefaultValues?hr(a):{}:hr(ce),_.array.next({values:{...ce}}),_.values.next({values:{...ce}})}d={mount:Y.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!y.isValid||!!Y.keepIsValid||!!Y.keepDirtyValues,c.watch=!!e.shouldUnregister,_.state.next({submitCount:Y.keepSubmitCount?n.submitCount:0,isDirty:he?!1:Y.keepDirty?n.isDirty:!!(Y.keepDefaultValues&&!zs(U,a)),isSubmitted:Y.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:he?{}:Y.keepDirtyValues?Y.keepDefaultValues&&l?ju(a,l):n.dirtyFields:Y.keepDefaultValues&&U?ju(a,U):Y.keepDirty?n.dirtyFields:{},touchedFields:Y.keepTouched?n.touchedFields:{},errors:Y.keepErrors?n.errors:{},isSubmitSuccessful:Y.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},br=(U,Y)=>xt(ti(U)?U(l):U,Y);return{control:{register:qe,unregister:xe,getFieldState:be,handleSubmit:zt,setError:ge,_executeSchema:I,_getWatch:O,_getDirty:L,_updateValid:D,_removeUnmounted:V,_updateFieldArray:F,_updateDisabledField:mt,_getFieldArray:Ue,_reset:xt,_resetDefaultValues:()=>ti(e.defaultValues)&&e.defaultValues().then(U=>{br(U,e.resetOptions),_.state.next({isLoading:!1})}),_updateFormState:U=>{n={...n,...U}},_disableForm:Xe,_subjects:_,_proxyFormState:y,_setErrors:Z,get _fields(){return i},get _formValues(){return l},get _state(){return c},set _state(U){c=U},get _defaultValues(){return a},get _names(){return d},set _names(U){d=U},get _formState(){return n},set _formState(U){n=U},get _options(){return e},set _options(U){e={...e,...U}}},trigger:B,register:qe,handleSubmit:zt,watch:Me,setValue:Ee,getValues:oe,reset:br,resetField:_t,clearErrors:me,unregister:xe,setError:ge,setFocus:(U,Y={})=>{const ee=Se(i,U),pe=ee&&ee._f;if(pe){const he=pe.refs?pe.refs[0]:pe.ref;he.focus&&(he.focus(),Y.shouldSelect&&ti(he.select)&&he.select())}},getFieldState:be}}function f6(t={}){const e=je.useRef(void 0),n=je.useRef(void 0),[i,a]=je.useState({isDirty:!1,isValidating:!1,isLoading:ti(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:ti(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...c6(t),formState:i});const l=e.current.control;return l._options=t,XV({subject:l._subjects.state,next:c=>{QV(c,l._proxyFormState,l._updateFormState)&&a({...l._formState})}}),je.useEffect(()=>l._disableForm(t.disabled),[l,t.disabled]),je.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==i.isDirty&&l._subjects.state.next({isDirty:c})}},[l,i.isDirty]),je.useEffect(()=>{t.values&&!zs(t.values,n.current)?(l._reset(t.values,l._options.resetOptions),n.current=t.values,a(c=>({...c}))):l._resetDefaultValues()},[t.values,l]),je.useEffect(()=>{t.errors&&l._setErrors(t.errors)},[t.errors,l]),je.useEffect(()=>{l._state.mount||(l._updateValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),je.useEffect(()=>{t.shouldUnregister&&l._subjects.values.next({values:l._getWatch()})},[t.shouldUnregister,l]),e.current.formState=YV(i,l),e.current}const d6="_form_12wkv_1",h6="_formHeader_12wkv_11",p6="_formContent_12wkv_18",Rg={form:d6,formHeader:h6,formContent:p6},m6=({title:t,onSubmit:e,children:n})=>G.jsxs("form",{autoComplete:"off",onSubmit:e,className:Rg.form,children:[G.jsx("div",{className:Rg.formHeader,children:G.jsx("h1",{children:t})}),G.jsx("div",{className:Rg.formContent,children:n})]}),g6="_inputs_ohmz4_1",y6="_buttons_ohmz4_9",kT={inputs:g6,buttons:y6},Hu={login:{title:"",buttonText:"",text:" ?",link:"/register",linkText:""},register:{title:"",buttonText:"",text:"  ?",link:"/login",linkText:""}},M1=({onSubmit:t,type:e})=>{var l,c;const{register:n,handleSubmit:i,formState:{errors:a}}=f6();return G.jsxs(m6,{title:Hu[e].title,onSubmit:i(t),children:[G.jsxs("div",{className:kT.inputs,children:[G.jsx(Yg,{id:"email",label:"Email:",type:"email",placeholder:" Email",error:(l=a.email)==null?void 0:l.message,registerProps:n("email",{required:"Email ",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"  email"}})}),G.jsx(Yg,{id:"password",label:":",type:"password",placeholder:" ",error:(c=a.password)==null?void 0:c.message,registerProps:n("password",{required:" ",minLength:{value:6,message:"    6 "}})})]}),G.jsxs("div",{className:kT.buttons,children:[G.jsx("button",{className:"mainButton",type:"submit",children:G.jsx("h2",{children:Hu[e].buttonText})}),G.jsxs("p",{className:"text-body",style:{whiteSpace:"nowrap"},children:[Hu[e].text," ",G.jsx(Ah,{to:Hu[e].link,children:Hu[e].linkText})]})]})]})},v6=async(t,e)=>{const n=iv();return(await HP(n,t,e)).user},_6=async(t,e)=>{const n=iv();return(await qP(n,t,e)).user},E6="_authPage_u8f38_1",b6="_error_u8f38_9",VT={authPage:E6,error:b6},T6=()=>{const t=Nc(),e=Vn(),{isLoading:n,error:i}=Tn(l=>l.auth),a=async({email:l,password:c})=>{e(Uv());try{const d=await _6(l,c);e(w1({email:d.email,id:d.uid,token:await d.getIdToken()})),t("/board")}catch(d){e(RV(d.message))}};return G.jsxs("div",{className:VT.authPage,children:[n?G.jsx(Bv,{}):G.jsx(M1,{onSubmit:a,type:"login"}),i&&G.jsxs("p",{className:VT.error,children:[": ",i]})]})};var S6="Invariant failed";function w6(t,e){throw new Error(S6)}var Nr=function(e){var n=e.top,i=e.right,a=e.bottom,l=e.left,c=i-l,d=a-n,p={top:n,right:i,bottom:a,left:l,width:c,height:d,x:l,y:n,center:{x:(i+l)/2,y:(a+n)/2}};return p},qv=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},LT=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},A6=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},Cg={top:0,right:0,bottom:0,left:0},Gv=function(e){var n=e.borderBox,i=e.margin,a=i===void 0?Cg:i,l=e.border,c=l===void 0?Cg:l,d=e.padding,p=d===void 0?Cg:d,m=Nr(qv(n,a)),y=Nr(LT(n,c)),_=Nr(LT(y,p));return{marginBox:m,borderBox:Nr(n),paddingBox:y,contentBox:_,margin:a,border:c,padding:p}},dr=function(e){var n=e.slice(0,-2),i=e.slice(-2);if(i!=="px")return 0;var a=Number(n);return isNaN(a)&&w6(),a},R6=function(){return{x:window.pageXOffset,y:window.pageYOffset}},ph=function(e,n){var i=e.borderBox,a=e.border,l=e.margin,c=e.padding,d=A6(i,n);return Gv({borderBox:d,border:a,margin:l,padding:c})},mh=function(e,n){return n===void 0&&(n=R6()),ph(e,n)},k1=function(e,n){var i={top:dr(n.marginTop),right:dr(n.marginRight),bottom:dr(n.marginBottom),left:dr(n.marginLeft)},a={top:dr(n.paddingTop),right:dr(n.paddingRight),bottom:dr(n.paddingBottom),left:dr(n.paddingLeft)},l={top:dr(n.borderTopWidth),right:dr(n.borderRightWidth),bottom:dr(n.borderBottomWidth),left:dr(n.borderLeftWidth)};return Gv({borderBox:e,margin:i,padding:a,border:l})},V1=function(e){var n=e.getBoundingClientRect(),i=window.getComputedStyle(e);return k1(n,i)},Sc=function(e){var n=[],i=null,a=function(){for(var c=arguments.length,d=new Array(c),p=0;p<c;p++)d[p]=arguments[p];n=d,!i&&(i=requestAnimationFrame(function(){i=null,e.apply(void 0,n)}))};return a.cancel=function(){i&&(cancelAnimationFrame(i),i=null)},a};function gh(){return gh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},gh.apply(null,arguments)}function L1(t,e){}L1.bind(null,"warn");L1.bind(null,"error");function Ks(){}function C6(t,e){return{...t,...e}}function gr(t,e,n){const i=e.map(a=>{const l=C6(n,a.options);return t.addEventListener(a.eventName,a.fn,l),function(){t.removeEventListener(a.eventName,a.fn,l)}});return function(){i.forEach(l=>{l()})}}const I6="Invariant failed";class yh extends Error{}yh.prototype.toString=function(){return this.message};function de(t,e){throw new yh(I6)}class D6 extends je.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=Ks,this.onWindowError=n=>{const i=this.getCallbacks();i.isDragging()&&i.tryAbort(),n.error instanceof yh&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=gr(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof yh){this.setState({});return}throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const x6=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,vh=t=>t+1,O6=t=>`
  You have lifted an item in position ${vh(t.source.index)}
`,U1=(t,e)=>{const n=t.droppableId===e.droppableId,i=vh(t.index),a=vh(e.index);return n?`
      You have moved the item from position ${i}
      to position ${a}
    `:`
    You have moved the item from position ${i}
    in list ${t.droppableId}
    to list ${e.droppableId}
    in position ${a}
  `},B1=(t,e,n)=>e.droppableId===n.droppableId?`
      The item ${t}
      has been combined with ${n.draggableId}`:`
      The item ${t}
      in list ${e.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,N6=t=>{const e=t.destination;if(e)return U1(t.source,e);const n=t.combine;return n?B1(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},UT=t=>`
  The item has returned to its starting position
  of ${vh(t.index)}
`,P6=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${UT(t.source)}
    `;const e=t.destination,n=t.combine;return e?`
      You have dropped the item.
      ${U1(t.source,e)}
    `:n?`
      You have dropped the item.
      ${B1(t.draggableId,t.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${UT(t.source)}
  `},Ld={dragHandleUsageInstructions:x6,onDragStart:O6,onDragUpdate:N6,onDragEnd:P6};function M6(t,e){return!!(t===e||Number.isNaN(t)&&Number.isNaN(e))}function z1(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!M6(t[n],e[n]))return!1;return!0}function it(t,e){const n=k.useState(()=>({inputs:e,result:t()}))[0],i=k.useRef(!0),a=k.useRef(n),c=i.current||!!(e&&a.current.inputs&&z1(e,a.current.inputs))?a.current:{inputs:e,result:t()};return k.useEffect(()=>{i.current=!1,a.current=c},[c]),c.result}function Ae(t,e){return it(()=>t,e)}const ln={x:0,y:0},mn=(t,e)=>({x:t.x+e.x,y:t.y+e.y}),Gn=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),Ws=(t,e)=>t.x===e.x&&t.y===e.y,Dl=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),Ja=(t,e,n=0)=>t==="x"?{x:e,y:n}:{x:n,y:e},wc=(t,e)=>Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2),BT=(t,e)=>Math.min(...e.map(n=>wc(t,n))),j1=t=>e=>({x:t(e.x),y:t(e.y)});var k6=(t,e)=>{const n=Nr({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n};const Gc=(t,e)=>({top:t.top+e.y,left:t.left+e.x,bottom:t.bottom+e.y,right:t.right+e.x}),zT=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],V6={top:0,right:0,bottom:0,left:0},L6=(t,e)=>e?Gc(t,e.scroll.diff.displacement):t,U6=(t,e,n)=>n&&n.increasedBy?{...t,[e.end]:t[e.end]+n.increasedBy[e.line]}:t,B6=(t,e)=>e&&e.shouldClipSubject?k6(e.pageMarginBox,t):Nr(t);var vl=({page:t,withPlaceholder:e,axis:n,frame:i})=>{const a=L6(t.marginBox,i),l=U6(a,n,e),c=B6(l,i);return{page:t,withPlaceholder:e,active:c}},$v=(t,e)=>{t.frame||de();const n=t.frame,i=Gn(e,n.scroll.initial),a=Dl(i),l={...n,scroll:{initial:n.scroll.initial,current:e,diff:{value:i,displacement:a},max:n.scroll.max}},c=vl({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:l});return{...t,frame:l,subject:c}};function on(t,e=z1){let n=null;function i(...a){if(n&&n.lastThis===this&&e(a,n.lastArgs))return n.lastResult;const l=t.apply(this,a);return n={lastResult:l,lastArgs:a,lastThis:this},l}return i.clear=function(){n=null},i}const F1=on(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),H1=on(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),Kh=on(t=>Object.values(t)),z6=on(t=>Object.values(t));var xl=on((t,e)=>z6(e).filter(i=>t===i.descriptor.droppableId).sort((i,a)=>i.descriptor.index-a.descriptor.index));function Kv(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function Wh(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var Yh=on((t,e)=>e.filter(n=>n.descriptor.id!==t.descriptor.id)),j6=({isMovingForward:t,draggable:e,destination:n,insideDestination:i,previousImpact:a})=>{if(!n.isCombineEnabled||!Kv(a))return null;function c(S){const R={type:"COMBINE",combine:{draggableId:S,droppableId:n.descriptor.id}};return{...a,at:R}}const d=a.displaced.all,p=d.length?d[0]:null;if(t)return p?c(p):null;const m=Yh(e,i);if(!p){if(!m.length)return null;const S=m[m.length-1];return c(S.descriptor.id)}const y=m.findIndex(S=>S.descriptor.id===p);y===-1&&de();const _=y-1;if(_<0)return null;const E=m[_];return c(E.descriptor.id)},Ol=(t,e)=>t.descriptor.droppableId===e.descriptor.id;const q1={point:ln,value:0},Ac={invisible:{},visible:{},all:[]},F6={displaced:Ac,displacedBy:q1,at:null};var vr=(t,e)=>n=>t<=n&&n<=e,G1=t=>{const e=vr(t.top,t.bottom),n=vr(t.left,t.right);return i=>{if(e(i.top)&&e(i.bottom)&&n(i.left)&&n(i.right))return!0;const l=e(i.top)||e(i.bottom),c=n(i.left)||n(i.right);if(l&&c)return!0;const p=i.top<t.top&&i.bottom>t.bottom,m=i.left<t.left&&i.right>t.right;return p&&m?!0:p&&c||m&&l}},H6=t=>{const e=vr(t.top,t.bottom),n=vr(t.left,t.right);return i=>e(i.top)&&e(i.bottom)&&n(i.left)&&n(i.right)};const Wv={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},$1={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var q6=t=>e=>{const n=vr(e.top,e.bottom),i=vr(e.left,e.right);return a=>t===Wv?n(a.top)&&n(a.bottom):i(a.left)&&i(a.right)};const G6=(t,e)=>{const n=e.frame?e.frame.scroll.diff.displacement:ln;return Gc(t,n)},$6=(t,e,n)=>e.subject.active?n(e.subject.active)(t):!1,K6=(t,e,n)=>n(e)(t),Yv=({target:t,destination:e,viewport:n,withDroppableDisplacement:i,isVisibleThroughFrameFn:a})=>{const l=i?G6(t,e):t;return $6(l,e,a)&&K6(l,n,a)},W6=t=>Yv({...t,isVisibleThroughFrameFn:G1}),K1=t=>Yv({...t,isVisibleThroughFrameFn:H6}),Y6=t=>Yv({...t,isVisibleThroughFrameFn:q6(t.destination.axis)}),Q6=(t,e,n)=>{if(typeof n=="boolean")return n;if(!e)return!0;const{invisible:i,visible:a}=e;if(i[t])return!1;const l=a[t];return l?l.shouldAnimate:!0};function X6(t,e){const n=t.page.marginBox,i={top:e.point.y,right:0,bottom:0,left:e.point.x};return Nr(qv(n,i))}function Rc({afterDragging:t,destination:e,displacedBy:n,viewport:i,forceShouldAnimate:a,last:l}){return t.reduce(function(d,p){const m=X6(p,n),y=p.descriptor.id;if(d.all.push(y),!W6({target:m,destination:e,viewport:i,withDroppableDisplacement:!0}))return d.invisible[p.descriptor.id]=!0,d;const E=Q6(y,l,a),S={draggableId:y,shouldAnimate:E};return d.visible[y]=S,d},{all:[],visible:{},invisible:{}})}function Z6(t,e){if(!t.length)return 0;const n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function jT({insideDestination:t,inHomeList:e,displacedBy:n,destination:i}){const a=Z6(t,{inHomeList:e});return{displaced:Ac,displacedBy:n,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:a}}}}function _h({draggable:t,insideDestination:e,destination:n,viewport:i,displacedBy:a,last:l,index:c,forceShouldAnimate:d}){const p=Ol(t,n);if(c==null)return jT({insideDestination:e,inHomeList:p,displacedBy:a,destination:n});const m=e.find(R=>R.descriptor.index===c);if(!m)return jT({insideDestination:e,inHomeList:p,displacedBy:a,destination:n});const y=Yh(t,e),_=e.indexOf(m),E=y.slice(_);return{displaced:Rc({afterDragging:E,destination:n,displacedBy:a,last:l,viewport:i.frame,forceShouldAnimate:d}),displacedBy:a,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:c}}}}function ta(t,e){return!!e.effected[t]}var J6=({isMovingForward:t,destination:e,draggables:n,combine:i,afterCritical:a})=>{if(!e.isCombineEnabled)return null;const l=i.draggableId,d=n[l].descriptor.index;return ta(l,a)?t?d:d-1:t?d+1:d},eL=({isMovingForward:t,isInHomeList:e,insideDestination:n,location:i})=>{if(!n.length)return null;const a=i.index,l=t?a+1:a-1,c=n[0].descriptor.index,d=n[n.length-1].descriptor.index,p=e?d:d+1;return l<c||l>p?null:l},tL=({isMovingForward:t,isInHomeList:e,draggable:n,draggables:i,destination:a,insideDestination:l,previousImpact:c,viewport:d,afterCritical:p})=>{const m=c.at;if(m||de(),m.type==="REORDER"){const _=eL({isMovingForward:t,isInHomeList:e,location:m.destination,insideDestination:l});return _==null?null:_h({draggable:n,insideDestination:l,destination:a,viewport:d,last:c.displaced,displacedBy:c.displacedBy,index:_})}const y=J6({isMovingForward:t,destination:a,displaced:c.displaced,draggables:i,combine:m.combine,afterCritical:p});return y==null?null:_h({draggable:n,insideDestination:l,destination:a,viewport:d,last:c.displaced,displacedBy:c.displacedBy,index:y})},nL=({displaced:t,afterCritical:e,combineWith:n,displacedBy:i})=>{const a=!!(t.visible[n]||t.invisible[n]);return ta(n,e)?a?ln:Dl(i.point):a?i.point:ln},rL=({afterCritical:t,impact:e,draggables:n})=>{const i=Wh(e);i||de();const a=i.draggableId,l=n[a].page.borderBox.center,c=nL({displaced:e.displaced,afterCritical:t,combineWith:a,displacedBy:e.displacedBy});return mn(l,c)};const W1=(t,e)=>e.margin[t.start]+e.borderBox[t.size]/2,iL=(t,e)=>e.margin[t.end]+e.borderBox[t.size]/2,Qv=(t,e,n)=>e[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2,FT=({axis:t,moveRelativeTo:e,isMoving:n})=>Ja(t.line,e.marginBox[t.end]+W1(t,n),Qv(t,e.marginBox,n)),HT=({axis:t,moveRelativeTo:e,isMoving:n})=>Ja(t.line,e.marginBox[t.start]-iL(t,n),Qv(t,e.marginBox,n)),sL=({axis:t,moveInto:e,isMoving:n})=>Ja(t.line,e.contentBox[t.start]+W1(t,n),Qv(t,e.contentBox,n));var aL=({impact:t,draggable:e,draggables:n,droppable:i,afterCritical:a})=>{const l=xl(i.descriptor.id,n),c=e.page,d=i.axis;if(!l.length)return sL({axis:d,moveInto:i.page,isMoving:c});const{displaced:p,displacedBy:m}=t,y=p.all[0];if(y){const E=n[y];if(ta(y,a))return HT({axis:d,moveRelativeTo:E.page,isMoving:c});const S=ph(E.page,m.point);return HT({axis:d,moveRelativeTo:S,isMoving:c})}const _=l[l.length-1];if(_.descriptor.id===e.descriptor.id)return c.borderBox.center;if(ta(_.descriptor.id,a)){const E=ph(_.page,Dl(a.displacedBy.point));return FT({axis:d,moveRelativeTo:E,isMoving:c})}return FT({axis:d,moveRelativeTo:_.page,isMoving:c})},by=(t,e)=>{const n=t.frame;return n?mn(e,n.scroll.diff.displacement):e};const oL=({impact:t,draggable:e,droppable:n,draggables:i,afterCritical:a})=>{const l=e.page.borderBox.center,c=t.at;return!n||!c?l:c.type==="REORDER"?aL({impact:t,draggable:e,draggables:i,droppable:n,afterCritical:a}):rL({impact:t,draggables:i,afterCritical:a})};var Qh=t=>{const e=oL(t),n=t.droppable;return n?by(n,e):e},Y1=(t,e)=>{const n=Gn(e,t.scroll.initial),i=Dl(n);return{frame:Nr({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:i}}}};function qT(t,e){return t.map(n=>e[n])}function lL(t,e){for(let n=0;n<e.length;n++){const i=e[n].visible[t];if(i)return i}return null}var uL=({impact:t,viewport:e,destination:n,draggables:i,maxScrollChange:a})=>{const l=Y1(e,mn(e.scroll.current,a)),c=n.frame?$v(n,mn(n.frame.scroll.current,a)):n,d=t.displaced,p=Rc({afterDragging:qT(d.all,i),destination:n,displacedBy:t.displacedBy,viewport:l.frame,last:d,forceShouldAnimate:!1}),m=Rc({afterDragging:qT(d.all,i),destination:c,displacedBy:t.displacedBy,viewport:e.frame,last:d,forceShouldAnimate:!1}),y={},_={},E=[d,p,m];return d.all.forEach(R=>{const M=lL(R,E);if(M){_[R]=M;return}y[R]=!0}),{...t,displaced:{all:d.all,invisible:y,visible:_}}},cL=(t,e)=>mn(t.scroll.diff.displacement,e),Xv=({pageBorderBoxCenter:t,draggable:e,viewport:n})=>{const i=cL(n,t),a=Gn(i,e.page.borderBox.center);return mn(e.client.borderBox.center,a)},Q1=({draggable:t,destination:e,newPageBorderBoxCenter:n,viewport:i,withDroppableDisplacement:a,onlyOnMainAxis:l=!1})=>{const c=Gn(n,t.page.borderBox.center),p={target:Gc(t.page.borderBox,c),destination:e,withDroppableDisplacement:a,viewport:i};return l?Y6(p):K1(p)},fL=({isMovingForward:t,draggable:e,destination:n,draggables:i,previousImpact:a,viewport:l,previousPageBorderBoxCenter:c,previousClientSelection:d,afterCritical:p})=>{if(!n.isEnabled)return null;const m=xl(n.descriptor.id,i),y=Ol(e,n),_=j6({isMovingForward:t,draggable:e,destination:n,insideDestination:m,previousImpact:a})||tL({isMovingForward:t,isInHomeList:y,draggable:e,draggables:i,destination:n,insideDestination:m,previousImpact:a,viewport:l,afterCritical:p});if(!_)return null;const E=Qh({impact:_,draggable:e,droppable:n,draggables:i,afterCritical:p});if(Q1({draggable:e,destination:n,newPageBorderBoxCenter:E,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Xv({pageBorderBoxCenter:E,draggable:e,viewport:l}),impact:_,scrollJumpRequest:null};const R=Gn(E,c),M=uL({impact:_,viewport:l,destination:n,draggables:i,maxScrollChange:R});return{clientSelection:d,impact:M,scrollJumpRequest:R}};const Dn=t=>{const e=t.subject.active;return e||de(),e};var dL=({isMovingForward:t,pageBorderBoxCenter:e,source:n,droppables:i,viewport:a})=>{const l=n.subject.active;if(!l)return null;const c=n.axis,d=vr(l[c.start],l[c.end]),p=Kh(i).filter(y=>y!==n).filter(y=>y.isEnabled).filter(y=>!!y.subject.active).filter(y=>G1(a.frame)(Dn(y))).filter(y=>{const _=Dn(y);return t?l[c.crossAxisEnd]<_[c.crossAxisEnd]:_[c.crossAxisStart]<l[c.crossAxisStart]}).filter(y=>{const _=Dn(y),E=vr(_[c.start],_[c.end]);return d(_[c.start])||d(_[c.end])||E(l[c.start])||E(l[c.end])}).sort((y,_)=>{const E=Dn(y)[c.crossAxisStart],S=Dn(_)[c.crossAxisStart];return t?E-S:S-E}).filter((y,_,E)=>Dn(y)[c.crossAxisStart]===Dn(E[0])[c.crossAxisStart]);if(!p.length)return null;if(p.length===1)return p[0];const m=p.filter(y=>vr(Dn(y)[c.start],Dn(y)[c.end])(e[c.line]));return m.length===1?m[0]:m.length>1?m.sort((y,_)=>Dn(y)[c.start]-Dn(_)[c.start])[0]:p.sort((y,_)=>{const E=BT(e,zT(Dn(y))),S=BT(e,zT(Dn(_)));return E!==S?E-S:Dn(y)[c.start]-Dn(_)[c.start]})[0]};const GT=(t,e)=>{const n=t.page.borderBox.center;return ta(t.descriptor.id,e)?Gn(n,e.displacedBy.point):n},hL=(t,e)=>{const n=t.page.borderBox;return ta(t.descriptor.id,e)?Gc(n,Dl(e.displacedBy.point)):n};var pL=({pageBorderBoxCenter:t,viewport:e,destination:n,insideDestination:i,afterCritical:a})=>i.filter(c=>K1({target:hL(c,a),destination:n,viewport:e.frame,withDroppableDisplacement:!0})).sort((c,d)=>{const p=wc(t,by(n,GT(c,a))),m=wc(t,by(n,GT(d,a)));return p<m?-1:m<p?1:c.descriptor.index-d.descriptor.index})[0]||null,$c=on(function(e,n){const i=n[e.line];return{value:i,point:Ja(e.line,i)}});const mL=(t,e,n)=>{const i=t.axis;if(t.descriptor.mode==="virtual")return Ja(i.line,e[i.line]);const a=t.subject.page.contentBox[i.size],p=xl(t.descriptor.id,n).reduce((m,y)=>m+y.client.marginBox[i.size],0)+e[i.line]-a;return p<=0?null:Ja(i.line,p)},X1=(t,e)=>({...t,scroll:{...t.scroll,max:e}}),Z1=(t,e,n)=>{const i=t.frame;Ol(e,t)&&de(),t.subject.withPlaceholder&&de();const a=$c(t.axis,e.displaceBy).point,l=mL(t,a,n),c={placeholderSize:a,increasedBy:l,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!i){const y=vl({page:t.subject.page,withPlaceholder:c,axis:t.axis,frame:t.frame});return{...t,subject:y}}const d=l?mn(i.scroll.max,l):i.scroll.max,p=X1(i,d),m=vl({page:t.subject.page,withPlaceholder:c,axis:t.axis,frame:p});return{...t,subject:m,frame:p}},gL=t=>{const e=t.subject.withPlaceholder;e||de();const n=t.frame;if(!n){const c=vl({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:c}}const i=e.oldFrameMaxScroll;i||de();const a=X1(n,i),l=vl({page:t.subject.page,axis:t.axis,frame:a,withPlaceholder:null});return{...t,subject:l,frame:a}};var yL=({previousPageBorderBoxCenter:t,moveRelativeTo:e,insideDestination:n,draggable:i,draggables:a,destination:l,viewport:c,afterCritical:d})=>{if(!e){if(n.length)return null;const _={displaced:Ac,displacedBy:q1,at:{type:"REORDER",destination:{droppableId:l.descriptor.id,index:0}}},E=Qh({impact:_,draggable:i,droppable:l,draggables:a,afterCritical:d}),S=Ol(i,l)?l:Z1(l,i,a);return Q1({draggable:i,destination:S,newPageBorderBoxCenter:E,viewport:c.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?_:null}const p=t[l.axis.line]<=e.page.borderBox.center[l.axis.line],m=(()=>{const _=e.descriptor.index;return e.descriptor.id===i.descriptor.id||p?_:_+1})(),y=$c(l.axis,i.displaceBy);return _h({draggable:i,insideDestination:n,destination:l,viewport:c,displacedBy:y,last:Ac,index:m})},vL=({isMovingForward:t,previousPageBorderBoxCenter:e,draggable:n,isOver:i,draggables:a,droppables:l,viewport:c,afterCritical:d})=>{const p=dL({isMovingForward:t,pageBorderBoxCenter:e,source:i,droppables:l,viewport:c});if(!p)return null;const m=xl(p.descriptor.id,a),y=pL({pageBorderBoxCenter:e,viewport:c,destination:p,insideDestination:m,afterCritical:d}),_=yL({previousPageBorderBoxCenter:e,destination:p,draggable:n,draggables:a,moveRelativeTo:y,insideDestination:m,viewport:c,afterCritical:d});if(!_)return null;const E=Qh({impact:_,draggable:n,droppable:p,draggables:a,afterCritical:d});return{clientSelection:Xv({pageBorderBoxCenter:E,draggable:n,viewport:c}),impact:_,scrollJumpRequest:null}},$n=t=>{const e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null};const _L=(t,e)=>{const n=$n(t);return n?e[n]:null};var EL=({state:t,type:e})=>{const n=_L(t.impact,t.dimensions.droppables),i=!!n,a=t.dimensions.droppables[t.critical.droppable.id],l=n||a,c=l.axis.direction,d=c==="vertical"&&(e==="MOVE_UP"||e==="MOVE_DOWN")||c==="horizontal"&&(e==="MOVE_LEFT"||e==="MOVE_RIGHT");if(d&&!i)return null;const p=e==="MOVE_DOWN"||e==="MOVE_RIGHT",m=t.dimensions.draggables[t.critical.draggable.id],y=t.current.page.borderBoxCenter,{draggables:_,droppables:E}=t.dimensions;return d?fL({isMovingForward:p,previousPageBorderBoxCenter:y,draggable:m,destination:l,draggables:_,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):vL({isMovingForward:p,previousPageBorderBoxCenter:y,draggable:m,isOver:l,draggables:_,droppables:E,viewport:t.viewport,afterCritical:t.afterCritical})};function ja(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function J1(t){const e=vr(t.top,t.bottom),n=vr(t.left,t.right);return function(a){return e(a.y)&&n(a.x)}}function bL(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function TL({pageBorderBox:t,draggable:e,candidates:n}){const i=e.page.borderBox.center,a=n.map(l=>{const c=l.axis,d=Ja(l.axis.line,t.center[c.line],l.page.borderBox.center[c.crossAxisLine]);return{id:l.descriptor.id,distance:wc(i,d)}}).sort((l,c)=>c.distance-l.distance);return a[0]?a[0].id:null}function SL({pageBorderBox:t,draggable:e,droppables:n}){const i=Kh(n).filter(a=>{if(!a.isEnabled)return!1;const l=a.subject.active;if(!l||!bL(t,l))return!1;if(J1(l)(t.center))return!0;const c=a.axis,d=l.center[c.crossAxisLine],p=t[c.crossAxisStart],m=t[c.crossAxisEnd],y=vr(l[c.crossAxisStart],l[c.crossAxisEnd]),_=y(p),E=y(m);return!_&&!E?!0:_?p<d:m>d});return i.length?i.length===1?i[0].descriptor.id:TL({pageBorderBox:t,draggable:e,candidates:i}):null}const eR=(t,e)=>Nr(Gc(t,e));var wL=(t,e)=>{const n=t.frame;return n?eR(e,n.scroll.diff.value):e};function tR({displaced:t,id:e}){return!!(t.visible[e]||t.invisible[e])}function AL({draggable:t,closest:e,inHomeList:n}){return e?n&&e.descriptor.index>t.descriptor.index?e.descriptor.index-1:e.descriptor.index:null}var RL=({pageBorderBoxWithDroppableScroll:t,draggable:e,destination:n,insideDestination:i,last:a,viewport:l,afterCritical:c})=>{const d=n.axis,p=$c(n.axis,e.displaceBy),m=p.value,y=t[d.start],_=t[d.end],S=Yh(e,i).find(M=>{const D=M.descriptor.id,z=M.page.borderBox.center[d.line],F=ta(D,c),q=tR({displaced:a,id:D});return F?q?_<=z:y<z-m:q?_<=z+m:y<z})||null,R=AL({draggable:e,closest:S,inHomeList:Ol(e,n)});return _h({draggable:e,insideDestination:i,destination:n,viewport:l,last:a,displacedBy:p,index:R})};const CL=4;var IL=({draggable:t,pageBorderBoxWithDroppableScroll:e,previousImpact:n,destination:i,insideDestination:a,afterCritical:l})=>{if(!i.isCombineEnabled)return null;const c=i.axis,d=$c(i.axis,t.displaceBy),p=d.value,m=e[c.start],y=e[c.end],E=Yh(t,a).find(R=>{const M=R.descriptor.id,D=R.page.borderBox,F=D[c.size]/CL,q=ta(M,l),Z=tR({displaced:n.displaced,id:M});return q?Z?y>D[c.start]+F&&y<D[c.end]-F:m>D[c.start]-p+F&&m<D[c.end]-p-F:Z?y>D[c.start]+p+F&&y<D[c.end]+p-F:m>D[c.start]+F&&m<D[c.end]-F});return E?{displacedBy:d,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:E.descriptor.id,droppableId:i.descriptor.id}}}:null},nR=({pageOffset:t,draggable:e,draggables:n,droppables:i,previousImpact:a,viewport:l,afterCritical:c})=>{const d=eR(e.page.borderBox,t),p=SL({pageBorderBox:d,draggable:e,droppables:i});if(!p)return F6;const m=i[p],y=xl(m.descriptor.id,n),_=wL(m,d);return IL({pageBorderBoxWithDroppableScroll:_,draggable:e,previousImpact:a,destination:m,insideDestination:y,afterCritical:c})||RL({pageBorderBoxWithDroppableScroll:_,draggable:e,destination:m,insideDestination:y,last:a.displaced,viewport:l,afterCritical:c})},Zv=(t,e)=>({...t,[e.descriptor.id]:e});const DL=({previousImpact:t,impact:e,droppables:n})=>{const i=$n(t),a=$n(e);if(!i||i===a)return n;const l=n[i];if(!l.subject.withPlaceholder)return n;const c=gL(l);return Zv(n,c)};var xL=({draggable:t,draggables:e,droppables:n,previousImpact:i,impact:a})=>{const l=DL({previousImpact:i,impact:a,droppables:n}),c=$n(a);if(!c)return l;const d=n[c];if(Ol(t,d)||d.subject.withPlaceholder)return l;const p=Z1(d,t,e);return Zv(l,p)},ac=({state:t,clientSelection:e,dimensions:n,viewport:i,impact:a,scrollJumpRequest:l})=>{const c=i||t.viewport,d=n||t.dimensions,p=e||t.current.client.selection,m=Gn(p,t.initial.client.selection),y={offset:m,selection:p,borderBoxCenter:mn(t.initial.client.borderBoxCenter,m)},_={selection:mn(y.selection,c.scroll.current),borderBoxCenter:mn(y.borderBoxCenter,c.scroll.current),offset:mn(y.offset,c.scroll.diff.value)},E={client:y,page:_};if(t.phase==="COLLECTING")return{...t,dimensions:d,viewport:c,current:E};const S=d.draggables[t.critical.draggable.id],R=a||nR({pageOffset:_.offset,draggable:S,draggables:d.draggables,droppables:d.droppables,previousImpact:t.impact,viewport:c,afterCritical:t.afterCritical}),M=xL({draggable:S,impact:R,previousImpact:t.impact,draggables:d.draggables,droppables:d.droppables});return{...t,current:E,dimensions:{draggables:d.draggables,droppables:M},impact:R,viewport:c,scrollJumpRequest:l||null,forceShouldAnimate:l?!1:null}};function OL(t,e){return t.map(n=>e[n])}var rR=({impact:t,viewport:e,draggables:n,destination:i,forceShouldAnimate:a})=>{const l=t.displaced,c=OL(l.all,n),d=Rc({afterDragging:c,destination:i,displacedBy:t.displacedBy,viewport:e.frame,forceShouldAnimate:a,last:l});return{...t,displaced:d}},iR=({impact:t,draggable:e,droppable:n,draggables:i,viewport:a,afterCritical:l})=>{const c=Qh({impact:t,draggable:e,draggables:i,droppable:n,afterCritical:l});return Xv({pageBorderBoxCenter:c,draggable:e,viewport:a})},sR=({state:t,dimensions:e,viewport:n})=>{t.movementMode!=="SNAP"&&de();const i=t.impact,a=n||t.viewport,l=e||t.dimensions,{draggables:c,droppables:d}=l,p=c[t.critical.draggable.id],m=$n(i);m||de();const y=d[m],_=rR({impact:i,viewport:a,destination:y,draggables:c}),E=iR({impact:_,draggable:p,droppable:y,draggables:c,viewport:a,afterCritical:t.afterCritical});return ac({impact:_,clientSelection:E,state:t,dimensions:l,viewport:a})},NL=t=>({index:t.index,droppableId:t.droppableId}),aR=({draggable:t,home:e,draggables:n,viewport:i})=>{const a=$c(e.axis,t.displaceBy),l=xl(e.descriptor.id,n),c=l.indexOf(t);c===-1&&de();const d=l.slice(c+1),p=d.reduce((E,S)=>(E[S.descriptor.id]=!0,E),{}),m={inVirtualList:e.descriptor.mode==="virtual",displacedBy:a,effected:p};return{impact:{displaced:Rc({afterDragging:d,destination:e,displacedBy:a,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:a,at:{type:"REORDER",destination:NL(t.descriptor)}},afterCritical:m}},PL=(t,e)=>({draggables:t.draggables,droppables:Zv(t.droppables,e)}),ML=({draggable:t,offset:e,initialWindowScroll:n})=>{const i=ph(t.client,e),a=mh(i,n);return{...t,placeholder:{...t.placeholder,client:i},client:i,page:a}},kL=t=>{const e=t.frame;return e||de(),e},VL=({additions:t,updatedDroppables:e,viewport:n})=>{const i=n.scroll.diff.value;return t.map(a=>{const l=a.descriptor.droppableId,c=e[l],p=kL(c).scroll.diff.value,m=mn(i,p);return ML({draggable:a,offset:m,initialWindowScroll:n.scroll.initial})})},LL=({state:t,published:e})=>{const n=e.modified.map(z=>{const F=t.dimensions.droppables[z.droppableId];return $v(F,z.scroll)}),i={...t.dimensions.droppables,...F1(n)},a=H1(VL({additions:e.additions,updatedDroppables:i,viewport:t.viewport})),l={...t.dimensions.draggables,...a};e.removals.forEach(z=>{delete l[z]});const c={droppables:i,draggables:l},d=$n(t.impact),p=d?c.droppables[d]:null,m=c.draggables[t.critical.draggable.id],y=c.droppables[t.critical.droppable.id],{impact:_,afterCritical:E}=aR({draggable:m,home:y,draggables:l,viewport:t.viewport}),S=p&&p.isCombineEnabled?t.impact:_,R=nR({pageOffset:t.current.page.offset,draggable:c.draggables[t.critical.draggable.id],draggables:c.draggables,droppables:c.droppables,previousImpact:S,viewport:t.viewport,afterCritical:E}),M={...t,phase:"DRAGGING",impact:R,onLiftImpact:_,dimensions:c,afterCritical:E,forceShouldAnimate:!1};return t.phase==="COLLECTING"?M:{...M,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const Ty=t=>t.movementMode==="SNAP",Ig=(t,e,n)=>{const i=PL(t.dimensions,e);return!Ty(t)||n?ac({state:t,dimensions:i}):sR({state:t,dimensions:i})};function Dg(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const $T={phase:"IDLE",completed:null,shouldFlush:!1};var UL=(t=$T,e)=>{if(e.type==="FLUSH")return{...$T,shouldFlush:!0};if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&de();const{critical:n,clientSelection:i,viewport:a,dimensions:l,movementMode:c}=e.payload,d=l.draggables[n.draggable.id],p=l.droppables[n.droppable.id],m={selection:i,borderBoxCenter:d.client.borderBox.center,offset:ln},y={client:m,page:{selection:mn(m.selection,a.scroll.initial),borderBoxCenter:mn(m.selection,a.scroll.initial),offset:mn(m.selection,a.scroll.diff.value)}},_=Kh(l.droppables).every(M=>!M.isFixedOnPage),{impact:E,afterCritical:S}=aR({draggable:d,home:p,draggables:l.draggables,viewport:a});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:c,dimensions:l,initial:y,current:y,isWindowScrollAllowed:_,impact:E,afterCritical:S,onLiftImpact:E,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if(e.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&de(),{...t,phase:"COLLECTING"});if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||de(),LL({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;ja(t)||de();const{client:n}=e.payload;return Ws(n,t.current.client.selection)?t:ac({state:t,clientSelection:n,impact:Ty(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return Dg(t);ja(t)||de();const{id:n,newScroll:i}=e.payload,a=t.dimensions.droppables[n];if(!a)return t;const l=$v(a,i);return Ig(t,l,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;ja(t)||de();const{id:n,isEnabled:i}=e.payload,a=t.dimensions.droppables[n];a||de(),a.isEnabled===i&&de();const l={...a,isEnabled:i};return Ig(t,l,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;ja(t)||de();const{id:n,isCombineEnabled:i}=e.payload,a=t.dimensions.droppables[n];a||de(),a.isCombineEnabled===i&&de();const l={...a,isCombineEnabled:i};return Ig(t,l,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;ja(t)||de(),t.isWindowScrollAllowed||de();const n=e.payload.newScroll;if(Ws(t.viewport.scroll.current,n))return Dg(t);const i=Y1(t.viewport,n);return Ty(t)?sR({state:t,viewport:i}):ac({state:t,viewport:i})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ja(t))return t;const n=e.payload.maxScroll;if(Ws(n,t.viewport.scroll.max))return t;const i={...t.viewport,scroll:{...t.viewport.scroll,max:n}};return{...t,viewport:i}}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&de();const n=EL({state:t,type:e.type});return n?ac({state:t,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){const n=e.payload.reason;return t.phase!=="COLLECTING"&&de(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(e.type==="DROP_ANIMATE"){const{completed:n,dropDuration:i,newHomeClientOffset:a}=e.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||de(),{phase:"DROP_ANIMATING",completed:n,dropDuration:i,newHomeClientOffset:a,dimensions:t.dimensions}}if(e.type==="DROP_COMPLETE"){const{completed:n}=e.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return t};function ct(t,e){return t instanceof Object&&"type"in t&&t.type===e}const BL=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),zL=t=>({type:"LIFT",payload:t}),jL=t=>({type:"INITIAL_PUBLISH",payload:t}),FL=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),HL=()=>({type:"COLLECTION_STARTING",payload:null}),qL=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),GL=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),$L=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),oR=t=>({type:"MOVE",payload:t}),KL=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),WL=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),YL=()=>({type:"MOVE_UP",payload:null}),QL=()=>({type:"MOVE_DOWN",payload:null}),XL=()=>({type:"MOVE_RIGHT",payload:null}),ZL=()=>({type:"MOVE_LEFT",payload:null}),Jv=()=>({type:"FLUSH",payload:null}),JL=t=>({type:"DROP_ANIMATE",payload:t}),e0=t=>({type:"DROP_COMPLETE",payload:t}),lR=t=>({type:"DROP",payload:t}),e5=t=>({type:"DROP_PENDING",payload:t}),uR=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var t5=t=>({getState:e,dispatch:n})=>i=>a=>{if(!ct(a,"LIFT")){i(a);return}const{id:l,clientSelection:c,movementMode:d}=a.payload,p=e();p.phase==="DROP_ANIMATING"&&n(e0({completed:p.completed})),e().phase!=="IDLE"&&de(),n(Jv()),n(BL({draggableId:l,movementMode:d}));const y={draggableId:l,scrollOptions:{shouldPublishImmediately:d==="SNAP"}},{critical:_,dimensions:E,viewport:S}=t.startPublishing(y);n(jL({critical:_,dimensions:E,clientSelection:c,movementMode:d,viewport:S}))},n5=t=>()=>e=>n=>{ct(n,"INITIAL_PUBLISH")&&t.dragging(),ct(n,"DROP_ANIMATE")&&t.dropping(n.payload.completed.result.reason),(ct(n,"FLUSH")||ct(n,"DROP_COMPLETE"))&&t.resting(),e(n)};const t0={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Cc={opacity:{drop:0,combining:.7},scale:{drop:.75}},cR={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},La=`${cR.outOfTheWay}s ${t0.outOfTheWay}`,oc={fluid:`opacity ${La}`,snap:`transform ${La}, opacity ${La}`,drop:t=>{const e=`${t}s ${t0.drop}`;return`transform ${e}, opacity ${e}`},outOfTheWay:`transform ${La}`,placeholder:`height ${La}, width ${La}, margin ${La}`},KT=t=>Ws(t,ln)?void 0:`translate(${t.x}px, ${t.y}px)`,Sy={moveTo:KT,drop:(t,e)=>{const n=KT(t);if(n)return e?`${n} scale(${Cc.scale.drop})`:n}},{minDropTime:wy,maxDropTime:fR}=cR,r5=fR-wy,WT=1500,i5=.6;var s5=({current:t,destination:e,reason:n})=>{const i=wc(t,e);if(i<=0)return wy;if(i>=WT)return fR;const a=i/WT,l=wy+r5*a,c=n==="CANCEL"?l*i5:l;return Number(c.toFixed(2))},a5=({impact:t,draggable:e,dimensions:n,viewport:i,afterCritical:a})=>{const{draggables:l,droppables:c}=n,d=$n(t),p=d?c[d]:null,m=c[e.descriptor.droppableId],y=iR({impact:t,draggable:e,draggables:l,afterCritical:a,droppable:p||m,viewport:i});return Gn(y,e.client.borderBox.center)},o5=({draggables:t,reason:e,lastImpact:n,home:i,viewport:a,onLiftImpact:l})=>!n.at||e!=="DROP"?{impact:rR({draggables:t,impact:l,destination:i,viewport:a,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Ac},didDropInsideDroppable:!0};const l5=({getState:t,dispatch:e})=>n=>i=>{if(!ct(i,"DROP")){n(i);return}const a=t(),l=i.payload.reason;if(a.phase==="COLLECTING"){e(e5({reason:l}));return}if(a.phase==="IDLE")return;a.phase==="DROP_PENDING"&&a.isWaiting&&de(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||de();const d=a.critical,p=a.dimensions,m=p.draggables[a.critical.draggable.id],{impact:y,didDropInsideDroppable:_}=o5({reason:l,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),E=_?Kv(y):null,S=_?Wh(y):null,R={index:d.draggable.index,droppableId:d.droppable.id},M={draggableId:m.descriptor.id,type:m.descriptor.type,source:R,reason:l,mode:a.movementMode,destination:E,combine:S},D=a5({impact:y,draggable:m,dimensions:p,viewport:a.viewport,afterCritical:a.afterCritical}),z={critical:a.critical,afterCritical:a.afterCritical,result:M,impact:y};if(!(!Ws(a.current.client.offset,D)||!!M.combine)){e(e0({completed:z}));return}const q=s5({current:a.current.client.offset,destination:D,reason:l});e(JL({newHomeClientOffset:D,dropDuration:q,completed:z}))};var dR=()=>({x:window.pageXOffset,y:window.pageYOffset});function u5(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||t()}}}function c5({onWindowScroll:t}){function e(){t(dR())}const n=Sc(e),i=u5(n);let a=Ks;function l(){return a!==Ks}function c(){l()&&de(),a=gr(window,[i])}function d(){l()||de(),n.cancel(),a(),a=Ks}return{start:c,stop:d,isActive:l}}const f5=t=>ct(t,"DROP_COMPLETE")||ct(t,"DROP_ANIMATE")||ct(t,"FLUSH"),d5=t=>{const e=c5({onWindowScroll:n=>{t.dispatch(KL({newScroll:n}))}});return n=>i=>{!e.isActive()&&ct(i,"INITIAL_PUBLISH")&&e.start(),e.isActive()&&f5(i)&&e.stop(),n(i)}};var h5=t=>{let e=!1,n=!1;const i=setTimeout(()=>{n=!0}),a=l=>{e||n||(e=!0,t(l),clearTimeout(i))};return a.wasCalled=()=>e,a},p5=()=>{const t=[],e=a=>{const l=t.findIndex(d=>d.timerId===a);l===-1&&de();const[c]=t.splice(l,1);c.callback()};return{add:a=>{const l=setTimeout(()=>e(l)),c={timerId:l,callback:a};t.push(c)},flush:()=>{if(!t.length)return;const a=[...t];t.length=0,a.forEach(l=>{clearTimeout(l.timerId),l.callback()})}}};const m5=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.droppableId===e.droppableId&&t.index===e.index,g5=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.draggableId===e.draggableId&&t.droppableId===e.droppableId,y5=(t,e)=>{if(t===e)return!0;const n=t.draggable.id===e.draggable.id&&t.draggable.droppableId===e.draggable.droppableId&&t.draggable.type===e.draggable.type&&t.draggable.index===e.draggable.index,i=t.droppable.id===e.droppable.id&&t.droppable.type===e.droppable.type;return n&&i},qu=(t,e)=>{e()},bd=(t,e)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:e});function xg(t,e,n,i){if(!t){n(i(e));return}const a=h5(n);t(e,{announce:a}),a.wasCalled()||n(i(e))}var v5=(t,e)=>{const n=p5();let i=null;const a=(_,E)=>{i&&de(),qu("onBeforeCapture",()=>{const S=t().onBeforeCapture;S&&S({draggableId:_,mode:E})})},l=(_,E)=>{i&&de(),qu("onBeforeDragStart",()=>{const S=t().onBeforeDragStart;S&&S(bd(_,E))})},c=(_,E)=>{i&&de();const S=bd(_,E);i={mode:E,lastCritical:_,lastLocation:S.source,lastCombine:null},n.add(()=>{qu("onDragStart",()=>xg(t().onDragStart,S,e,Ld.onDragStart))})},d=(_,E)=>{const S=Kv(E),R=Wh(E);i||de();const M=!y5(_,i.lastCritical);M&&(i.lastCritical=_);const D=!m5(i.lastLocation,S);D&&(i.lastLocation=S);const z=!g5(i.lastCombine,R);if(z&&(i.lastCombine=R),!M&&!D&&!z)return;const F={...bd(_,i.mode),combine:R,destination:S};n.add(()=>{qu("onDragUpdate",()=>xg(t().onDragUpdate,F,e,Ld.onDragUpdate))})},p=()=>{i||de(),n.flush()},m=_=>{i||de(),i=null,qu("onDragEnd",()=>xg(t().onDragEnd,_,e,Ld.onDragEnd))};return{beforeCapture:a,beforeStart:l,start:c,update:d,flush:p,drop:m,abort:()=>{if(!i)return;const _={...bd(i.lastCritical,i.mode),combine:null,destination:null,reason:"CANCEL"};m(_)}}},_5=(t,e)=>{const n=v5(t,e);return i=>a=>l=>{if(ct(l,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(l.payload.draggableId,l.payload.movementMode);return}if(ct(l,"INITIAL_PUBLISH")){const d=l.payload.critical;n.beforeStart(d,l.payload.movementMode),a(l),n.start(d,l.payload.movementMode);return}if(ct(l,"DROP_COMPLETE")){const d=l.payload.completed.result;n.flush(),a(l),n.drop(d);return}if(a(l),ct(l,"FLUSH")){n.abort();return}const c=i.getState();c.phase==="DRAGGING"&&n.update(c.critical,c.impact)}};const E5=t=>e=>n=>{if(!ct(n,"DROP_ANIMATION_FINISHED")){e(n);return}const i=t.getState();i.phase!=="DROP_ANIMATING"&&de(),t.dispatch(e0({completed:i.completed}))},b5=t=>{let e=null,n=null;function i(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return a=>l=>{if((ct(l,"FLUSH")||ct(l,"DROP_COMPLETE")||ct(l,"DROP_ANIMATION_FINISHED"))&&i(),a(l),!ct(l,"DROP_ANIMATE"))return;const c={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(uR())}};n=requestAnimationFrame(()=>{n=null,e=gr(window,[c])})}};var T5=t=>()=>e=>n=>{(ct(n,"DROP_COMPLETE")||ct(n,"FLUSH")||ct(n,"DROP_ANIMATE"))&&t.stopPublishing(),e(n)},S5=t=>{let e=!1;return()=>n=>i=>{if(ct(i,"INITIAL_PUBLISH")){e=!0,t.tryRecordFocus(i.payload.critical.draggable.id),n(i),t.tryRestoreFocusRecorded();return}if(n(i),!!e){if(ct(i,"FLUSH")){e=!1,t.tryRestoreFocusRecorded();return}if(ct(i,"DROP_COMPLETE")){e=!1;const a=i.payload.completed.result;a.combine&&t.tryShiftRecord(a.draggableId,a.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const w5=t=>ct(t,"DROP_COMPLETE")||ct(t,"DROP_ANIMATE")||ct(t,"FLUSH");var A5=t=>e=>n=>i=>{if(w5(i)){t.stop(),n(i);return}if(ct(i,"INITIAL_PUBLISH")){n(i);const a=e.getState();a.phase!=="DRAGGING"&&de(),t.start(a);return}n(i),t.scroll(e.getState())};const R5=t=>e=>n=>{if(e(n),!ct(n,"PUBLISH_WHILE_DRAGGING"))return;const i=t.getState();i.phase==="DROP_PENDING"&&(i.isWaiting||t.dispatch(lR({reason:i.reason})))},C5=uc;var I5=({dimensionMarshal:t,focusMarshal:e,styleMarshal:n,getResponders:i,announce:a,autoScroller:l})=>zy(UL,C5(US(n5(n),T5(t),t5(t),l5,E5,b5,R5,A5(l),d5,S5(e),_5(i,a))));const Og=()=>({additions:{},removals:{},modified:{}});function D5({registry:t,callbacks:e}){let n=Og(),i=null;const a=()=>{i||(e.collectionStarting(),i=requestAnimationFrame(()=>{i=null;const{additions:p,removals:m,modified:y}=n,_=Object.keys(p).map(R=>t.draggable.getById(R).getDimension(ln)).sort((R,M)=>R.descriptor.index-M.descriptor.index),E=Object.keys(y).map(R=>{const D=t.droppable.getById(R).callbacks.getScrollWhileDragging();return{droppableId:R,scroll:D}}),S={additions:_,removals:Object.keys(m),modified:E};n=Og(),e.publish(S)}))};return{add:p=>{const m=p.descriptor.id;n.additions[m]=p,n.modified[p.descriptor.droppableId]=!0,n.removals[m]&&delete n.removals[m],a()},remove:p=>{const m=p.descriptor;n.removals[m.id]=!0,n.modified[m.droppableId]=!0,n.additions[m.id]&&delete n.additions[m.id],a()},stop:()=>{i&&(cancelAnimationFrame(i),i=null,n=Og())}}}var hR=({scrollHeight:t,scrollWidth:e,height:n,width:i})=>{const a=Gn({x:e,y:t},{x:i,y:n});return{x:Math.max(0,a.x),y:Math.max(0,a.y)}},pR=()=>{const t=document.documentElement;return t||de(),t},mR=()=>{const t=pR();return hR({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},x5=()=>{const t=dR(),e=mR(),n=t.y,i=t.x,a=pR(),l=a.clientWidth,c=a.clientHeight,d=i+l,p=n+c;return{frame:Nr({top:n,left:i,right:d,bottom:p}),scroll:{initial:t,current:t,max:e,diff:{value:ln,displacement:ln}}}},O5=({critical:t,scrollOptions:e,registry:n})=>{const i=x5(),a=i.scroll.current,l=t.droppable,c=n.droppable.getAllByType(l.type).map(y=>y.callbacks.getDimensionAndWatchScroll(a,e)),d=n.draggable.getAllByType(t.draggable.type).map(y=>y.getDimension(a));return{dimensions:{draggables:H1(d),droppables:F1(c)},critical:t,viewport:i}};function YT(t,e,n){return!(n.descriptor.id===e.id||n.descriptor.type!==e.type||t.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var N5=(t,e)=>{let n=null;const i=D5({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),a=(E,S)=>{t.droppable.exists(E)||de(),n&&e.updateDroppableIsEnabled({id:E,isEnabled:S})},l=(E,S)=>{n&&(t.droppable.exists(E)||de(),e.updateDroppableIsCombineEnabled({id:E,isCombineEnabled:S}))},c=(E,S)=>{n&&(t.droppable.exists(E)||de(),e.updateDroppableScroll({id:E,newScroll:S}))},d=(E,S)=>{n&&t.droppable.getById(E).callbacks.scroll(S)},p=()=>{if(!n)return;i.stop();const E=n.critical.droppable;t.droppable.getAllByType(E.type).forEach(S=>S.callbacks.dragStopped()),n.unsubscribe(),n=null},m=E=>{n||de();const S=n.critical.draggable;E.type==="ADDITION"&&YT(t,S,E.value)&&i.add(E.value),E.type==="REMOVAL"&&YT(t,S,E.value)&&i.remove(E.value)};return{updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:l,scrollDroppable:d,updateDroppableScroll:c,startPublishing:E=>{n&&de();const S=t.draggable.getById(E.draggableId),R=t.droppable.getById(S.descriptor.droppableId),M={draggable:S.descriptor,droppable:R.descriptor},D=t.subscribe(m);return n={critical:M,unsubscribe:D},O5({critical:M,registry:t,scrollOptions:E.scrollOptions})},stopPublishing:p}},gR=(t,e)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP",P5=t=>{window.scrollBy(t.x,t.y)};const M5=on(t=>Kh(t).filter(e=>!(!e.isEnabled||!e.frame))),k5=(t,e)=>M5(e).find(i=>(i.frame||de(),J1(i.frame.pageMarginBox)(t)))||null;var V5=({center:t,destination:e,droppables:n})=>{if(e){const a=n[e];return a.frame?a:null}return k5(t,n)};const Ic={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var L5=(t,e,n=()=>Ic)=>{const i=n(),a=t[e.size]*i.startFromPercentage,l=t[e.size]*i.maxScrollAtPercentage;return{startScrollingFrom:a,maxScrollValueAt:l}},yR=({startOfRange:t,endOfRange:e,current:n})=>{const i=e-t;return i===0?0:(n-t)/i},n0=1,U5=(t,e,n=()=>Ic)=>{const i=n();if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return i.maxPixelScroll;if(t===e.startScrollingFrom)return n0;const l=1-yR({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),c=i.maxPixelScroll*i.ease(l);return Math.ceil(c)},B5=(t,e,n)=>{const i=n(),a=i.durationDampening.accelerateAt,l=i.durationDampening.stopDampeningAt,c=e,d=l,m=Date.now()-c;if(m>=l)return t;if(m<a)return n0;const y=yR({startOfRange:a,endOfRange:d,current:m}),_=t*i.ease(y);return Math.ceil(_)},QT=({distanceToEdge:t,thresholds:e,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const l=U5(t,e,a);return l===0?0:i?Math.max(B5(l,n,a),n0):l},XT=({container:t,distanceToEdges:e,dragStartTime:n,axis:i,shouldUseTimeDampening:a,getAutoScrollerOptions:l})=>{const c=L5(t,i,l);return e[i.end]<e[i.start]?QT({distanceToEdge:e[i.end],thresholds:c,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:l}):-1*QT({distanceToEdge:e[i.start],thresholds:c,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:l})},z5=({container:t,subject:e,proposedScroll:n})=>{const i=e.height>t.height,a=e.width>t.width;return!a&&!i?n:a&&i?null:{x:a?0:n.x,y:i?0:n.y}};const j5=j1(t=>t===0?0:t);var vR=({dragStartTime:t,container:e,subject:n,center:i,shouldUseTimeDampening:a,getAutoScrollerOptions:l})=>{const c={top:i.y-e.top,right:e.right-i.x,bottom:e.bottom-i.y,left:i.x-e.left},d=XT({container:e,distanceToEdges:c,dragStartTime:t,axis:Wv,shouldUseTimeDampening:a,getAutoScrollerOptions:l}),p=XT({container:e,distanceToEdges:c,dragStartTime:t,axis:$1,shouldUseTimeDampening:a,getAutoScrollerOptions:l}),m=j5({x:p,y:d});if(Ws(m,ln))return null;const y=z5({container:e,subject:n,proposedScroll:m});return y?Ws(y,ln)?null:y:null};const F5=j1(t=>t===0?0:t>0?1:-1),r0=(()=>{const t=(e,n)=>e<0?e:e>n?e-n:0;return({current:e,max:n,change:i})=>{const a=mn(e,i),l={x:t(a.x,n.x),y:t(a.y,n.y)};return Ws(l,ln)?null:l}})(),_R=({max:t,current:e,change:n})=>{const i={x:Math.max(e.x,t.x),y:Math.max(e.y,t.y)},a=F5(n),l=r0({max:i,current:e,change:a});return!l||a.x!==0&&l.x===0||a.y!==0&&l.y===0},i0=(t,e)=>_R({current:t.scroll.current,max:t.scroll.max,change:e}),H5=(t,e)=>{if(!i0(t,e))return null;const n=t.scroll.max,i=t.scroll.current;return r0({current:i,max:n,change:e})},s0=(t,e)=>{const n=t.frame;return n?_R({current:n.scroll.current,max:n.scroll.max,change:e}):!1},q5=(t,e)=>{const n=t.frame;return!n||!s0(t,e)?null:r0({current:n.scroll.current,max:n.scroll.max,change:e})};var G5=({viewport:t,subject:e,center:n,dragStartTime:i,shouldUseTimeDampening:a,getAutoScrollerOptions:l})=>{const c=vR({dragStartTime:i,container:t.frame,subject:e,center:n,shouldUseTimeDampening:a,getAutoScrollerOptions:l});return c&&i0(t,c)?c:null},$5=({droppable:t,subject:e,center:n,dragStartTime:i,shouldUseTimeDampening:a,getAutoScrollerOptions:l})=>{const c=t.frame;if(!c)return null;const d=vR({dragStartTime:i,container:c.pageMarginBox,subject:e,center:n,shouldUseTimeDampening:a,getAutoScrollerOptions:l});return d&&s0(t,d)?d:null},ZT=({state:t,dragStartTime:e,shouldUseTimeDampening:n,scrollWindow:i,scrollDroppable:a,getAutoScrollerOptions:l})=>{const c=t.current.page.borderBoxCenter,p=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const _=t.viewport,E=G5({dragStartTime:e,viewport:_,subject:p,center:c,shouldUseTimeDampening:n,getAutoScrollerOptions:l});if(E){i(E);return}}const m=V5({center:c,destination:$n(t.impact),droppables:t.dimensions.droppables});if(!m)return;const y=$5({dragStartTime:e,droppable:m,subject:p,center:c,shouldUseTimeDampening:n,getAutoScrollerOptions:l});y&&a(m.descriptor.id,y)},K5=({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n=()=>Ic})=>{const i=Sc(t),a=Sc(e);let l=null;const c=m=>{l||de();const{shouldUseTimeDampening:y,dragStartTime:_}=l;ZT({state:m,scrollWindow:i,scrollDroppable:a,dragStartTime:_,shouldUseTimeDampening:y,getAutoScrollerOptions:n})};return{start:m=>{l&&de();const y=Date.now();let _=!1;const E=()=>{_=!0};ZT({state:m,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:E,scrollDroppable:E,getAutoScrollerOptions:n}),l={dragStartTime:y,shouldUseTimeDampening:_},_&&c(m)},stop:()=>{l&&(i.cancel(),a.cancel(),l=null)},scroll:c}},W5=({move:t,scrollDroppable:e,scrollWindow:n})=>{const i=(d,p)=>{const m=mn(d.current.client.selection,p);t({client:m})},a=(d,p)=>{if(!s0(d,p))return p;const m=q5(d,p);if(!m)return e(d.descriptor.id,p),null;const y=Gn(p,m);return e(d.descriptor.id,y),Gn(p,y)},l=(d,p,m)=>{if(!d||!i0(p,m))return m;const y=H5(p,m);if(!y)return n(m),null;const _=Gn(m,y);return n(_),Gn(m,_)};return d=>{const p=d.scrollJumpRequest;if(!p)return;const m=$n(d.impact);m||de();const y=a(d.dimensions.droppables[m],p);if(!y)return;const _=d.viewport,E=l(d.isWindowScrollAllowed,_,y);E&&i(d,E)}},Y5=({scrollDroppable:t,scrollWindow:e,move:n,getAutoScrollerOptions:i})=>{const a=K5({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:i}),l=W5({move:n,scrollWindow:e,scrollDroppable:t});return{scroll:p=>{if(!(i().disabled||p.phase!=="DRAGGING")){if(p.movementMode==="FLUID"){a.scroll(p);return}p.scrollJumpRequest&&l(p)}},start:a.start,stop:a.stop}};const _l="data-rfd",El=(()=>{const t=`${_l}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),Ay=(()=>{const t=`${_l}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),Q5=(()=>{const t=`${_l}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),JT={contextId:`${_l}-scroll-container-context-id`},X5=t=>e=>`[${e}="${t}"]`,Gu=(t,e)=>t.map(n=>{const i=n.styles[e];return i?`${n.selector} { ${i} }`:""}).join(" "),Z5="pointer-events: none;";var J5=t=>{const e=X5(t),n=(()=>{const d=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(El.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:d,dragging:Z5,dropAnimating:d}}})(),i=(()=>{const d=`
      transition: ${oc.outOfTheWay};
    `;return{selector:e(Ay.contextId),styles:{dragging:d,dropAnimating:d,userCancel:d}}})(),a={selector:e(Q5.contextId),styles:{always:"overflow-anchor: none;"}},c=[i,n,a,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Gu(c,"always"),resting:Gu(c,"resting"),dragging:Gu(c,"dragging"),dropAnimating:Gu(c,"dropAnimating"),userCancel:Gu(c,"userCancel")}};const Kn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?k.useLayoutEffect:k.useEffect,Ng=()=>{const t=document.querySelector("head");return t||de(),t},eS=t=>{const e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.type="text/css",e};function e7(t,e){const n=it(()=>J5(t),[t]),i=k.useRef(null),a=k.useRef(null),l=Ae(on(_=>{const E=a.current;E||de(),E.textContent=_}),[]),c=Ae(_=>{const E=i.current;E||de(),E.textContent=_},[]);Kn(()=>{!i.current&&!a.current||de();const _=eS(e),E=eS(e);return i.current=_,a.current=E,_.setAttribute(`${_l}-always`,t),E.setAttribute(`${_l}-dynamic`,t),Ng().appendChild(_),Ng().appendChild(E),c(n.always),l(n.resting),()=>{const S=R=>{const M=R.current;M||de(),Ng().removeChild(M),R.current=null};S(i),S(a)}},[e,c,l,n.always,n.resting,t]);const d=Ae(()=>l(n.dragging),[l,n.dragging]),p=Ae(_=>{if(_==="DROP"){l(n.dropAnimating);return}l(n.userCancel)},[l,n.dropAnimating,n.userCancel]),m=Ae(()=>{a.current&&l(n.resting)},[l,n.resting]);return it(()=>({dragging:d,dropping:p,resting:m}),[d,p,m])}function ER(t,e){return Array.from(t.querySelectorAll(e))}var bR=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function Xh(t){return t instanceof bR(t).HTMLElement}function t7(t,e){const n=`[${El.contextId}="${t}"]`,i=ER(document,n);if(!i.length)return null;const a=i.find(l=>l.getAttribute(El.draggableId)===e);return!a||!Xh(a)?null:a}function n7(t){const e=k.useRef({}),n=k.useRef(null),i=k.useRef(null),a=k.useRef(!1),l=Ae(function(E,S){const R={id:E,focus:S};return e.current[E]=R,function(){const D=e.current;D[E]!==R&&delete D[E]}},[]),c=Ae(function(E){const S=t7(t,E);S&&S!==document.activeElement&&S.focus()},[t]),d=Ae(function(E,S){n.current===E&&(n.current=S)},[]),p=Ae(function(){i.current||a.current&&(i.current=requestAnimationFrame(()=>{i.current=null;const E=n.current;E&&c(E)}))},[c]),m=Ae(function(E){n.current=null;const S=document.activeElement;S&&S.getAttribute(El.draggableId)===E&&(n.current=E)},[]);return Kn(()=>(a.current=!0,function(){a.current=!1;const E=i.current;E&&cancelAnimationFrame(E)}),[]),it(()=>({register:l,tryRecordFocus:m,tryRestoreFocusRecorded:p,tryShiftRecord:d}),[l,m,p,d])}function r7(){const t={draggables:{},droppables:{}},e=[];function n(_){return e.push(_),function(){const S=e.indexOf(_);S!==-1&&e.splice(S,1)}}function i(_){e.length&&e.forEach(E=>E(_))}function a(_){return t.draggables[_]||null}function l(_){const E=a(_);return E||de(),E}const c={register:_=>{t.draggables[_.descriptor.id]=_,i({type:"ADDITION",value:_})},update:(_,E)=>{const S=t.draggables[E.descriptor.id];S&&S.uniqueId===_.uniqueId&&(delete t.draggables[E.descriptor.id],t.draggables[_.descriptor.id]=_)},unregister:_=>{const E=_.descriptor.id,S=a(E);S&&_.uniqueId===S.uniqueId&&(delete t.draggables[E],t.droppables[_.descriptor.droppableId]&&i({type:"REMOVAL",value:_}))},getById:l,findById:a,exists:_=>!!a(_),getAllByType:_=>Object.values(t.draggables).filter(E=>E.descriptor.type===_)};function d(_){return t.droppables[_]||null}function p(_){const E=d(_);return E||de(),E}const m={register:_=>{t.droppables[_.descriptor.id]=_},unregister:_=>{const E=d(_.descriptor.id);E&&_.uniqueId===E.uniqueId&&delete t.droppables[_.descriptor.id]},getById:p,findById:d,exists:_=>!!d(_),getAllByType:_=>Object.values(t.droppables).filter(E=>E.descriptor.type===_)};function y(){t.draggables={},t.droppables={},e.length=0}return{draggable:c,droppable:m,subscribe:n,clean:y}}function i7(){const t=it(r7,[]);return k.useEffect(()=>function(){t.clean()},[t]),t}var a0=je.createContext(null),Eh=()=>{const t=document.body;return t||de(),t};const s7={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},a7=t=>`rfd-announcement-${t}`;function o7(t){const e=it(()=>a7(t),[t]),n=k.useRef(null);return k.useEffect(function(){const l=document.createElement("div");return n.current=l,l.id=e,l.setAttribute("aria-live","assertive"),l.setAttribute("aria-atomic","true"),gh(l.style,s7),Eh().appendChild(l),function(){setTimeout(function(){const p=Eh();p.contains(l)&&p.removeChild(l),l===n.current&&(n.current=null)})}},[e]),Ae(a=>{const l=n.current;if(l){l.textContent=a;return}},[])}const l7={separator:"::"};function o0(t,e=l7){const n=je.useId();return it(()=>`${t}${e.separator}${n}`,[e.separator,t,n])}function u7({contextId:t,uniqueId:e}){return`rfd-hidden-text-${t}-${e}`}function c7({contextId:t,text:e}){const n=o0("hidden-text",{separator:"-"}),i=it(()=>u7({contextId:t,uniqueId:n}),[n,t]);return k.useEffect(function(){const l=document.createElement("div");return l.id=i,l.textContent=e,l.style.display="none",Eh().appendChild(l),function(){const d=Eh();d.contains(l)&&d.removeChild(l)}},[i,e]),i}var Zh=je.createContext(null);function TR(t){const e=k.useRef(t);return k.useEffect(()=>{e.current=t}),e}function f7(){let t=null;function e(){return!!t}function n(c){return c===t}function i(c){t&&de();const d={abandon:c};return t=d,d}function a(){t||de(),t=null}function l(){t&&(t.abandon(),a())}return{isClaimed:e,isActive:n,claim:i,release:a,tryAbandon:l}}function Dc(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const d7=9,h7=13,l0=27,SR=32,p7=33,m7=34,g7=35,y7=36,v7=37,_7=38,E7=39,b7=40,T7={[h7]:!0,[d7]:!0};var wR=t=>{T7[t.keyCode]&&t.preventDefault()};const Jh=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(i=>`on${i}`in document)||t})(),AR=0,tS=5;function S7(t,e){return Math.abs(e.x-t.x)>=tS||Math.abs(e.y-t.y)>=tS}const nS={type:"IDLE"};function w7({cancel:t,completed:e,getPhase:n,setPhase:i}){return[{eventName:"mousemove",fn:a=>{const{button:l,clientX:c,clientY:d}=a;if(l!==AR)return;const p={x:c,y:d},m=n();if(m.type==="DRAGGING"){a.preventDefault(),m.actions.move(p);return}m.type!=="PENDING"&&de();const y=m.point;if(!S7(y,p))return;a.preventDefault();const _=m.actions.fluidLift(p);i({type:"DRAGGING",actions:_})}},{eventName:"mouseup",fn:a=>{const l=n();if(l.type!=="DRAGGING"){t();return}a.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"mousedown",fn:a=>{n().type==="DRAGGING"&&a.preventDefault(),t()}},{eventName:"keydown",fn:a=>{if(n().type==="PENDING"){t();return}if(a.keyCode===l0){a.preventDefault(),t();return}wR(a)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:a=>{const l=n();if(l.type==="IDLE"&&de(),l.actions.shouldRespectForcePress()){t();return}a.preventDefault()}},{eventName:Jh,fn:t}]}function A7(t){const e=k.useRef(nS),n=k.useRef(Ks),i=it(()=>({eventName:"mousedown",fn:function(_){if(_.defaultPrevented||_.button!==AR||_.ctrlKey||_.metaKey||_.shiftKey||_.altKey)return;const E=t.findClosestDraggableId(_);if(!E)return;const S=t.tryGetLock(E,c,{sourceEvent:_});if(!S)return;_.preventDefault();const R={x:_.clientX,y:_.clientY};n.current(),m(S,R)}}),[t]),a=it(()=>({eventName:"webkitmouseforcewillbegin",fn:y=>{if(y.defaultPrevented)return;const _=t.findClosestDraggableId(y);if(!_)return;const E=t.findOptionsForDraggable(_);E&&(E.shouldRespectForcePress||t.canGetLock(_)&&y.preventDefault())}}),[t]),l=Ae(function(){const _={passive:!1,capture:!0};n.current=gr(window,[a,i],_)},[a,i]),c=Ae(()=>{e.current.type!=="IDLE"&&(e.current=nS,n.current(),l())},[l]),d=Ae(()=>{const y=e.current;c(),y.type==="DRAGGING"&&y.actions.cancel({shouldBlockNextClick:!0}),y.type==="PENDING"&&y.actions.abort()},[c]),p=Ae(function(){const _={capture:!0,passive:!1},E=w7({cancel:d,completed:c,getPhase:()=>e.current,setPhase:S=>{e.current=S}});n.current=gr(window,E,_)},[d,c]),m=Ae(function(_,E){e.current.type!=="IDLE"&&de(),e.current={type:"PENDING",point:E,actions:_},p()},[p]);Kn(function(){return l(),function(){n.current()}},[l])}function R7(){}const C7={[m7]:!0,[p7]:!0,[y7]:!0,[g7]:!0};function I7(t,e){function n(){e(),t.cancel()}function i(){e(),t.drop()}return[{eventName:"keydown",fn:a=>{if(a.keyCode===l0){a.preventDefault(),n();return}if(a.keyCode===SR){a.preventDefault(),i();return}if(a.keyCode===b7){a.preventDefault(),t.moveDown();return}if(a.keyCode===_7){a.preventDefault(),t.moveUp();return}if(a.keyCode===E7){a.preventDefault(),t.moveRight();return}if(a.keyCode===v7){a.preventDefault(),t.moveLeft();return}if(C7[a.keyCode]){a.preventDefault();return}wR(a)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Jh,fn:n}]}function D7(t){const e=k.useRef(R7),n=it(()=>({eventName:"keydown",fn:function(l){if(l.defaultPrevented||l.keyCode!==SR)return;const c=t.findClosestDraggableId(l);if(!c)return;const d=t.tryGetLock(c,y,{sourceEvent:l});if(!d)return;l.preventDefault();let p=!0;const m=d.snapLift();e.current();function y(){p||de(),p=!1,e.current(),i()}e.current=gr(window,I7(m,y),{capture:!0,passive:!1})}}),[t]),i=Ae(function(){const l={passive:!1,capture:!0};e.current=gr(window,[n],l)},[n]);Kn(function(){return i(),function(){e.current()}},[i])}const Pg={type:"IDLE"},x7=120,O7=.15;function N7({cancel:t,getPhase:e}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(e().type!=="DRAGGING"){t();return}n.keyCode===l0&&n.preventDefault(),t()}},{eventName:Jh,fn:t}]}function P7({cancel:t,completed:e,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:i=>{const a=n();if(a.type!=="DRAGGING"){t();return}a.hasMoved=!0;const{clientX:l,clientY:c}=i.touches[0],d={x:l,y:c};i.preventDefault(),a.actions.move(d)}},{eventName:"touchend",fn:i=>{const a=n();if(a.type!=="DRAGGING"){t();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"touchcancel",fn:i=>{if(n().type!=="DRAGGING"){t();return}i.preventDefault(),t()}},{eventName:"touchforcechange",fn:i=>{const a=n();a.type==="IDLE"&&de();const l=i.touches[0];if(!l||!(l.force>=O7))return;const d=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){d&&t();return}if(d){if(a.hasMoved){i.preventDefault();return}t();return}i.preventDefault()}},{eventName:Jh,fn:t}]}function M7(t){const e=k.useRef(Pg),n=k.useRef(Ks),i=Ae(function(){return e.current},[]),a=Ae(function(S){e.current=S},[]),l=it(()=>({eventName:"touchstart",fn:function(S){if(S.defaultPrevented)return;const R=t.findClosestDraggableId(S);if(!R)return;const M=t.tryGetLock(R,d,{sourceEvent:S});if(!M)return;const D=S.touches[0],{clientX:z,clientY:F}=D,q={x:z,y:F};n.current(),_(M,q)}}),[t]),c=Ae(function(){const S={capture:!0,passive:!1};n.current=gr(window,[l],S)},[l]),d=Ae(()=>{const E=e.current;E.type!=="IDLE"&&(E.type==="PENDING"&&clearTimeout(E.longPressTimerId),a(Pg),n.current(),c())},[c,a]),p=Ae(()=>{const E=e.current;d(),E.type==="DRAGGING"&&E.actions.cancel({shouldBlockNextClick:!0}),E.type==="PENDING"&&E.actions.abort()},[d]),m=Ae(function(){const S={capture:!0,passive:!1},R={cancel:p,completed:d,getPhase:i},M=gr(window,P7(R),S),D=gr(window,N7(R),S);n.current=function(){M(),D()}},[p,i,d]),y=Ae(function(){const S=i();S.type!=="PENDING"&&de();const R=S.actions.fluidLift(S.point);a({type:"DRAGGING",actions:R,hasMoved:!1})},[i,a]),_=Ae(function(S,R){i().type!=="IDLE"&&de();const M=setTimeout(y,x7);a({type:"PENDING",point:R,actions:S,longPressTimerId:M}),m()},[m,i,a,y]);Kn(function(){return c(),function(){n.current();const R=i();R.type==="PENDING"&&(clearTimeout(R.longPressTimerId),a(Pg))}},[i,c,a]),Kn(function(){return gr(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const k7=["input","button","textarea","select","option","optgroup","video","audio"];function RR(t,e){if(e==null)return!1;if(k7.includes(e.tagName.toLowerCase()))return!0;const i=e.getAttribute("contenteditable");return i==="true"||i===""?!0:e===t?!1:RR(t,e.parentElement)}function V7(t,e){const n=e.target;return Xh(n)?RR(t,n):!1}var L7=t=>Nr(t.getBoundingClientRect()).center;function U7(t){return t instanceof bR(t).Element}const B7=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(i=>i in Element.prototype)||t})();function CR(t,e){return t==null?null:t[B7](e)?t:CR(t.parentElement,e)}function z7(t,e){return t.closest?t.closest(e):CR(t,e)}function j7(t){return`[${El.contextId}="${t}"]`}function F7(t,e){const n=e.target;if(!U7(n))return null;const i=j7(t),a=z7(n,i);return!a||!Xh(a)?null:a}function H7(t,e){const n=F7(t,e);return n?n.getAttribute(El.draggableId):null}function q7(t,e){const n=`[${Ay.contextId}="${t}"]`,a=ER(document,n).find(l=>l.getAttribute(Ay.id)===e);return!a||!Xh(a)?null:a}function G7(t){t.preventDefault()}function Td({expected:t,phase:e,isLockActive:n,shouldWarn:i}){return!(!n()||t!==e)}function IR({lockAPI:t,store:e,registry:n,draggableId:i}){if(t.isClaimed())return!1;const a=n.draggable.findById(i);return!(!a||!a.options.isEnabled||!gR(e.getState(),i))}function $7({lockAPI:t,contextId:e,store:n,registry:i,draggableId:a,forceSensorStop:l,sourceEvent:c}){if(!IR({lockAPI:t,store:n,registry:i,draggableId:a}))return null;const p=i.draggable.getById(a),m=q7(e,p.descriptor.id);if(!m||c&&!p.options.canDragInteractiveElements&&V7(m,c))return null;const y=t.claim(l||Ks);let _="PRE_DRAG";function E(){return p.options.shouldRespectForcePress}function S(){return t.isActive(y)}function R(X,se){Td({expected:X,phase:_,isLockActive:S,shouldWarn:!0})&&n.dispatch(se())}const M=R.bind(null,"DRAGGING");function D(X){function se(){t.release(),_="COMPLETED"}_!=="PRE_DRAG"&&(se(),de()),n.dispatch(zL(X.liftActionArgs)),_="DRAGGING";function P(I,C={shouldBlockNextClick:!1}){if(X.cleanup(),C.shouldBlockNextClick){const x=gr(window,[{eventName:"click",fn:G7,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(x)}se(),n.dispatch(lR({reason:I}))}return{isActive:()=>Td({expected:"DRAGGING",phase:_,isLockActive:S,shouldWarn:!1}),shouldRespectForcePress:E,drop:I=>P("DROP",I),cancel:I=>P("CANCEL",I),...X.actions}}function z(X){const se=Sc(I=>{M(()=>oR({client:I}))});return{...D({liftActionArgs:{id:a,clientSelection:X,movementMode:"FLUID"},cleanup:()=>se.cancel(),actions:{move:se}}),move:se}}function F(){const X={moveUp:()=>M(YL),moveRight:()=>M(XL),moveDown:()=>M(QL),moveLeft:()=>M(ZL)};return D({liftActionArgs:{id:a,clientSelection:L7(m),movementMode:"SNAP"},cleanup:Ks,actions:X})}function q(){Td({expected:"PRE_DRAG",phase:_,isLockActive:S,shouldWarn:!0})&&t.release()}return{isActive:()=>Td({expected:"PRE_DRAG",phase:_,isLockActive:S,shouldWarn:!1}),shouldRespectForcePress:E,fluidLift:z,snapLift:F,abort:q}}const K7=[A7,D7,M7];function W7({contextId:t,store:e,registry:n,customSensors:i,enableDefaultSensors:a}){const l=[...a?K7:[],...i||[]],c=k.useState(()=>f7())[0],d=Ae(function(D,z){Dc(D)&&!Dc(z)&&c.tryAbandon()},[c]);Kn(function(){let D=e.getState();return e.subscribe(()=>{const F=e.getState();d(D,F),D=F})},[c,e,d]),Kn(()=>c.tryAbandon,[c.tryAbandon]);const p=Ae(M=>IR({lockAPI:c,registry:n,store:e,draggableId:M}),[c,n,e]),m=Ae((M,D,z)=>$7({lockAPI:c,registry:n,contextId:t,store:e,draggableId:M,forceSensorStop:D||null,sourceEvent:z&&z.sourceEvent?z.sourceEvent:null}),[t,c,n,e]),y=Ae(M=>H7(t,M),[t]),_=Ae(M=>{const D=n.draggable.findById(M);return D?D.options:null},[n.draggable]),E=Ae(function(){c.isClaimed()&&(c.tryAbandon(),e.getState().phase!=="IDLE"&&e.dispatch(Jv()))},[c,e]),S=Ae(()=>c.isClaimed(),[c]),R=it(()=>({canGetLock:p,tryGetLock:m,findClosestDraggableId:y,findOptionsForDraggable:_,tryReleaseLock:E,isLockClaimed:S}),[p,m,y,_,E,S]);for(let M=0;M<l.length;M++)l[M](R)}const Y7=t=>({onBeforeCapture:e=>{const n=()=>{t.onBeforeCapture&&t.onBeforeCapture(e)};Uy.flushSync(n)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),Q7=t=>({...Ic,...t.autoScrollerOptions,durationDampening:{...Ic.durationDampening,...t.autoScrollerOptions}});function $u(t){return t.current||de(),t.current}function X7(t){const{contextId:e,setCallbacks:n,sensors:i,nonce:a,dragHandleUsageInstructions:l}=t,c=k.useRef(null),d=TR(t),p=Ae(()=>Y7(d.current),[d]),m=Ae(()=>Q7(d.current),[d]),y=o7(e),_=c7({contextId:e,text:l}),E=e7(e,a),S=Ae(x=>{$u(c).dispatch(x)},[]),R=it(()=>Lb({publishWhileDragging:FL,updateDroppableScroll:qL,updateDroppableIsEnabled:GL,updateDroppableIsCombineEnabled:$L,collectionStarting:HL},S),[S]),M=i7(),D=it(()=>N5(M,R),[M,R]),z=it(()=>Y5({scrollWindow:P5,scrollDroppable:D.scrollDroppable,getAutoScrollerOptions:m,...Lb({move:oR},S)}),[D.scrollDroppable,S,m]),F=n7(e),q=it(()=>I5({announce:y,autoScroller:z,dimensionMarshal:D,focusMarshal:F,getResponders:p,styleMarshal:E}),[y,z,D,F,p,E]);c.current=q;const Z=Ae(()=>{const x=$u(c);x.getState().phase!=="IDLE"&&x.dispatch(Jv())},[]),X=Ae(()=>{const x=$u(c).getState();return x.phase==="DROP_ANIMATING"?!0:x.phase==="IDLE"?!1:x.isDragging},[]),se=it(()=>({isDragging:X,tryAbort:Z}),[X,Z]);n(se);const P=Ae(x=>gR($u(c).getState(),x),[]),I=Ae(()=>ja($u(c).getState()),[]),C=it(()=>({marshal:D,focus:F,contextId:e,canLift:P,isMovementAllowed:I,dragHandleUsageInstructionsId:_,registry:M}),[e,D,_,F,P,I,M]);return W7({contextId:e,store:q,registry:M,customSensors:i||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),k.useEffect(()=>Z,[Z]),je.createElement(Zh.Provider,{value:C},je.createElement(_S,{context:a0,store:q},t.children))}function Z7(){return je.useId()}function J7(t){const e=Z7(),n=t.dragHandleUsageInstructions||Ld.dragHandleUsageInstructions;return je.createElement(D6,null,i=>je.createElement(X7,{nonce:t.nonce,contextId:e,setCallbacks:i,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const rS={dragging:5e3,dropAnimating:4500},eU=(t,e)=>e?oc.drop(e.duration):t?oc.snap:oc.fluid,tU=(t,e)=>{if(t)return e?Cc.opacity.drop:Cc.opacity.combining},nU=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function rU(t){const n=t.dimension.client,{offset:i,combineWith:a,dropping:l}=t,c=!!a,d=nU(t),p=!!l,m=p?Sy.drop(i,c):Sy.moveTo(i);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:eU(d,l),transform:m,opacity:tU(c,p),zIndex:p?rS.dropAnimating:rS.dragging,pointerEvents:"none"}}function iU(t){return{transform:Sy.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function sU(t){return t.type==="DRAGGING"?rU(t):iU(t)}function aU(t,e,n=ln){const i=window.getComputedStyle(e),a=e.getBoundingClientRect(),l=k1(a,i),c=mh(l,n),d={client:l,tagName:e.tagName.toLowerCase(),display:i.display},p={x:l.marginBox.width,y:l.marginBox.height};return{descriptor:t,placeholder:d,displaceBy:p,client:l,page:c}}function oU(t){const e=o0("draggable"),{descriptor:n,registry:i,getDraggableRef:a,canDragInteractiveElements:l,shouldRespectForcePress:c,isEnabled:d}=t,p=it(()=>({canDragInteractiveElements:l,shouldRespectForcePress:c,isEnabled:d}),[l,d,c]),m=Ae(S=>{const R=a();return R||de(),aU(n,R,S)},[n,a]),y=it(()=>({uniqueId:e,descriptor:n,options:p,getDimension:m}),[n,m,p,e]),_=k.useRef(y),E=k.useRef(!0);Kn(()=>(i.draggable.register(_.current),()=>i.draggable.unregister(_.current)),[i.draggable]),Kn(()=>{if(E.current){E.current=!1;return}const S=_.current;_.current=y,i.draggable.update(y,S)},[y,i.draggable])}var u0=je.createContext(null);function bh(t){const e=k.useContext(t);return e||de(),e}function lU(t){t.preventDefault()}const uU=t=>{const e=k.useRef(null),n=Ae((se=null)=>{e.current=se},[]),i=Ae(()=>e.current,[]),{contextId:a,dragHandleUsageInstructionsId:l,registry:c}=bh(Zh),{type:d,droppableId:p}=bh(u0),m=it(()=>({id:t.draggableId,index:t.index,type:d,droppableId:p}),[t.draggableId,t.index,d,p]),{children:y,draggableId:_,isEnabled:E,shouldRespectForcePress:S,canDragInteractiveElements:R,isClone:M,mapped:D,dropAnimationFinished:z}=t;if(!M){const se=it(()=>({descriptor:m,registry:c,getDraggableRef:i,canDragInteractiveElements:R,shouldRespectForcePress:S,isEnabled:E}),[m,c,i,R,S,E]);oU(se)}const F=it(()=>E?{tabIndex:0,role:"button","aria-describedby":l,"data-rfd-drag-handle-draggable-id":_,"data-rfd-drag-handle-context-id":a,draggable:!1,onDragStart:lU}:null,[a,l,_,E]),q=Ae(se=>{D.type==="DRAGGING"&&D.dropping&&se.propertyName==="transform"&&Uy.flushSync(z)},[z,D]),Z=it(()=>{const se=sU(D),P=D.type==="DRAGGING"&&D.dropping?q:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":a,"data-rfd-draggable-id":_,style:se,onTransitionEnd:P},dragHandleProps:F}},[a,F,_,D,q,n]),X=it(()=>({draggableId:m.id,type:m.type,source:{index:m.index,droppableId:m.droppableId}}),[m.droppableId,m.id,m.index,m.type]);return je.createElement(je.Fragment,null,y(Z,D.snapshot,X))};var DR=(t,e)=>t===e,xR=t=>{const{combine:e,destination:n}=t;return n?n.droppableId:e?e.droppableId:null};const cU=t=>t.combine?t.combine.draggableId:null,fU=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function dU(){const t=on((a,l)=>({x:a,y:l})),e=on((a,l,c=null,d=null,p=null)=>({isDragging:!0,isClone:l,isDropAnimating:!!p,dropAnimation:p,mode:a,draggingOver:c,combineWith:d,combineTargetFor:null})),n=on((a,l,c,d,p=null,m=null,y=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:p,combineWith:m,mode:l,offset:a,dimension:c,forceShouldAnimate:y,snapshot:e(l,d,p,m,null)}}));return(a,l)=>{if(Dc(a)){if(a.critical.draggable.id!==l.draggableId)return null;const c=a.current.client.offset,d=a.dimensions.draggables[l.draggableId],p=$n(a.impact),m=fU(a.impact),y=a.forceShouldAnimate;return n(t(c.x,c.y),a.movementMode,d,l.isClone,p,m,y)}if(a.phase==="DROP_ANIMATING"){const c=a.completed;if(c.result.draggableId!==l.draggableId)return null;const d=l.isClone,p=a.dimensions.draggables[l.draggableId],m=c.result,y=m.mode,_=xR(m),E=cU(m),R={duration:a.dropDuration,curve:t0.drop,moveTo:a.newHomeClientOffset,opacity:E?Cc.opacity.drop:null,scale:E?Cc.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:p,dropping:R,draggingOver:_,combineWith:E,mode:y,forceShouldAnimate:null,snapshot:e(y,d,_,E,R)}}}return null}}function OR(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const hU={mapped:{type:"SECONDARY",offset:ln,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:OR(null)}};function pU(){const t=on((c,d)=>({x:c,y:d})),e=on(OR),n=on((c,d=null,p)=>({mapped:{type:"SECONDARY",offset:c,combineTargetFor:d,shouldAnimateDisplacement:p,snapshot:e(d)}})),i=c=>c?n(ln,c,!0):null,a=(c,d,p,m)=>{const y=p.displaced.visible[c],_=!!(m.inVirtualList&&m.effected[c]),E=Wh(p),S=E&&E.draggableId===c?d:null;if(!y){if(!_)return i(S);if(p.displaced.invisible[c])return null;const D=Dl(m.displacedBy.point),z=t(D.x,D.y);return n(z,S,!0)}if(_)return i(S);const R=p.displacedBy.point,M=t(R.x,R.y);return n(M,S,y.shouldAnimate)};return(c,d)=>{if(Dc(c))return c.critical.draggable.id===d.draggableId?null:a(d.draggableId,c.critical.draggable.id,c.impact,c.afterCritical);if(c.phase==="DROP_ANIMATING"){const p=c.completed;return p.result.draggableId===d.draggableId?null:a(d.draggableId,p.result.draggableId,p.impact,p.afterCritical)}return null}}const mU=()=>{const t=dU(),e=pU();return(i,a)=>t(i,a)||e(i,a)||hU},gU={dropAnimationFinished:uR},yU=vS(mU,gU,null,{context:a0,areStatePropsEqual:DR})(uU);function NR(t){return bh(u0).isUsingCloneFor===t.draggableId&&!t.isClone?null:je.createElement(yU,t)}function PR(t){const e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,i=!!t.shouldRespectForcePress;return je.createElement(NR,gh({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:i}))}const MR=t=>e=>t===e,vU=MR("scroll"),_U=MR("auto"),iS=(t,e)=>e(t.overflowX)||e(t.overflowY),EU=t=>{const e=window.getComputedStyle(t),n={overflowX:e.overflowX,overflowY:e.overflowY};return iS(n,vU)||iS(n,_U)},bU=()=>!1,kR=t=>t==null?null:t===document.body?bU()?t:null:t===document.documentElement?null:EU(t)?t:kR(t.parentElement);var Ry=t=>({x:t.scrollLeft,y:t.scrollTop});const VR=t=>t?window.getComputedStyle(t).position==="fixed"?!0:VR(t.parentElement):!1;var TU=t=>{const e=kR(t),n=VR(t);return{closestScrollable:e,isFixedOnPage:n}},SU=({descriptor:t,isEnabled:e,isCombineEnabled:n,isFixedOnPage:i,direction:a,client:l,page:c,closest:d})=>{const p=(()=>{if(!d)return null;const{scrollSize:E,client:S}=d,R=hR({scrollHeight:E.scrollHeight,scrollWidth:E.scrollWidth,height:S.paddingBox.height,width:S.paddingBox.width});return{pageMarginBox:d.page.marginBox,frameClient:S,scrollSize:E,shouldClipSubject:d.shouldClipSubject,scroll:{initial:d.scroll,current:d.scroll,max:R,diff:{value:ln,displacement:ln}}}})(),m=a==="vertical"?Wv:$1,y=vl({page:c,withPlaceholder:null,axis:m,frame:p});return{descriptor:t,isCombineEnabled:n,isFixedOnPage:i,axis:m,isEnabled:e,client:l,page:c,frame:p,subject:y}};const wU=(t,e)=>{const n=V1(t);if(!e||t!==e)return n;const i=n.paddingBox.top-e.scrollTop,a=n.paddingBox.left-e.scrollLeft,l=i+e.scrollHeight,c=a+e.scrollWidth,p=qv({top:i,right:c,bottom:l,left:a},n.border);return Gv({borderBox:p,margin:n.margin,border:n.border,padding:n.padding})};var AU=({ref:t,descriptor:e,env:n,windowScroll:i,direction:a,isDropDisabled:l,isCombineEnabled:c,shouldClipSubject:d})=>{const p=n.closestScrollable,m=wU(t,p),y=mh(m,i),_=(()=>{if(!p)return null;const S=V1(p),R={scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth};return{client:S,page:mh(S,i),scroll:Ry(p),scrollSize:R,shouldClipSubject:d}})();return SU({descriptor:e,isEnabled:!l,isCombineEnabled:c,isFixedOnPage:n.isFixedOnPage,direction:a,client:m,page:y,closest:_})};const RU={passive:!1},CU={passive:!0};var sS=t=>t.shouldPublishImmediately?RU:CU;const Sd=t=>t&&t.env.closestScrollable||null;function IU(t){const e=k.useRef(null),n=bh(Zh),i=o0("droppable"),{registry:a,marshal:l}=n,c=TR(t),d=it(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),p=k.useRef(d),m=it(()=>on((Z,X)=>{e.current||de();const se={x:Z,y:X};l.updateDroppableScroll(d.id,se)}),[d.id,l]),y=Ae(()=>{const Z=e.current;return!Z||!Z.env.closestScrollable?ln:Ry(Z.env.closestScrollable)},[]),_=Ae(()=>{const Z=y();m(Z.x,Z.y)},[y,m]),E=it(()=>Sc(_),[_]),S=Ae(()=>{const Z=e.current,X=Sd(Z);if(Z&&X||de(),Z.scrollOptions.shouldPublishImmediately){_();return}E()},[E,_]),R=Ae((Z,X)=>{e.current&&de();const se=c.current,P=se.getDroppableRef();P||de();const I=TU(P),C={ref:P,descriptor:d,env:I,scrollOptions:X};e.current=C;const x=AU({ref:P,descriptor:d,env:I,windowScroll:Z,direction:se.direction,isDropDisabled:se.isDropDisabled,isCombineEnabled:se.isCombineEnabled,shouldClipSubject:!se.ignoreContainerClipping}),V=I.closestScrollable;return V&&(V.setAttribute(JT.contextId,n.contextId),V.addEventListener("scroll",S,sS(C.scrollOptions))),x},[n.contextId,d,S,c]),M=Ae(()=>{const Z=e.current,X=Sd(Z);return Z&&X||de(),Ry(X)},[]),D=Ae(()=>{const Z=e.current;Z||de();const X=Sd(Z);e.current=null,X&&(E.cancel(),X.removeAttribute(JT.contextId),X.removeEventListener("scroll",S,sS(Z.scrollOptions)))},[S,E]),z=Ae(Z=>{const X=e.current;X||de();const se=Sd(X);se||de(),se.scrollTop+=Z.y,se.scrollLeft+=Z.x},[]),F=it(()=>({getDimensionAndWatchScroll:R,getScrollWhileDragging:M,dragStopped:D,scroll:z}),[D,R,M,z]),q=it(()=>({uniqueId:i,descriptor:d,callbacks:F}),[F,d,i]);Kn(()=>(p.current=q.descriptor,a.droppable.register(q),()=>{e.current&&D(),a.droppable.unregister(q)}),[F,d,D,q,l,a.droppable]),Kn(()=>{e.current&&l.updateDroppableIsEnabled(p.current.id,!t.isDropDisabled)},[t.isDropDisabled,l]),Kn(()=>{e.current&&l.updateDroppableIsCombineEnabled(p.current.id,t.isCombineEnabled)},[t.isCombineEnabled,l])}function Mg(){}const aS={width:0,height:0,margin:V6},DU=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>t||n==="close"?aS:{height:e.client.borderBox.height,width:e.client.borderBox.width,margin:e.client.margin},xU=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>{const i=DU({isAnimatingOpenOnMount:t,placeholder:e,animate:n});return{display:e.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?oc.placeholder:null}},OU=t=>{const e=k.useRef(null),n=Ae(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{animate:i,onTransitionEnd:a,onClose:l,contextId:c}=t,[d,p]=k.useState(t.animate==="open");k.useEffect(()=>d?i!=="open"?(n(),p(!1),Mg):e.current?Mg:(e.current=setTimeout(()=>{e.current=null,p(!1)}),n):Mg,[i,d,n]);const m=Ae(_=>{_.propertyName==="height"&&(a(),i==="close"&&l())},[i,l,a]),y=xU({isAnimatingOpenOnMount:d,animate:t.animate,placeholder:t.placeholder});return je.createElement(t.placeholder.tagName,{style:y,"data-rfd-placeholder-context-id":c,onTransitionEnd:m,ref:t.innerRef})};var NU=je.memo(OU);class PU extends je.PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,n){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const MU=t=>{const e=k.useContext(Zh);e||de();const{contextId:n,isMovementAllowed:i}=e,a=k.useRef(null),l=k.useRef(null),{children:c,droppableId:d,type:p,mode:m,direction:y,ignoreContainerClipping:_,isDropDisabled:E,isCombineEnabled:S,snapshot:R,useClone:M,updateViewportMaxScroll:D,getContainerForClone:z}=t,F=Ae(()=>a.current,[]),q=Ae((V=null)=>{a.current=V},[]);Ae(()=>l.current,[]);const Z=Ae((V=null)=>{l.current=V},[]),X=Ae(()=>{i()&&D({maxScroll:mR()})},[i,D]);IU({droppableId:d,type:p,mode:m,direction:y,isDropDisabled:E,isCombineEnabled:S,ignoreContainerClipping:_,getDroppableRef:F});const se=it(()=>je.createElement(PU,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:V,data:L,animate:O})=>je.createElement(NU,{placeholder:L,onClose:V,innerRef:Z,animate:O,contextId:n,onTransitionEnd:X})),[n,X,t.placeholder,t.shouldAnimatePlaceholder,Z]),P=it(()=>({innerRef:q,placeholder:se,droppableProps:{"data-rfd-droppable-id":d,"data-rfd-droppable-context-id":n}}),[n,d,se,q]),I=M?M.dragging.draggableId:null,C=it(()=>({droppableId:d,type:p,isUsingCloneFor:I}),[d,I,p]);function x(){if(!M)return null;const{dragging:V,render:L}=M,O=je.createElement(NR,{draggableId:V.draggableId,index:V.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(Ue,Ne)=>L(Ue,Ne,V));return jx.createPortal(O,z())}return je.createElement(u0.Provider,{value:C},c(P,R),x())};function kU(){return document.body||de(),document.body}const oS={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:kU},LR=t=>{let e={...t},n;for(n in oS)t[n]===void 0&&(e={...e,[n]:oS[n]});return e},kg=(t,e)=>t===e.droppable.type,lS=(t,e)=>e.draggables[t.draggable.id],VU=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e={...t,shouldAnimatePlaceholder:!1},n=on(l=>({draggableId:l.id,type:l.type,source:{index:l.index,droppableId:l.droppableId}})),i=on((l,c,d,p,m,y)=>{const _=m.descriptor.id;if(m.descriptor.droppableId===l){const R=y?{render:y,dragging:n(m.descriptor)}:null,M={isDraggingOver:d,draggingOverWith:d?_:null,draggingFromThisWith:_,isUsingPlaceholder:!0};return{placeholder:m.placeholder,shouldAnimatePlaceholder:!1,snapshot:M,useClone:R}}if(!c)return e;if(!p)return t;const S={isDraggingOver:d,draggingOverWith:_,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:m.placeholder,shouldAnimatePlaceholder:!0,snapshot:S,useClone:null}});return(l,c)=>{const d=LR(c),p=d.droppableId,m=d.type,y=!d.isDropDisabled,_=d.renderClone;if(Dc(l)){const E=l.critical;if(!kg(m,E))return e;const S=lS(E,l.dimensions),R=$n(l.impact)===p;return i(p,y,R,R,S,_)}if(l.phase==="DROP_ANIMATING"){const E=l.completed;if(!kg(m,E.critical))return e;const S=lS(E.critical,l.dimensions);return i(p,y,xR(E.result)===p,$n(E.impact)===p,S,_)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){const E=l.completed;if(!kg(m,E.critical))return e;const S=$n(E.impact)===p,R=!!(E.impact.at&&E.impact.at.type==="COMBINE"),M=E.critical.droppable.id===p;return S?R?t:e:M?t:e}return e}},LU={updateViewportMaxScroll:WL},UR=vS(VU,LU,(t,e,n)=>({...LR(n),...t,...e}),{context:a0,areStatePropsEqual:DR})(MU),UU=()=>{const[t,e]=k.useState(null),[n,i]=k.useState(!0);return k.useEffect(()=>{const a=KP(Lv,l=>{e(l),i(!1)});return()=>a()},[]),{user:t,loading:n}},BU=()=>{try{const t=localStorage.getItem("boardState");return t?JSON.parse(t):void 0}catch(t){console.error("  :",t);return}},zU=t=>{try{const e=JSON.stringify(t);localStorage.setItem("boardState",e)}catch(e){console.error("  :",e)}},uS=BU(),xc=fO({reducer:{auth:CV,board:kO,popup:UO},preloadedState:uS?{board:uS.board}:void 0});xc.subscribe(()=>{zU(xc.getState())});const jU=async t=>{const e=u1(T1,"boards",t),n=await EV(e);if(n.exists()){const i=n.data();if(i.columns&&i.columnOrder&&Array.isArray(i.columnOrder))return i}else console.log("    :",t);return null},FU=async(t,e)=>{const n=u1(T1,"boards",t);try{await TV(n,e),console.log("     Firebase!")}catch(i){console.error("     Firebase:",i)}},HU=t=>{k.useEffect(()=>{if(!t)return;const e=xc.subscribe(()=>{const n=xc.getState().board;FU(t,n)});return()=>e()},[t])},qU="_boardSkeleton_11yd4_12",GU="_column_11yd4_20",$U="_columnTitle_11yd4_31",KU="_card_11yd4_38",Pn={boardSkeleton:qU,column:GU,columnTitle:$U,card:KU},WU=()=>{const{theme:t}=Tn(e=>e.board);return G.jsxs("div",{className:`${Pn.boardSkeleton} ${t==="dark"?Pn.dark:""}`,children:[G.jsxs("div",{className:Pn.column,children:[G.jsx("div",{className:Pn.columnTitle}),G.jsx("div",{className:Pn.card}),G.jsx("div",{className:Pn.card})]}),G.jsxs("div",{className:Pn.column,children:[G.jsx("div",{className:Pn.columnTitle}),G.jsx("div",{className:Pn.card}),G.jsx("div",{className:Pn.card})]}),G.jsxs("div",{className:Pn.column,children:[G.jsx("div",{className:Pn.columnTitle}),G.jsx("div",{className:Pn.card}),G.jsx("div",{className:Pn.card})]})]})};var Vg={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var cS;function YU(){return cS||(cS=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var l="",c=0;c<arguments.length;c++){var d=arguments[c];d&&(l=a(l,i(d)))}return l}function i(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return n.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var c="";for(var d in l)e.call(l,d)&&l[d]&&(c=a(c,d));return c}function a(l,c){return c?l?l+" "+c:l+c:l}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(Vg)),Vg.exports}var QU=YU();const ll=Cy(QU),XU="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17.5%202.5L10.8333%209.58333M7.87167%209.2375C5.805%2010.0308%204.1525%209.895%202.5%209.24C2.91667%2014.6092%205.42%2016.6733%208.7575%2017.5C8.7575%2017.5%2011.2717%2015.7217%2011.6342%2011.5058C11.6733%2011.0492%2011.6925%2010.8217%2011.5983%2010.5642C11.5033%2010.3067%2011.3167%2010.1225%2010.9442%209.75333C10.3308%209.14667%2010.025%208.84333%209.66083%208.76667C9.29667%208.69167%208.82167%208.87333%207.87167%209.2375Z'%20stroke='white'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M3.75%2013.705C3.75%2013.705%205.83333%2014.1083%207.91667%2012.5'%20stroke='white'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M7.08333%206.04167C7.08333%206.31793%206.97359%206.58289%206.77824%206.77824C6.58289%206.97359%206.31793%207.08333%206.04167%207.08333C5.7654%207.08333%205.50045%206.97359%205.3051%206.77824C5.10975%206.58289%205%206.31793%205%206.04167C5%205.7654%205.10975%205.50045%205.3051%205.3051C5.50045%205.10975%205.7654%205%206.04167%205C6.31793%205%206.58289%205.10975%206.77824%205.3051C6.97359%205.50045%207.08333%205.7654%207.08333%206.04167Z'%20stroke='white'/%3e%3cpath%20d='M9.16699%203.33334V3.41668'%20stroke='white'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",ZU="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M15.8337%2010.8317H10.8337V15.8317H9.16699V10.8317H4.16699V9.16501H9.16699V4.16501H10.8337V9.16501H15.8337V10.8317Z'%20fill='white'/%3e%3c/svg%3e",JU="_selectWrapper_19dy5_69",eB="_selected_19dy5_77",tB="_open_19dy5_85",nB="_options_19dy5_94",rB="_option_19dy5_94",Ku={selectWrapper:JU,selected:eB,open:tB,options:nB,option:rB},qa={high:"linear-gradient(135.00deg, rgba(255, 90, 95, 1),rgba(127.5, 45, 47.5, 0.6))",medium:"linear-gradient(135.00deg, rgba(83.11, 136.83, 189.67, 1),rgba(50.74, 85.81, 120.32, 0.6))",low:"linear-gradient(135.00deg, rgba(77.61, 130.05, 93.34, 1),rgba(33.48, 56.1, 40.27, 0.6))",none:"linear-gradient(135.00deg, rgba(239, 239, 239, 0.05) -12213.66%,rgba(255, 255, 255, 0.01) -12113.662%)"},fS=[{value:"none",label:" "},{value:"high",label:""},{value:"medium",label:""},{value:"low",label:""}],iB=({selected:t,onSelect:e})=>{var l;const[n,i]=k.useState(!1),a=k.useRef(null);return k.useEffect(()=>{function c(d){a.current&&!a.current.contains(d.target)&&i(!1)}return n?document.addEventListener("mousedown",c):document.removeEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[n]),G.jsxs("div",{ref:a,className:`${Ku.selectWrapper} ${n?Ku.open:""}`,children:[G.jsx("div",{className:Ku.selected,style:{backgroundColor:qa[t]||"#fff"},onClick:()=>i(!n),children:((l=fS.find(c=>c.value===t))==null?void 0:l.label)||" "}),n&&G.jsx("ul",{className:Ku.options,children:fS.map(c=>G.jsx("li",{className:Ku.option,style:{backgroundColor:qa[c.value]},onMouseEnter:d=>d.currentTarget.style.opacity="0.7",onMouseLeave:d=>d.currentTarget.style.opacity="1",onClick:()=>{e(c.value),i(!1)},children:c.label},c.value))})]})},sB="_taskForm_tn450_69",aB="_dark_tn450_76",oB="_input_tn450_80",lB="_formControls_tn450_88",uB="_cancelButton_tn450_94",cB="_submitButton_tn450_106",Xo={taskForm:sB,dark:aB,input:oB,formControls:lB,cancelButton:uB,submitButton:cB},fB=({isActive:t,columnId:e,onClose:n})=>{const i=Vn(),{theme:a}=Tn(y=>y.board),[l,c]=k.useState(""),[d,p]=k.useState("none"),m=()=>{if(l.trim()){const y={id:`task-${Date.now()}`,title:l,description:"",priority:d};i(AO({columnId:e,task:y})),c(""),p("none"),n()}};return t?G.jsxs("div",{className:`${Xo.taskForm} ${a==="dark"?Xo.dark:""}`,children:[G.jsx("input",{type:"text",value:l,onChange:y=>c(y.target.value),placeholder:"Task title",className:Xo.input,onKeyPress:y=>y.key==="Enter"&&m()}),G.jsx(iB,{onSelect:y=>p(y),selected:d}),G.jsxs("div",{className:Xo.formControls,children:[G.jsx("button",{onClick:m,className:Xo.submitButton,children:""}),G.jsx("button",{onClick:n,className:Xo.cancelButton,children:""})]})]}):null},dB="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4.66699%204.66669H4.00033C3.6467%204.66669%203.30756%204.80716%203.05752%205.05721C2.80747%205.30726%202.66699%205.6464%202.66699%206.00002V12C2.66699%2012.3536%202.80747%2012.6928%203.05752%2012.9428C3.30756%2013.1929%203.6467%2013.3334%204.00033%2013.3334H10.0003C10.3539%2013.3334%2010.6931%2013.1929%2010.9431%2012.9428C11.1932%2012.6928%2011.3337%2012.3536%2011.3337%2012V11.3334'%20stroke='white'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M10.6667%203.33334L12.6667%205.33334M13.59%204.39001C13.8526%204.12745%2014.0001%203.77133%2014.0001%203.40001C14.0001%203.02869%2013.8526%202.67257%2013.59%202.41001C13.3274%202.14745%2012.9713%201.99994%2012.6%201.99994C12.2287%201.99994%2011.8726%202.14745%2011.61%202.41001L6%208.00001V10H8L13.59%204.39001Z'%20stroke='white'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",hB="data:image/svg+xml,%3csvg%20width='14'%20height='14'%20viewBox='0%200%2014%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_70_307)'%3e%3cpath%20d='M7.00774%200.252014C3.28095%200.252014%200.259766%203.2732%200.259766%206.99999C0.259766%208.19032%200.579496%209.30233%201.10893%2010.2796C1.78552%2011.5285%204.39663%206.74298%205.78922%207.78593C7.18181%208.82887%202.48183%2012.2248%203.78768%2012.9206C4.75161%2013.4343%205.83945%2013.748%207.00774%2013.748C10.7345%2013.748%2013.7557%2010.7268%2013.7557%206.99999C13.7557%203.27317%2010.7346%200.252014%207.00774%200.252014Z'%20fill='%23E5AA6E'/%3e%3cpath%20d='M7.51487%2012.348C6.85405%2012.348%206.31836%2011.8678%206.31836%2011.2753C6.31836%2010.6829%206.85405%2010.2026%207.51487%2010.2026C8.17568%2010.2026%208.71138%2010.6829%208.71138%2011.2753C8.71138%2011.8678%208.17568%2012.348%207.51487%2012.348Z'%20fill='white'/%3e%3cpath%20d='M11.9206%208.18319C12.2681%208.71697%2012.0844%209.45263%2011.5104%209.82633C10.9363%2010.2%2010.1893%2010.0703%209.84179%209.53652C9.4943%209.00274%209.67797%208.26708%2010.2521%207.89338C10.8261%207.51964%2011.5731%207.64942%2011.9206%208.18319Z'%20fill='%23FFD469'/%3e%3cpath%20d='M12.1189%204.35048C12.1626%204.98589%2011.644%205.53908%2010.9606%205.58609C10.2773%205.63309%209.68787%205.15608%209.64417%204.52067C9.60048%203.88525%2010.119%203.33206%2010.8024%203.28506C11.4858%203.23805%2012.0752%203.71506%2012.1189%204.35048Z'%20fill='%230074A8'/%3e%3cpath%20d='M7.87032%202.74388C7.91401%203.3793%207.27917%203.9405%206.45235%203.99735C5.62553%204.0542%204.91985%203.5852%204.87615%202.94978C4.83246%202.31437%205.46729%201.75317%206.29412%201.69632C7.12094%201.63947%207.82662%202.10847%207.87032%202.74388Z'%20fill='%23FF473E'/%3e%3cpath%20d='M4.26047%205.50416C4.30416%206.13958%203.78561%206.69277%203.10224%206.73977C2.41886%206.78678%201.82947%206.30977%201.78577%205.67435C1.74208%205.03894%202.26063%204.48575%202.944%204.43874C3.62738%204.39174%204.21677%204.86875%204.26047%205.50416Z'%20fill='%23009B51'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_70_307'%3e%3crect%20width='14'%20height='14'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",pB="_priorityMenuContainer_rnran_1",mB="_priorityButton_rnran_6",gB="_buttonIcon_rnran_15",yB="_dropdown_rnran_27",vB="_active_rnran_47",ks={priorityMenuContainer:pB,priorityButton:mB,buttonIcon:gB,dropdown:yB,active:vB},_B=({selectedPriority:t,taskId:e})=>{const[n,i]=k.useState(!1),a=Vn(),l=k.useRef(null),c=k.useRef(null),d=p=>{a(CO({taskId:e,priority:p})),i(!1)};return k.useEffect(()=>{const p=m=>{c.current&&!c.current.contains(m.target)&&l.current&&!l.current.contains(m.target)&&i(!1)};return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[]),G.jsxs("div",{className:ks.priorityMenuContainer,children:[G.jsx("button",{ref:l,onClick:()=>i(!n),className:ll(ks.priorityButton,"tooltip"),"data-tooltip":" ",children:G.jsx("img",{className:ks.buttonIcon,src:hB,alt:" "})}),n&&G.jsxs("div",{ref:c,className:ks.dropdown,children:[G.jsx("button",{className:`${t==="high"?ks.active:""}`,onClick:()=>d("high"),style:{background:qa.high}}),G.jsx("button",{className:`${t==="medium"?ks.active:""}`,onClick:()=>d("medium"),style:{background:qa.medium}}),G.jsx("button",{className:`${t==="low"?ks.active:""}`,onClick:()=>d("low"),style:{background:qa.low}}),G.jsx("button",{className:`${t==="none"||!t?ks.active:""}`,onClick:()=>d("none"),style:{background:qa.none}})]})]})},EB="_form_1p9as_69",bB="_input_1p9as_75",TB="_textarea_1p9as_75",SB="_formControls_1p9as_91",wB="_cancelButton_1p9as_97",AB="_submitButton_1p9as_109",Zo={form:EB,input:bB,textarea:TB,formControls:SB,cancelButton:wB,submitButton:AB},RB=({task:t,onClose:e})=>{const n=Vn(),[i,a]=k.useState(t.title),[l,c]=k.useState(t.description),d=()=>{i.trim()&&(n(RO({...t,title:i,description:l})),e())};return G.jsxs("div",{className:Zo.form,children:[G.jsx("input",{type:"text",value:i,onChange:p=>a(p.target.value),className:Zo.input,placeholder:"Task title"}),G.jsx("textarea",{value:l,onChange:p=>c(p.target.value),className:Zo.textarea,placeholder:"Description",rows:3}),G.jsxs("div",{className:Zo.formControls,children:[G.jsx("button",{className:Zo.cancelButton,onClick:e,children:"Cancel"}),G.jsx("button",{onClick:d,className:Zo.submitButton,children:"Save"})]})]})},CB="_task_om9pc_1",IB="_header_om9pc_8",DB="_controls_om9pc_16",xB="_taskButton_om9pc_20",OB="_buttonIcon_om9pc_29",NB="_body_om9pc_41",Li={task:CB,header:IB,controls:DB,taskButton:xB,buttonIcon:OB,body:NB},PB=({task:t,columnId:e,index:n})=>{const i=Vn(),[a,l]=k.useState(!1),c=()=>{i(Wg({type:"task",targetId:{taskId:t.id,columnId:e}}))};return G.jsx(PR,{draggableId:t.id,index:n,children:d=>G.jsx("div",{ref:d.innerRef,...d.draggableProps,...d.dragHandleProps,className:Li.task,style:{...d.draggableProps.style,background:t.priority!=="none"?qa[t.priority]:void 0},children:G.jsxs("div",{children:[G.jsx("div",{className:Li.header,children:G.jsxs("div",{className:Li.controls,children:[G.jsx(_B,{taskId:t.id,selectedPriority:t.priority}),G.jsx("button",{onClick:()=>l(!a),className:ll(Li.taskButton,"tooltip"),"data-tooltip":" ",children:G.jsx("img",{className:Li.buttonCEditIcon,src:dB,alt:" "})}),G.jsx("button",{onClick:c,className:ll(Li.taskButton,Li.closeButton,"tooltip"),"data-tooltip":" ",children:G.jsx("img",{className:Li.buttonIcon,src:qy,alt:" "})})]})}),a?G.jsx(RB,{task:t,onClose:()=>l(!1)}):G.jsxs("div",{className:Li.body,children:[G.jsx("h3",{children:t.title}),t.description&&G.jsx("p",{className:"text-body",children:t.description}),t.createdAt&&G.jsxs("p",{className:"text-body-dull",children:[":"," ",new Date(t.createdAt).toLocaleString("ru-RU",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]})})})},MB="_column_1t6su_1",kB="_header_1t6su_10",VB="_controls_1t6su_18",LB="_columnButton_1t6su_22",UB="_buttonIcon_1t6su_31",BB="_deleteButton_1t6su_35",zB="_clearButton_1t6su_38",jB="_dropArea_1t6su_42",qn={column:MB,header:kB,controls:VB,columnButton:LB,buttonIcon:UB,deleteButton:BB,clearButton:zB,dropArea:jB},FB=({column:t,tasks:e,index:n})=>{const i=Vn(),[a,l]=k.useState(!1),c=()=>{l(m=>!m)},d=()=>{i(Wg({type:"column",targetId:{columnId:t.id}}))},p=()=>{i(Wg({type:"clear-tasks",targetId:{columnId:t.id}}))};return G.jsx(PR,{draggableId:t.id,index:n,children:m=>G.jsxs("div",{...m.draggableProps,ref:m.innerRef,className:qn.column,children:[G.jsxs("div",{...m.dragHandleProps,className:qn.header,children:[G.jsx("h2",{children:t.title}),G.jsxs("div",{className:qn.controls,children:[G.jsx("button",{onClick:c,className:ll(qn.columnButton,"tooltip"),"data-tooltip":" ",children:G.jsx("img",{className:qn.buttonIcon,src:ZU,alt:" "})}),G.jsx("button",{"data-tooltip":" ",className:ll(qn.columnButton,qn.clearButton,"tooltip"),onClick:p,children:G.jsx("img",{className:qn.buttonIcon,src:XU,alt:" "})}),G.jsx("button",{onClick:d,"data-tooltip":" ",className:ll(qn.columnButton,qn.deleteButton,"tooltip"),children:G.jsx("img",{className:qn.buttonIcon,src:qy,alt:" "})})]})]}),G.jsx(fB,{isActive:a,columnId:t.id,onClose:()=>l(!1)}),G.jsx(UR,{droppableId:t.id,type:"task",children:(y,_)=>G.jsxs("div",{ref:y.innerRef,...y.droppableProps,className:`${qn.dropArea} ${_.isDraggingOver?qn.isDraggingOver:""}`,children:[e.map((E,S)=>G.jsx(PB,{task:E,index:S,columnId:t.id},E.id)),y.placeholder]})})]})})},HB="_board_1whsb_1",qB="_boardContainer_1whsb_5",GB="_addColumnButton_1whsb_13",Lg={board:HB,boardContainer:qB,addColumnButton:GB},$B=()=>{const{columns:t,columnOrder:e,tasks:n}=Tn(p=>p.board),i=Tn(p=>p.board),a=Vn(),{user:l}=UU(),[c,d]=k.useState(!0);return k.useEffect(()=>{(async()=>{if(l!=null&&l.uid)try{d(!0);const m=await jU(l.uid);m&&JSON.stringify(m)!==JSON.stringify(i)&&a(wO(m))}catch(m){console.error("   :",m)}finally{d(!1)}})()},[l,a]),HU(l==null?void 0:l.uid),c?G.jsx(WU,{}):G.jsx("div",{className:Lg.board,children:G.jsx(UR,{droppableId:"board",type:"column",direction:"horizontal",children:p=>G.jsxs("div",{...p.droppableProps,ref:p.innerRef,className:Lg.boardContainer,children:[e.map((m,y)=>{const _=t[m],E=_.taskIds.map(S=>n[S]);return G.jsx(FB,{column:_,tasks:E,index:y},_.id)}),p.placeholder,G.jsxs("button",{className:Lg.addColumnButton,onClick:()=>{a(LO())},children:[G.jsx(o3,{})," ",G.jsx("h3",{children:" "})]})]})})})},KB=()=>{const t=Vn(),e=n=>{const{destination:i,source:a,draggableId:l,type:c}=n;if(i&&!(i.droppableId===a.droppableId&&i.index===a.index)){if(c==="column"){t(OO({sourceIndex:a.index,destIndex:i.index}));return}c==="task"&&t(IO({sourceColId:a.droppableId,destColId:i.droppableId,sourceIndex:a.index,destIndex:i.index,taskId:l}))}};return G.jsx(J7,{onDragEnd:e,children:G.jsx($B,{})})},WB="_content_1mpwv_1",YB={content:WB},QB=()=>G.jsxs("div",{className:YB.content,children:[G.jsx("h1",{children:"404 -   "}),G.jsx(Ah,{to:"/",children:"  "})]}),XB="_authPage_u8f38_1",ZB="_error_u8f38_9",dS={authPage:XB,error:ZB},JB=()=>{const t=Nc(),e=Vn(),{isLoading:n}=Tn(c=>c.auth),[i,a]=k.useState(null),l=async({email:c,password:d})=>{e(Uv());try{await v6(c,d),e(ST()),t("/login")}catch(p){a(p.message),e(ST())}};return G.jsxs("div",{className:dS.authPage,children:[n?G.jsx(Bv,{}):G.jsx(M1,{onSubmit:l,type:"register"}),i&&G.jsxs("p",{className:dS.error,children:[": ",i]})]})},e8="_container_r9l69_1",t8={container:e8},n8=()=>{const t=Vn(),{theme:e}=Tn(i=>i.board),{isLoading:n}=Tn(i=>i.auth);return k.useEffect(()=>{document.documentElement.setAttribute("theme",e)},[e]),k.useEffect(()=>{t(Uv());const i=Lv.onAuthStateChanged(a=>{t(a?w1({email:a.email,token:a.refreshToken,id:a.uid}):A1())});return()=>i()},[t]),G.jsxs(G.Fragment,{children:[G.jsxs("div",{className:t8.container,children:[G.jsx(zV,{}),n?G.jsx(Bv,{}):G.jsxs(lx,{children:[G.jsxs(Ua,{path:"/",element:G.jsx(qV,{}),children:[G.jsx(Ua,{index:!0,path:"login",element:G.jsx(T6,{})}),G.jsx(Ua,{path:"register",element:G.jsx(JB,{})})]}),G.jsx(Ua,{path:"/board",element:G.jsx(HV,{}),children:G.jsx(Ua,{index:!0,element:G.jsx(KB,{})})}),G.jsx(Ua,{path:"*",element:G.jsx(QB,{})})]})]}),G.jsx(KO,{}),G.jsx(QO,{})]})},r8=Ox;yI.createRoot(document.getElementById("root")).render(G.jsx(k.StrictMode,{children:G.jsx(r8,{children:G.jsx(_S,{store:xc,children:G.jsx(n8,{})})})}));
