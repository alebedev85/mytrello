(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function rA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var eg={exports:{}},ku={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function nD(){if(o0)return ku;o0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return ku.Fragment=e,ku.jsx=n,ku.jsxs=n,ku}var l0;function rD(){return l0||(l0=1,eg.exports=nD()),eg.exports}var Y=rD(),tg={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function iD(){if(u0)return ze;u0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function E(B){return B===null||typeof B!="object"?null:(B=_&&B[_]||B["@@iterator"],typeof B=="function"?B:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,M={};function D(B,oe,be){this.props=B,this.context=oe,this.refs=M,this.updater=be||S}D.prototype.isReactComponent={},D.prototype.setState=function(B,oe){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,oe,"setState")},D.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function z(){}z.prototype=D.prototype;function F(B,oe,be){this.props=B,this.context=oe,this.refs=M,this.updater=be||S}var q=F.prototype=new z;q.constructor=F,w(q,D.prototype),q.isPureReactComponent=!0;var Z=Array.isArray,X={H:null,A:null,T:null,S:null},se=Object.prototype.hasOwnProperty;function P(B,oe,be,me,ge,Me){return be=Me.ref,{$$typeof:t,type:B,key:oe,ref:be!==void 0?be:null,props:Me}}function I(B,oe){return P(B.type,oe,void 0,void 0,void 0,B.props)}function C(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function O(B){var oe={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(be){return oe[be]})}var V=/\/+/g;function L(B,oe){return typeof B=="object"&&B!==null&&B.key!=null?O(""+B.key):oe.toString(36)}function x(){}function Ue(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(x,x):(B.status="pending",B.then(function(oe){B.status==="pending"&&(B.status="fulfilled",B.value=oe)},function(oe){B.status==="pending"&&(B.status="rejected",B.reason=oe)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function Ne(B,oe,be,me,ge){var Me=typeof B;(Me==="undefined"||Me==="boolean")&&(B=null);var Oe=!1;if(B===null)Oe=!0;else switch(Me){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(B.$$typeof){case t:case e:Oe=!0;break;case y:return Oe=B._init,Ne(Oe(B._payload),oe,be,me,ge)}}if(Oe)return ge=ge(B),Oe=me===""?"."+L(B,0):me,Z(ge)?(be="",Oe!=null&&(be=Oe.replace(V,"$&/")+"/"),Ne(ge,oe,be,"",function(lt){return lt})):ge!=null&&(C(ge)&&(ge=I(ge,be+(ge.key==null||B&&B.key===ge.key?"":(""+ge.key).replace(V,"$&/")+"/")+Oe)),oe.push(ge)),1;Oe=0;var mt=me===""?".":me+":";if(Z(B))for(var qe=0;qe<B.length;qe++)me=B[qe],Me=mt+L(me,qe),Oe+=Ne(me,oe,be,Me,ge);else if(qe=E(B),typeof qe=="function")for(B=qe.call(B),qe=0;!(me=B.next()).done;)me=me.value,Me=mt+L(me,qe++),Oe+=Ne(me,oe,be,Me,ge);else if(Me==="object"){if(typeof B.then=="function")return Ne(Ue(B),oe,be,me,ge);throw oe=String(B),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function ue(B,oe,be){if(B==null)return B;var me=[],ge=0;return Ne(B,me,"","",function(Me){return oe.call(be,Me,ge++)}),me}function Ee(B){if(B._status===-1){var oe=B._result;oe=oe(),oe.then(function(be){(B._status===0||B._status===-1)&&(B._status=1,B._result=be)},function(be){(B._status===0||B._status===-1)&&(B._status=2,B._result=be)}),B._status===-1&&(B._status=0,B._result=oe)}if(B._status===1)return B._result.default;throw B._result}var ve=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function je(){}return ze.Children={map:ue,forEach:function(B,oe,be){ue(B,function(){oe.apply(this,arguments)},be)},count:function(B){var oe=0;return ue(B,function(){oe++}),oe},toArray:function(B){return ue(B,function(oe){return oe})||[]},only:function(B){if(!C(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},ze.Component=D,ze.Fragment=n,ze.Profiler=a,ze.PureComponent=F,ze.StrictMode=i,ze.Suspense=p,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,ze.act=function(){throw Error("act(...) is not supported in production builds of React.")},ze.cache=function(B){return function(){return B.apply(null,arguments)}},ze.cloneElement=function(B,oe,be){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var me=w({},B.props),ge=B.key,Me=void 0;if(oe!=null)for(Oe in oe.ref!==void 0&&(Me=void 0),oe.key!==void 0&&(ge=""+oe.key),oe)!se.call(oe,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&oe.ref===void 0||(me[Oe]=oe[Oe]);var Oe=arguments.length-2;if(Oe===1)me.children=be;else if(1<Oe){for(var mt=Array(Oe),qe=0;qe<Oe;qe++)mt[qe]=arguments[qe+2];me.children=mt}return P(B.type,ge,void 0,void 0,Me,me)},ze.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:l,_context:B},B},ze.createElement=function(B,oe,be){var me,ge={},Me=null;if(oe!=null)for(me in oe.key!==void 0&&(Me=""+oe.key),oe)se.call(oe,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(ge[me]=oe[me]);var Oe=arguments.length-2;if(Oe===1)ge.children=be;else if(1<Oe){for(var mt=Array(Oe),qe=0;qe<Oe;qe++)mt[qe]=arguments[qe+2];ge.children=mt}if(B&&B.defaultProps)for(me in Oe=B.defaultProps,Oe)ge[me]===void 0&&(ge[me]=Oe[me]);return P(B,Me,void 0,void 0,null,ge)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(B){return{$$typeof:f,render:B}},ze.isValidElement=C,ze.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:Ee}},ze.memo=function(B,oe){return{$$typeof:m,type:B,compare:oe===void 0?null:oe}},ze.startTransition=function(B){var oe=X.T,be={};X.T=be;try{var me=B(),ge=X.S;ge!==null&&ge(be,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(je,ve)}catch(Me){ve(Me)}finally{X.T=oe}},ze.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},ze.use=function(B){return X.H.use(B)},ze.useActionState=function(B,oe,be){return X.H.useActionState(B,oe,be)},ze.useCallback=function(B,oe){return X.H.useCallback(B,oe)},ze.useContext=function(B){return X.H.useContext(B)},ze.useDebugValue=function(){},ze.useDeferredValue=function(B,oe){return X.H.useDeferredValue(B,oe)},ze.useEffect=function(B,oe){return X.H.useEffect(B,oe)},ze.useId=function(){return X.H.useId()},ze.useImperativeHandle=function(B,oe,be){return X.H.useImperativeHandle(B,oe,be)},ze.useInsertionEffect=function(B,oe){return X.H.useInsertionEffect(B,oe)},ze.useLayoutEffect=function(B,oe){return X.H.useLayoutEffect(B,oe)},ze.useMemo=function(B,oe){return X.H.useMemo(B,oe)},ze.useOptimistic=function(B,oe){return X.H.useOptimistic(B,oe)},ze.useReducer=function(B,oe,be){return X.H.useReducer(B,oe,be)},ze.useRef=function(B){return X.H.useRef(B)},ze.useState=function(B){return X.H.useState(B)},ze.useSyncExternalStore=function(B,oe,be){return X.H.useSyncExternalStore(B,oe,be)},ze.useTransition=function(){return X.H.useTransition()},ze.version="19.0.0",ze}var c0;function wh(){return c0||(c0=1,tg.exports=iD()),tg.exports}var k=wh();const Fe=rA(k);var ng={exports:{}},Vu={},rg={exports:{}},ig={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function sD(){return f0||(f0=1,function(t){function e(ue,Ee){var ve=ue.length;ue.push(Ee);e:for(;0<ve;){var je=ve-1>>>1,B=ue[je];if(0<a(B,Ee))ue[je]=Ee,ue[ve]=B,ve=je;else break e}}function n(ue){return ue.length===0?null:ue[0]}function i(ue){if(ue.length===0)return null;var Ee=ue[0],ve=ue.pop();if(ve!==Ee){ue[0]=ve;e:for(var je=0,B=ue.length,oe=B>>>1;je<oe;){var be=2*(je+1)-1,me=ue[be],ge=be+1,Me=ue[ge];if(0>a(me,ve))ge<B&&0>a(Me,me)?(ue[je]=Me,ue[ge]=ve,je=ge):(ue[je]=me,ue[be]=ve,je=be);else if(ge<B&&0>a(Me,ve))ue[je]=Me,ue[ge]=ve,je=ge;else break e}}return Ee}function a(ue,Ee){var ve=ue.sortIndex-Ee.sortIndex;return ve!==0?ve:ue.id-Ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var p=[],m=[],y=1,_=null,E=3,S=!1,w=!1,M=!1,D=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function q(ue){for(var Ee=n(m);Ee!==null;){if(Ee.callback===null)i(m);else if(Ee.startTime<=ue)i(m),Ee.sortIndex=Ee.expirationTime,e(p,Ee);else break;Ee=n(m)}}function Z(ue){if(M=!1,q(ue),!w)if(n(p)!==null)w=!0,Ue();else{var Ee=n(m);Ee!==null&&Ne(Z,Ee.startTime-ue)}}var X=!1,se=-1,P=5,I=-1;function C(){return!(t.unstable_now()-I<P)}function O(){if(X){var ue=t.unstable_now();I=ue;var Ee=!0;try{e:{w=!1,M&&(M=!1,z(se),se=-1),S=!0;var ve=E;try{t:{for(q(ue),_=n(p);_!==null&&!(_.expirationTime>ue&&C());){var je=_.callback;if(typeof je=="function"){_.callback=null,E=_.priorityLevel;var B=je(_.expirationTime<=ue);if(ue=t.unstable_now(),typeof B=="function"){_.callback=B,q(ue),Ee=!0;break t}_===n(p)&&i(p),q(ue)}else i(p);_=n(p)}if(_!==null)Ee=!0;else{var oe=n(m);oe!==null&&Ne(Z,oe.startTime-ue),Ee=!1}}break e}finally{_=null,E=ve,S=!1}Ee=void 0}}finally{Ee?V():X=!1}}}var V;if(typeof F=="function")V=function(){F(O)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,x=L.port2;L.port1.onmessage=O,V=function(){x.postMessage(null)}}else V=function(){D(O,0)};function Ue(){X||(X=!0,V())}function Ne(ue,Ee){se=D(function(){ue(t.unstable_now())},Ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ue){ue.callback=null},t.unstable_continueExecution=function(){w||S||(w=!0,Ue())},t.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ue?Math.floor(1e3/ue):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(ue){switch(E){case 1:case 2:case 3:var Ee=3;break;default:Ee=E}var ve=E;E=Ee;try{return ue()}finally{E=ve}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ue,Ee){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var ve=E;E=ue;try{return Ee()}finally{E=ve}},t.unstable_scheduleCallback=function(ue,Ee,ve){var je=t.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?je+ve:je):ve=je,ue){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ve+B,ue={id:y++,callback:Ee,priorityLevel:ue,startTime:ve,expirationTime:B,sortIndex:-1},ve>je?(ue.sortIndex=ve,e(m,ue),n(p)===null&&ue===n(m)&&(M?(z(se),se=-1):M=!0,Ne(Z,ve-je))):(ue.sortIndex=B,e(p,ue),w||S||(w=!0,Ue())),ue},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(ue){var Ee=E;return function(){var ve=E;E=Ee;try{return ue.apply(this,arguments)}finally{E=ve}}}}(ig)),ig}var d0;function aD(){return d0||(d0=1,rg.exports=sD()),rg.exports}var sg={exports:{}},_n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function oD(){if(h0)return _n;h0=1;var t=wh();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:p,containerInfo:m,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,_n.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(p,m,null,y)},_n.flushSync=function(p){var m=c.T,y=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=m,i.p=y,i.d.f()}},_n.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},_n.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},_n.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,_=f(y,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:S}):y==="script"&&i.d.X(p,{crossOrigin:_,integrity:E,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},_n.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=f(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},_n.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=f(y,m.crossOrigin);i.d.L(p,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},_n.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=f(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},_n.requestFormReset=function(p){i.d.r(p)},_n.unstable_batchedUpdates=function(p,m){return p(m)},_n.useFormState=function(p,m,y){return c.H.useFormState(p,m,y)},_n.useFormStatus=function(){return c.H.useHostTransitionStatus()},_n.version="19.0.0",_n}var p0;function iA(){if(p0)return sg.exports;p0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sg.exports=oD(),sg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function lD(){if(m0)return Vu;m0=1;var t=aD(),e=wh(),n=iA();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),S=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),Z=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function se(r){return r===null||typeof r!="object"?null:(r=X&&r[X]||r["@@iterator"],typeof r=="function"?r:null)}var P=Symbol.for("react.client.reference");function I(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===P?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case p:return"Fragment";case f:return"Portal";case y:return"Profiler";case m:return"StrictMode";case M:return"Suspense";case D:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case S:return(r.displayName||"Context")+".Provider";case E:return(r._context.displayName||"Context")+".Consumer";case w:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case z:return s=r.displayName||null,s!==null?s:I(r.type)||"Memo";case F:s=r._payload,r=r._init;try{return I(r(s))}catch{}}return null}var C=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=Object.assign,V,L;function x(r){if(V===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);V=s&&s[1]||"",L=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+r+L}var Ue=!1;function Ne(r,s){if(!r||Ue)return"";Ue=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(te){var Q=te}Reflect.construct(r,[],ae)}else{try{ae.call()}catch(te){Q=te}r.call(ae.prototype)}}else{try{throw Error()}catch(te){Q=te}(ae=r())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(te){if(te&&Q&&typeof te.stack=="string")return[te.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],A=g[1];if(T&&A){var N=T.split(`
`),H=A.split(`
`);for(h=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(u===N.length||h===H.length)for(u=N.length-1,h=H.length-1;1<=u&&0<=h&&N[u]!==H[h];)h--;for(;1<=u&&0<=h;u--,h--)if(N[u]!==H[h]){if(u!==1||h!==1)do if(u--,h--,0>h||N[u]!==H[h]){var ne=`
`+N[u].replace(" at new "," at ");return r.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",r.displayName)),ne}while(1<=u&&0<=h);break}}}finally{Ue=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?x(o):""}function ue(r){switch(r.tag){case 26:case 27:case 5:return x(r.type);case 16:return x("Lazy");case 13:return x("Suspense");case 19:return x("SuspenseList");case 0:case 15:return r=Ne(r.type,!1),r;case 11:return r=Ne(r.type.render,!1),r;case 1:return r=Ne(r.type,!0),r;default:return""}}function Ee(r){try{var s="";do s+=ue(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ve(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function je(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function B(r){if(ve(r)!==r)throw Error(i(188))}function oe(r){var s=r.alternate;if(!s){if(s=ve(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var h=o.return;if(h===null)break;var g=h.alternate;if(g===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===o)return B(h),r;if(g===u)return B(h),s;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=h,u=g;else{for(var T=!1,A=h.child;A;){if(A===o){T=!0,o=h,u=g;break}if(A===u){T=!0,u=h,o=g;break}A=A.sibling}if(!T){for(A=g.child;A;){if(A===o){T=!0,o=g,u=h;break}if(A===u){T=!0,u=g,o=h;break}A=A.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function be(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=be(r),s!==null)return s;r=r.sibling}return null}var me=Array.isArray,ge=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Me={pending:!1,data:null,method:null,action:null},Oe=[],mt=-1;function qe(r){return{current:r}}function lt(r){0>mt||(r.current=Oe[mt],Oe[mt]=null,mt--)}function Xe(r,s){mt++,Oe[mt]=r.current,r.current=s}var Ft=qe(null),_t=qe(null),Ot=qe(null),_r=qe(null);function ui(r,s){switch(Xe(Ot,s),Xe(_t,r),Xe(Ft,null),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?Vb(s):0;break;default:if(r=r===8?s.parentNode:s,s=r.tagName,r=r.namespaceURI)r=Vb(r),s=Lb(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}lt(Ft),Xe(Ft,s)}function Mr(){lt(Ft),lt(_t),lt(Ot)}function lo(r){r.memoizedState!==null&&Xe(_r,r);var s=Ft.current,o=Lb(s,r.type);s!==o&&(Xe(_t,r),Xe(Ft,o))}function U(r){_t.current===r&&(lt(Ft),lt(_t)),_r.current===r&&(lt(_r),Ou._currentValue=Me)}var W=Object.prototype.hasOwnProperty,ee=t.unstable_scheduleCallback,pe=t.unstable_cancelCallback,he=t.unstable_shouldYield,ce=t.unstable_requestPaint,_e=t.unstable_now,Be=t.unstable_getCurrentPriorityLevel,Ge=t.unstable_ImmediatePriority,Ke=t.unstable_UserBlockingPriority,Xt=t.unstable_NormalPriority,uo=t.unstable_LowPriority,ci=t.unstable_IdlePriority,sa=t.log,fi=t.unstable_setDisableYieldValue,Er=null,Zt=null;function Zi(r){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Er,r,void 0,(r.current.flags&128)===128)}catch{}}function kr(r){if(typeof sa=="function"&&fi(r),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(Er,r)}catch{}}var An=Math.clz32?Math.clz32:$c,Ml=Math.log,Gc=Math.LN2;function $c(r){return r>>>=0,r===0?32:31-(Ml(r)/Gc|0)|0}var Vr=128,Ji=4194304;function br(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Wn(r,s){var o=r.pendingLanes;if(o===0)return 0;var u=0,h=r.suspendedLanes,g=r.pingedLanes,T=r.warmLanes;r=r.finishedLanes!==0;var A=o&134217727;return A!==0?(o=A&~h,o!==0?u=br(o):(g&=A,g!==0?u=br(g):r||(T=A&~T,T!==0&&(u=br(T))))):(A=o&~h,A!==0?u=br(A):g!==0?u=br(g):r||(T=o&~T,T!==0&&(u=br(T)))),u===0?0:s!==0&&s!==u&&!(s&h)&&(h=u&-u,T=s&-s,h>=T||h===32&&(T&4194176)!==0)?s:u}function es(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function co(r,s){switch(r){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kl(){var r=Vr;return Vr<<=1,!(Vr&4194176)&&(Vr=128),r}function ts(){var r=Ji;return Ji<<=1,!(Ji&62914560)&&(Ji=4194304),r}function fo(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function xt(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Kc(r,s,o,u,h,g){var T=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var A=r.entanglements,N=r.expirationTimes,H=r.hiddenUpdates;for(o=T&~o;0<o;){var ne=31-An(o),ae=1<<ne;A[ne]=0,N[ne]=-1;var Q=H[ne];if(Q!==null)for(H[ne]=null,ne=0;ne<Q.length;ne++){var te=Q[ne];te!==null&&(te.lane&=-536870913)}o&=~ae}u!==0&&ns(r,u,0),g!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=g&~(T&~s))}function ns(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-An(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194218}function rs(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-An(o),h=1<<u;h&s|r[u]&s&&(r[u]|=s),o&=~h}}function Wc(r){return r&=-r,2<r?8<r?r&134217727?32:268435456:8:2}function Yc(){var r=ge.p;return r!==0?r:(r=window.event,r===void 0?32:t0(r.type))}function is(r,s){var o=ge.p;try{return ge.p=r,s()}finally{ge.p=o}}var Lr=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Lr,jt="__reactProps$"+Lr,di="__reactContainer$"+Lr,aa="__reactEvents$"+Lr,ho="__reactListeners$"+Lr,Ur="__reactHandles$"+Lr,Vl="__reactResources$"+Lr,ss="__reactMarker$"+Lr;function oa(r){delete r[Jt],delete r[jt],delete r[aa],delete r[ho],delete r[Ur]}function Tr(r){var s=r[Jt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[di]||o[Jt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=zb(r);r!==null;){if(o=r[Jt])return o;r=zb(r)}return s}r=o,o=r.parentNode}return null}function hi(r){if(r=r[Jt]||r[di]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function as(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function os(r){var s=r[Vl];return s||(s=r[Vl]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function bt(r){r[ss]=!0}var Ll=new Set,po={};function Vn(r,s){xn(r,s),xn(r+"Capture",s)}function xn(r,s){for(po[r]=s,r=0;r<s.length;r++)Ll.add(s[r])}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ip=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ul={},Bl={};function Qc(r){return W.call(Bl,r)?!0:W.call(Ul,r)?!1:ip.test(r)?Bl[r]=!0:(Ul[r]=!0,!1)}function ls(r,s,o){if(Qc(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function us(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Yn(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}function wn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Xc(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function sp(r){var s=Xc(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(T){u=""+T,g.call(this,T)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function la(r){r._valueTracker||(r._valueTracker=sp(r))}function zl(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=Xc(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function mo(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var pi=/[\n"\\]/g;function wt(r){return r.replace(pi,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function cs(r,s,o,u,h,g,T,A){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),s!=null?T==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+wn(s)):r.value!==""+wn(s)&&(r.value=""+wn(s)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),s!=null?go(r,T,wn(s)):o!=null?go(r,T,wn(o)):u!=null&&r.removeAttribute("value"),h==null&&g!=null&&(r.defaultChecked=!!g),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.name=""+wn(A):r.removeAttribute("name")}function ua(r,s,o,u,h,g,T,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+wn(o):"",s=s!=null?""+wn(s):o,A||s===r.value||(r.value=s),r.defaultValue=s}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=A?r.checked:!!u,r.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function go(r,s,o){s==="number"&&mo(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function st(r,s,o,u){if(r=r.options,s){s={};for(var h=0;h<o.length;h++)s["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=s.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&u&&(r[o].defaultSelected=!0)}else{for(o=""+wn(o),s=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function ca(r,s,o){if(s!=null&&(s=""+wn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+wn(o):""}function fs(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(me(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=wn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function Qn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var ap=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fl(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||ap.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Zc(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var h in s)u=s[h],s.hasOwnProperty(h)&&o[h]!==u&&Fl(r,h,u)}else for(var g in s)s.hasOwnProperty(g)&&Fl(r,g,s[g])}function jl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var op=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Br(r){return lp.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Xn=null;function yo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var mi=null,gi=null;function yi(r){var s=hi(r);if(s&&(r=s.stateNode)){var o=r[jt]||null;e:switch(r=s.stateNode,s.type){case"input":if(cs(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+wt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var h=u[jt]||null;if(!h)throw Error(i(90));cs(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&zl(u)}break e;case"textarea":ca(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&st(r,!!o.multiple,s,!1)}}}var Hl=!1;function Jc(r,s,o){if(Hl)return r(s,o);Hl=!0;try{var u=r(s);return u}finally{if(Hl=!1,(mi!==null||gi!==null)&&(Gf(),mi&&(s=mi,r=gi,gi=mi=null,yi(s),r)))for(s=0;s<r.length;s++)yi(r[s])}}function fa(r,s){var o=r.stateNode;if(o===null)return null;var u=o[jt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Zn=!1;if(Ln)try{var da={};Object.defineProperty(da,"passive",{get:function(){Zn=!0}}),window.addEventListener("test",da,da),window.removeEventListener("test",da,da)}catch{Zn=!1}var zr=null,ds=null,vi=null;function ql(){if(vi)return vi;var r,s=ds,o=s.length,u,h="value"in zr?zr.value:zr.textContent,g=h.length;for(r=0;r<o&&s[r]===h[r];r++);var T=o-r;for(u=1;u<=T&&s[o-u]===h[g-u];u++);return vi=h.slice(r,1<u?1-u:void 0)}function Fr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function jr(){return!0}function Gl(){return!1}function en(r){function s(o,u,h,g,T){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(o=r[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?jr:Gl,this.isPropagationStopped=Gl,this}return O(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=jr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=jr)},persist:function(){},isPersistent:jr}),s}var ut={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vo=en(ut),ha=O({},ut,{view:0,detail:0}),ef=en(ha),_o,Eo,Hr,pa=O({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ya,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Hr&&(Hr&&r.type==="mousemove"?(_o=r.screenX-Hr.screenX,Eo=r.screenY-Hr.screenY):Eo=_o=0,Hr=r),_o)},movementY:function(r){return"movementY"in r?r.movementY:Eo}}),Jn=en(pa),tf=O({},pa,{dataTransfer:0}),up=en(tf),ma=O({},ha,{relatedTarget:0}),bo=en(ma),$l=O({},ut,{animationName:0,elapsedTime:0,pseudoElement:0}),To=en($l),nf=O({},ut,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),So=en(nf),cp=O({},ut,{data:0}),Kl=en(cp),ga={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=sf[r])?!!s[r]:!1}function ya(){return Wl}var af=O({},ha,{key:function(r){if(r.key){var s=ga[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Fr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?rf[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ya,charCode:function(r){return r.type==="keypress"?Fr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Fr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ao=en(af),of=O({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yl=en(of),_i=O({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ya}),lf=en(_i),uf=O({},ut,{propertyName:0,elapsedTime:0,pseudoElement:0}),cf=en(uf),ff=O({},pa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),wo=en(ff),Rn=O({},ut,{newState:0,oldState:0}),df=en(Rn),hf=[9,13,27,32],qr=Ln&&"CompositionEvent"in window,d=null;Ln&&"documentMode"in document&&(d=document.documentMode);var v=Ln&&"TextEvent"in window&&!d,b=Ln&&(!qr||d&&8<d&&11>=d),R=" ",$=!1;function J(r,s){switch(r){case"keyup":return hf.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fe(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var et=!1;function Ht(r,s){switch(r){case"compositionend":return fe(s);case"keypress":return s.which!==32?null:($=!0,R);case"textInput":return r=s.data,r===R&&$?null:r;default:return null}}function tt(r,s){if(et)return r==="compositionend"||!qr&&J(r,s)?(r=ql(),vi=ds=zr=null,et=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return b&&s.locale!=="ko"?null:s.data;default:return null}}var tn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qt(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!tn[r.type]:s==="textarea"}function Ei(r,s,o,u){mi?gi?gi.push(u):gi=[u]:mi=u,s=Qf(s,"onChange"),0<s.length&&(o=new vo("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var cn=null,Gr=null;function Ql(r){xb(r,0)}function pf(r){var s=as(r);if(zl(s))return r}function a_(r,s){if(r==="change")return s}var o_=!1;if(Ln){var fp;if(Ln){var dp="oninput"in document;if(!dp){var l_=document.createElement("div");l_.setAttribute("oninput","return;"),dp=typeof l_.oninput=="function"}fp=dp}else fp=!1;o_=fp&&(!document.documentMode||9<document.documentMode)}function u_(){cn&&(cn.detachEvent("onpropertychange",c_),Gr=cn=null)}function c_(r){if(r.propertyName==="value"&&pf(Gr)){var s=[];Ei(s,Gr,r,yo(r)),Jc(Ql,s)}}function NI(r,s,o){r==="focusin"?(u_(),cn=s,Gr=o,cn.attachEvent("onpropertychange",c_)):r==="focusout"&&u_()}function PI(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return pf(Gr)}function MI(r,s){if(r==="click")return pf(s)}function kI(r,s){if(r==="input"||r==="change")return pf(s)}function VI(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Un=typeof Object.is=="function"?Object.is:VI;function Xl(r,s){if(Un(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!W.call(s,h)||!Un(r[h],s[h]))return!1}return!0}function f_(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function d_(r,s){var o=f_(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=f_(o)}}function h_(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?h_(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function p_(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=mo(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=mo(r.document)}return s}function hp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function LI(r,s){var o=p_(s);s=r.focusedElem;var u=r.selectionRange;if(o!==s&&s&&s.ownerDocument&&h_(s.ownerDocument.documentElement,s)){if(u!==null&&hp(s)){if(r=u.start,o=u.end,o===void 0&&(o=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(o,s.value.length);else if(o=(r=s.ownerDocument||document)&&r.defaultView||window,o.getSelection){o=o.getSelection();var h=s.textContent.length,g=Math.min(u.start,h);u=u.end===void 0?g:Math.min(u.end,h),!o.extend&&g>u&&(h=u,u=g,g=h),h=d_(s,g);var T=d_(s,u);h&&T&&(o.rangeCount!==1||o.anchorNode!==h.node||o.anchorOffset!==h.offset||o.focusNode!==T.node||o.focusOffset!==T.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),o.removeAllRanges(),g>u?(o.addRange(r),o.extend(T.node,T.offset)):(r.setEnd(T.node,T.offset),o.addRange(r)))}}for(r=[],o=s;o=o.parentNode;)o.nodeType===1&&r.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)o=r[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var UI=Ln&&"documentMode"in document&&11>=document.documentMode,Ro=null,pp=null,Zl=null,mp=!1;function m_(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;mp||Ro==null||Ro!==mo(u)||(u=Ro,"selectionStart"in u&&hp(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Zl&&Xl(Zl,u)||(Zl=u,u=Qf(pp,"onSelect"),0<u.length&&(s=new vo("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=Ro)))}function va(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Co={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionrun:va("Transition","TransitionRun"),transitionstart:va("Transition","TransitionStart"),transitioncancel:va("Transition","TransitionCancel"),transitionend:va("Transition","TransitionEnd")},gp={},g_={};Ln&&(g_=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);function _a(r){if(gp[r])return gp[r];if(!Co[r])return r;var s=Co[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in g_)return gp[r]=s[o];return r}var y_=_a("animationend"),v_=_a("animationiteration"),__=_a("animationstart"),BI=_a("transitionrun"),zI=_a("transitionstart"),FI=_a("transitioncancel"),E_=_a("transitionend"),b_=new Map,T_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Sr(r,s){b_.set(r,s),Vn(s,[r])}var er=[],Io=0,yp=0;function mf(){for(var r=Io,s=yp=Io=0;s<r;){var o=er[s];er[s++]=null;var u=er[s];er[s++]=null;var h=er[s];er[s++]=null;var g=er[s];if(er[s++]=null,u!==null&&h!==null){var T=u.pending;T===null?h.next=h:(h.next=T.next,T.next=h),u.pending=h}g!==0&&S_(o,h,g)}}function gf(r,s,o,u){er[Io++]=r,er[Io++]=s,er[Io++]=o,er[Io++]=u,yp|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function vp(r,s,o,u){return gf(r,s,o,u),yf(r)}function hs(r,s){return gf(r,null,null,s),yf(r)}function S_(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var h=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(h=!0)),r=g,g=g.return;h&&s!==null&&r.tag===3&&(g=r.stateNode,h=31-An(o),g=g.hiddenUpdates,r=g[h],r===null?g[h]=[s]:r.push(s),s.lane=o|536870912)}function yf(r){if(50<Su)throw Su=0,Am=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Do={},A_=new WeakMap;function tr(r,s){if(typeof r=="object"&&r!==null){var o=A_.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Ee(s)},A_.set(r,s),s)}return{value:r,source:s,stack:Ee(s)}}var Oo=[],xo=0,vf=null,_f=0,nr=[],rr=0,Ea=null,bi=1,Ti="";function ba(r,s){Oo[xo++]=_f,Oo[xo++]=vf,vf=r,_f=s}function w_(r,s,o){nr[rr++]=bi,nr[rr++]=Ti,nr[rr++]=Ea,Ea=r;var u=bi;r=Ti;var h=32-An(u)-1;u&=~(1<<h),o+=1;var g=32-An(s)+h;if(30<g){var T=h-h%5;g=(u&(1<<T)-1).toString(32),u>>=T,h-=T,bi=1<<32-An(s)+h|o<<h|u,Ti=g+r}else bi=1<<g|o<<h|u,Ti=r}function _p(r){r.return!==null&&(ba(r,1),w_(r,1,0))}function Ep(r){for(;r===vf;)vf=Oo[--xo],Oo[xo]=null,_f=Oo[--xo],Oo[xo]=null;for(;r===Ea;)Ea=nr[--rr],nr[rr]=null,Ti=nr[--rr],nr[rr]=null,bi=nr[--rr],nr[rr]=null}var Cn=null,fn=null,at=!1,Ar=null,$r=!1,bp=Error(i(519));function Ta(r){var s=Error(i(418,""));throw tu(tr(s,r)),bp}function R_(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Jt]=r,s[jt]=u,o){case"dialog":Ze("cancel",s),Ze("close",s);break;case"iframe":case"object":case"embed":Ze("load",s);break;case"video":case"audio":for(o=0;o<wu.length;o++)Ze(wu[o],s);break;case"source":Ze("error",s);break;case"img":case"image":case"link":Ze("error",s),Ze("load",s);break;case"details":Ze("toggle",s);break;case"input":Ze("invalid",s),ua(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),la(s);break;case"select":Ze("invalid",s);break;case"textarea":Ze("invalid",s),fs(s,u.value,u.defaultValue,u.children),la(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||kb(s.textContent,o)?(u.popover!=null&&(Ze("beforetoggle",s),Ze("toggle",s)),u.onScroll!=null&&Ze("scroll",s),u.onScrollEnd!=null&&Ze("scrollend",s),u.onClick!=null&&(s.onclick=Xf),s=!0):s=!1,s||Ta(r)}function C_(r){for(Cn=r.return;Cn;)switch(Cn.tag){case 3:case 27:$r=!0;return;case 5:case 13:$r=!1;return;default:Cn=Cn.return}}function Jl(r){if(r!==Cn)return!1;if(!at)return C_(r),at=!0,!1;var s=!1,o;if((o=r.tag!==3&&r.tag!==27)&&((o=r.tag===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Fm(r.type,r.memoizedProps)),o=!o),o&&(s=!0),s&&fn&&Ta(r),C_(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){fn=Rr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}fn=null}}else fn=Cn?Rr(r.stateNode.nextSibling):null;return!0}function eu(){fn=Cn=null,at=!1}function tu(r){Ar===null?Ar=[r]:Ar.push(r)}var nu=Error(i(460)),I_=Error(i(474)),Tp={then:function(){}};function D_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Ef(){}function O_(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(Ef,Ef),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===nu?Error(i(483)):r;default:if(typeof s.status=="string")s.then(Ef,Ef);else{if(r=gt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=u}},function(u){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===nu?Error(i(483)):r}throw ru=s,nu}}var ru=null;function x_(){if(ru===null)throw Error(i(459));var r=ru;return ru=null,r}var No=null,iu=0;function bf(r){var s=iu;return iu+=1,No===null&&(No=[]),O_(No,r,s)}function su(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Tf(r,s){throw s.$$typeof===l?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function N_(r){var s=r._init;return s(r._payload)}function P_(r){function s(G,j){if(r){var K=G.deletions;K===null?(G.deletions=[j],G.flags|=16):K.push(j)}}function o(G,j){if(!r)return null;for(;j!==null;)s(G,j),j=j.sibling;return null}function u(G){for(var j=new Map;G!==null;)G.key!==null?j.set(G.key,G):j.set(G.index,G),G=G.sibling;return j}function h(G,j){return G=ws(G,j),G.index=0,G.sibling=null,G}function g(G,j,K){return G.index=K,r?(K=G.alternate,K!==null?(K=K.index,K<j?(G.flags|=33554434,j):K):(G.flags|=33554434,j)):(G.flags|=1048576,j)}function T(G){return r&&G.alternate===null&&(G.flags|=33554434),G}function A(G,j,K,re){return j===null||j.tag!==6?(j=gm(K,G.mode,re),j.return=G,j):(j=h(j,K),j.return=G,j)}function N(G,j,K,re){var Te=K.type;return Te===p?ne(G,j,K.props.children,re,K.key):j!==null&&(j.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===F&&N_(Te)===j.type)?(j=h(j,K.props),su(j,K),j.return=G,j):(j=zf(K.type,K.key,K.props,null,G.mode,re),su(j,K),j.return=G,j)}function H(G,j,K,re){return j===null||j.tag!==4||j.stateNode.containerInfo!==K.containerInfo||j.stateNode.implementation!==K.implementation?(j=ym(K,G.mode,re),j.return=G,j):(j=h(j,K.children||[]),j.return=G,j)}function ne(G,j,K,re,Te){return j===null||j.tag!==7?(j=Na(K,G.mode,re,Te),j.return=G,j):(j=h(j,K),j.return=G,j)}function ae(G,j,K){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=gm(""+j,G.mode,K),j.return=G,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case c:return K=zf(j.type,j.key,j.props,null,G.mode,K),su(K,j),K.return=G,K;case f:return j=ym(j,G.mode,K),j.return=G,j;case F:var re=j._init;return j=re(j._payload),ae(G,j,K)}if(me(j)||se(j))return j=Na(j,G.mode,K,null),j.return=G,j;if(typeof j.then=="function")return ae(G,bf(j),K);if(j.$$typeof===S)return ae(G,Lf(G,j),K);Tf(G,j)}return null}function Q(G,j,K,re){var Te=j!==null?j.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Te!==null?null:A(G,j,""+K,re);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case c:return K.key===Te?N(G,j,K,re):null;case f:return K.key===Te?H(G,j,K,re):null;case F:return Te=K._init,K=Te(K._payload),Q(G,j,K,re)}if(me(K)||se(K))return Te!==null?null:ne(G,j,K,re,null);if(typeof K.then=="function")return Q(G,j,bf(K),re);if(K.$$typeof===S)return Q(G,j,Lf(G,K),re);Tf(G,K)}return null}function te(G,j,K,re,Te){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return G=G.get(K)||null,A(j,G,""+re,Te);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case c:return G=G.get(re.key===null?K:re.key)||null,N(j,G,re,Te);case f:return G=G.get(re.key===null?K:re.key)||null,H(j,G,re,Te);case F:var $e=re._init;return re=$e(re._payload),te(G,j,K,re,Te)}if(me(re)||se(re))return G=G.get(K)||null,ne(j,G,re,Te,null);if(typeof re.then=="function")return te(G,j,K,bf(re),Te);if(re.$$typeof===S)return te(G,j,K,Lf(j,re),Te);Tf(j,re)}return null}function Ae(G,j,K,re){for(var Te=null,$e=null,Re=j,De=j=0,sn=null;Re!==null&&De<K.length;De++){Re.index>De?(sn=Re,Re=null):sn=Re.sibling;var ot=Q(G,Re,K[De],re);if(ot===null){Re===null&&(Re=sn);break}r&&Re&&ot.alternate===null&&s(G,Re),j=g(ot,j,De),$e===null?Te=ot:$e.sibling=ot,$e=ot,Re=sn}if(De===K.length)return o(G,Re),at&&ba(G,De),Te;if(Re===null){for(;De<K.length;De++)Re=ae(G,K[De],re),Re!==null&&(j=g(Re,j,De),$e===null?Te=Re:$e.sibling=Re,$e=Re);return at&&ba(G,De),Te}for(Re=u(Re);De<K.length;De++)sn=te(Re,G,De,K[De],re),sn!==null&&(r&&sn.alternate!==null&&Re.delete(sn.key===null?De:sn.key),j=g(sn,j,De),$e===null?Te=sn:$e.sibling=sn,$e=sn);return r&&Re.forEach(function(Ns){return s(G,Ns)}),at&&ba(G,De),Te}function Ve(G,j,K,re){if(K==null)throw Error(i(151));for(var Te=null,$e=null,Re=j,De=j=0,sn=null,ot=K.next();Re!==null&&!ot.done;De++,ot=K.next()){Re.index>De?(sn=Re,Re=null):sn=Re.sibling;var Ns=Q(G,Re,ot.value,re);if(Ns===null){Re===null&&(Re=sn);break}r&&Re&&Ns.alternate===null&&s(G,Re),j=g(Ns,j,De),$e===null?Te=Ns:$e.sibling=Ns,$e=Ns,Re=sn}if(ot.done)return o(G,Re),at&&ba(G,De),Te;if(Re===null){for(;!ot.done;De++,ot=K.next())ot=ae(G,ot.value,re),ot!==null&&(j=g(ot,j,De),$e===null?Te=ot:$e.sibling=ot,$e=ot);return at&&ba(G,De),Te}for(Re=u(Re);!ot.done;De++,ot=K.next())ot=te(Re,G,De,ot.value,re),ot!==null&&(r&&ot.alternate!==null&&Re.delete(ot.key===null?De:ot.key),j=g(ot,j,De),$e===null?Te=ot:$e.sibling=ot,$e=ot);return r&&Re.forEach(function(tD){return s(G,tD)}),at&&ba(G,De),Te}function It(G,j,K,re){if(typeof K=="object"&&K!==null&&K.type===p&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case c:e:{for(var Te=K.key;j!==null;){if(j.key===Te){if(Te=K.type,Te===p){if(j.tag===7){o(G,j.sibling),re=h(j,K.props.children),re.return=G,G=re;break e}}else if(j.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===F&&N_(Te)===j.type){o(G,j.sibling),re=h(j,K.props),su(re,K),re.return=G,G=re;break e}o(G,j);break}else s(G,j);j=j.sibling}K.type===p?(re=Na(K.props.children,G.mode,re,K.key),re.return=G,G=re):(re=zf(K.type,K.key,K.props,null,G.mode,re),su(re,K),re.return=G,G=re)}return T(G);case f:e:{for(Te=K.key;j!==null;){if(j.key===Te)if(j.tag===4&&j.stateNode.containerInfo===K.containerInfo&&j.stateNode.implementation===K.implementation){o(G,j.sibling),re=h(j,K.children||[]),re.return=G,G=re;break e}else{o(G,j);break}else s(G,j);j=j.sibling}re=ym(K,G.mode,re),re.return=G,G=re}return T(G);case F:return Te=K._init,K=Te(K._payload),It(G,j,K,re)}if(me(K))return Ae(G,j,K,re);if(se(K)){if(Te=se(K),typeof Te!="function")throw Error(i(150));return K=Te.call(K),Ve(G,j,K,re)}if(typeof K.then=="function")return It(G,j,bf(K),re);if(K.$$typeof===S)return It(G,j,Lf(G,K),re);Tf(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,j!==null&&j.tag===6?(o(G,j.sibling),re=h(j,K),re.return=G,G=re):(o(G,j),re=gm(K,G.mode,re),re.return=G,G=re),T(G)):o(G,j)}return function(G,j,K,re){try{iu=0;var Te=It(G,j,K,re);return No=null,Te}catch(Re){if(Re===nu)throw Re;var $e=or(29,Re,null,G.mode);return $e.lanes=re,$e.return=G,$e}finally{}}}var Sa=P_(!0),M_=P_(!1),Po=qe(null),Sf=qe(0);function k_(r,s){r=Pi,Xe(Sf,r),Xe(Po,s),Pi=r|s.baseLanes}function Sp(){Xe(Sf,Pi),Xe(Po,Po.current)}function Ap(){Pi=Sf.current,lt(Po),lt(Sf)}var ir=qe(null),Kr=null;function ps(r){var s=r.alternate;Xe(Gt,Gt.current&1),Xe(ir,r),Kr===null&&(s===null||Po.current!==null||s.memoizedState!==null)&&(Kr=r)}function V_(r){if(r.tag===22){if(Xe(Gt,Gt.current),Xe(ir,r),Kr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Kr=r)}}else ms()}function ms(){Xe(Gt,Gt.current),Xe(ir,ir.current)}function Si(r){lt(ir),Kr===r&&(Kr=null),lt(Gt)}var Gt=qe(0);function Af(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var jI=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},HI=t.unstable_scheduleCallback,qI=t.unstable_NormalPriority,$t={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wp(){return{controller:new jI,data:new Map,refCount:0}}function au(r){r.refCount--,r.refCount===0&&HI(qI,function(){r.controller.abort()})}var ou=null,Rp=0,Mo=0,ko=null;function GI(r,s){if(ou===null){var o=ou=[];Rp=0,Mo=Nm(),ko={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Rp++,s.then(L_,L_),s}function L_(){if(--Rp===0&&ou!==null){ko!==null&&(ko.status="fulfilled");var r=ou;ou=null,Mo=0,ko=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function $I(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var h=0;h<o.length;h++)(0,o[h])(s)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var U_=C.S;C.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&GI(r,s),U_!==null&&U_(r,s)};var Aa=qe(null);function Cp(){var r=Aa.current;return r!==null?r:gt.pooledCache}function wf(r,s){s===null?Xe(Aa,Aa.current):Xe(Aa,s.pool)}function B_(){var r=Cp();return r===null?null:{parent:$t._currentValue,pool:r}}var gs=0,He=null,dt=null,kt=null,Rf=!1,Vo=!1,wa=!1,Cf=0,lu=0,Lo=null,KI=0;function Nt(){throw Error(i(321))}function Ip(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Un(r[o],s[o]))return!1;return!0}function Dp(r,s,o,u,h,g){return gs=g,He=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,C.H=r===null||r.memoizedState===null?Ra:ys,wa=!1,g=o(u,h),wa=!1,Vo&&(g=F_(s,o,u,h)),z_(r),g}function z_(r){C.H=Wr;var s=dt!==null&&dt.next!==null;if(gs=0,kt=dt=He=null,Rf=!1,lu=0,Lo=null,s)throw Error(i(300));r===null||nn||(r=r.dependencies,r!==null&&Vf(r)&&(nn=!0))}function F_(r,s,o,u){He=r;var h=0;do{if(Vo&&(Lo=null),lu=0,Vo=!1,25<=h)throw Error(i(301));if(h+=1,kt=dt=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}C.H=Ca,g=s(o,u)}while(Vo);return g}function WI(){var r=C.H,s=r.useState()[0];return s=typeof s.then=="function"?uu(s):s,r=r.useState()[0],(dt!==null?dt.memoizedState:null)!==r&&(He.flags|=1024),s}function Op(){var r=Cf!==0;return Cf=0,r}function xp(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Np(r){if(Rf){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Rf=!1}gs=0,kt=dt=He=null,Vo=!1,lu=Cf=0,Lo=null}function Nn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?He.memoizedState=kt=r:kt=kt.next=r,kt}function Vt(){if(dt===null){var r=He.alternate;r=r!==null?r.memoizedState:null}else r=dt.next;var s=kt===null?He.memoizedState:kt.next;if(s!==null)kt=s,dt=r;else{if(r===null)throw He.alternate===null?Error(i(467)):Error(i(310));dt=r,r={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},kt===null?He.memoizedState=kt=r:kt=kt.next=r}return kt}var If;If=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function uu(r){var s=lu;return lu+=1,Lo===null&&(Lo=[]),r=O_(Lo,r,s),s=He,(kt===null?s.memoizedState:kt.next)===null&&(s=s.alternate,C.H=s===null||s.memoizedState===null?Ra:ys),r}function Df(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return uu(r);if(r.$$typeof===S)return vn(r)}throw Error(i(438,String(r)))}function Pp(r){var s=null,o=He.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=He.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=If(),He.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=Z;return s.index++,o}function Ai(r,s){return typeof s=="function"?s(r):s}function Of(r){var s=Vt();return Mp(s,dt,r)}function Mp(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var h=r.baseQueue,g=u.pending;if(g!==null){if(h!==null){var T=h.next;h.next=g.next,g.next=T}s.baseQueue=h=g,u.pending=null}if(g=r.baseState,h===null)r.memoizedState=g;else{s=h.next;var A=T=null,N=null,H=s,ne=!1;do{var ae=H.lane&-536870913;if(ae!==H.lane?(nt&ae)===ae:(gs&ae)===ae){var Q=H.revertLane;if(Q===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ae===Mo&&(ne=!0);else if((gs&Q)===Q){H=H.next,Q===Mo&&(ne=!0);continue}else ae={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(A=N=ae,T=g):N=N.next=ae,He.lanes|=Q,Rs|=Q;ae=H.action,wa&&o(g,ae),g=H.hasEagerState?H.eagerState:o(g,ae)}else Q={lane:ae,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(A=N=Q,T=g):N=N.next=Q,He.lanes|=ae,Rs|=ae;H=H.next}while(H!==null&&H!==s);if(N===null?T=g:N.next=A,!Un(g,r.memoizedState)&&(nn=!0,ne&&(o=ko,o!==null)))throw o;r.memoizedState=g,r.baseState=T,r.baseQueue=N,u.lastRenderedState=g}return h===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function kp(r){var s=Vt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,h=o.pending,g=s.memoizedState;if(h!==null){o.pending=null;var T=h=h.next;do g=r(g,T.action),T=T.next;while(T!==h);Un(g,s.memoizedState)||(nn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function j_(r,s,o){var u=He,h=Vt(),g=at;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var T=!Un((dt||h).memoizedState,o);if(T&&(h.memoizedState=o,nn=!0),h=h.queue,Up(G_.bind(null,u,h,r),[r]),h.getSnapshot!==s||T||kt!==null&&kt.memoizedState.tag&1){if(u.flags|=2048,Uo(9,q_.bind(null,u,h,o,s),{destroy:void 0},null),gt===null)throw Error(i(349));g||gs&60||H_(u,s,o)}return o}function H_(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=He.updateQueue,s===null?(s=If(),He.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function q_(r,s,o,u){s.value=o,s.getSnapshot=u,$_(s)&&K_(r)}function G_(r,s,o){return o(function(){$_(s)&&K_(r)})}function $_(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Un(r,o)}catch{return!0}}function K_(r){var s=hs(r,2);s!==null&&In(s,r,2)}function Vp(r){var s=Nn();if(typeof r=="function"){var o=r;if(r=o(),wa){kr(!0);try{o()}finally{kr(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:r},s}function W_(r,s,o,u){return r.baseState=o,Mp(r,dt,typeof u=="function"?u:Ai)}function YI(r,s,o,u,h){if(Pf(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};C.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,Y_(s,g)):(g.next=o.next,s.pending=o.next=g)}}function Y_(r,s){var o=s.action,u=s.payload,h=r.state;if(s.isTransition){var g=C.T,T={};C.T=T;try{var A=o(h,u),N=C.S;N!==null&&N(T,A),Q_(r,s,A)}catch(H){Lp(r,s,H)}finally{C.T=g}}else try{g=o(h,u),Q_(r,s,g)}catch(H){Lp(r,s,H)}}function Q_(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){X_(r,s,u)},function(u){return Lp(r,s,u)}):X_(r,s,o)}function X_(r,s,o){s.status="fulfilled",s.value=o,Z_(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,Y_(r,o)))}function Lp(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Z_(s),s=s.next;while(s!==u)}r.action=null}function Z_(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function J_(r,s){return s}function eE(r,s){if(at){var o=gt.formState;if(o!==null){e:{var u=He;if(at){if(fn){t:{for(var h=fn,g=$r;h.nodeType!==8;){if(!g){h=null;break t}if(h=Rr(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){fn=Rr(h.nextSibling),u=h.data==="F!";break e}}Ta(u)}u=!1}u&&(s=o[0])}}return o=Nn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:J_,lastRenderedState:s},o.queue=u,o=vE.bind(null,He,u),u.dispatch=o,u=Vp(!1),g=Hp.bind(null,He,!1,u.queue),u=Nn(),h={state:s,dispatch:null,action:r,pending:null},u.queue=h,o=YI.bind(null,He,h,g,o),h.dispatch=o,u.memoizedState=r,[s,o,!1]}function tE(r){var s=Vt();return nE(s,dt,r)}function nE(r,s,o){s=Mp(r,s,J_)[0],r=Of(Ai)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?uu(s):s;var u=Vt(),h=u.queue,g=h.dispatch;return o!==u.memoizedState&&(He.flags|=2048,Uo(9,QI.bind(null,h,o),{destroy:void 0},null)),[s,g,r]}function QI(r,s){r.action=s}function rE(r){var s=Vt(),o=dt;if(o!==null)return nE(s,o,r);Vt(),s=s.memoizedState,o=Vt();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function Uo(r,s,o,u){return r={tag:r,create:s,inst:o,deps:u,next:null},s=He.updateQueue,s===null&&(s=If(),He.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function iE(){return Vt().memoizedState}function xf(r,s,o,u){var h=Nn();He.flags|=r,h.memoizedState=Uo(1|s,o,{destroy:void 0},u===void 0?null:u)}function Nf(r,s,o,u){var h=Vt();u=u===void 0?null:u;var g=h.memoizedState.inst;dt!==null&&u!==null&&Ip(u,dt.memoizedState.deps)?h.memoizedState=Uo(s,o,g,u):(He.flags|=r,h.memoizedState=Uo(1|s,o,g,u))}function sE(r,s){xf(8390656,8,r,s)}function Up(r,s){Nf(2048,8,r,s)}function aE(r,s){return Nf(4,2,r,s)}function oE(r,s){return Nf(4,4,r,s)}function lE(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function uE(r,s,o){o=o!=null?o.concat([r]):null,Nf(4,4,lE.bind(null,s,r),o)}function Bp(){}function cE(r,s){var o=Vt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Ip(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function fE(r,s){var o=Vt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Ip(s,u[1]))return u[0];if(u=r(),wa){kr(!0);try{r()}finally{kr(!1)}}return o.memoizedState=[u,s],u}function zp(r,s,o){return o===void 0||gs&1073741824?r.memoizedState=s:(r.memoizedState=o,r=hb(),He.lanes|=r,Rs|=r,o)}function dE(r,s,o,u){return Un(o,s)?o:Po.current!==null?(r=zp(r,o,u),Un(r,s)||(nn=!0),r):gs&42?(r=hb(),He.lanes|=r,Rs|=r,s):(nn=!0,r.memoizedState=o)}function hE(r,s,o,u,h){var g=ge.p;ge.p=g!==0&&8>g?g:8;var T=C.T,A={};C.T=A,Hp(r,!1,s,o);try{var N=h(),H=C.S;if(H!==null&&H(A,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var ne=$I(N,u);cu(r,s,ne,jn(r))}else cu(r,s,u,jn(r))}catch(ae){cu(r,s,{then:function(){},status:"rejected",reason:ae},jn())}finally{ge.p=g,C.T=T}}function XI(){}function Fp(r,s,o,u){if(r.tag!==5)throw Error(i(476));var h=pE(r).queue;hE(r,h,s,Me,o===null?XI:function(){return mE(r),o(u)})}function pE(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Me,baseState:Me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:Me},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function mE(r){var s=pE(r).next.queue;cu(r,s,{},jn())}function jp(){return vn(Ou)}function gE(){return Vt().memoizedState}function yE(){return Vt().memoizedState}function ZI(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=jn();r=Es(o);var u=bs(s,r,o);u!==null&&(In(u,s,o),hu(u,s,o)),s={cache:wp()},r.payload=s;return}s=s.return}}function JI(r,s,o){var u=jn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Pf(r)?_E(s,o):(o=vp(r,s,o,u),o!==null&&(In(o,r,u),EE(o,s,u)))}function vE(r,s,o){var u=jn();cu(r,s,o,u)}function cu(r,s,o,u){var h={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Pf(r))_E(s,h);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var T=s.lastRenderedState,A=g(T,o);if(h.hasEagerState=!0,h.eagerState=A,Un(A,T))return gf(r,s,h,0),gt===null&&mf(),!1}catch{}finally{}if(o=vp(r,s,h,u),o!==null)return In(o,r,u),EE(o,s,u),!0}return!1}function Hp(r,s,o,u){if(u={lane:2,revertLane:Nm(),action:u,hasEagerState:!1,eagerState:null,next:null},Pf(r)){if(s)throw Error(i(479))}else s=vp(r,o,u,2),s!==null&&In(s,r,2)}function Pf(r){var s=r.alternate;return r===He||s!==null&&s===He}function _E(r,s){Vo=Rf=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function EE(r,s,o){if(o&4194176){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,rs(r,o)}}var Wr={readContext:vn,use:Df,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt};Wr.useCacheRefresh=Nt,Wr.useMemoCache=Nt,Wr.useHostTransitionStatus=Nt,Wr.useFormState=Nt,Wr.useActionState=Nt,Wr.useOptimistic=Nt;var Ra={readContext:vn,use:Df,useCallback:function(r,s){return Nn().memoizedState=[r,s===void 0?null:s],r},useContext:vn,useEffect:sE,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,xf(4194308,4,lE.bind(null,s,r),o)},useLayoutEffect:function(r,s){return xf(4194308,4,r,s)},useInsertionEffect:function(r,s){xf(4,2,r,s)},useMemo:function(r,s){var o=Nn();s=s===void 0?null:s;var u=r();if(wa){kr(!0);try{r()}finally{kr(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=Nn();if(o!==void 0){var h=o(s);if(wa){kr(!0);try{o(s)}finally{kr(!1)}}}else h=s;return u.memoizedState=u.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},u.queue=r,r=r.dispatch=JI.bind(null,He,r),[u.memoizedState,r]},useRef:function(r){var s=Nn();return r={current:r},s.memoizedState=r},useState:function(r){r=Vp(r);var s=r.queue,o=vE.bind(null,He,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Bp,useDeferredValue:function(r,s){var o=Nn();return zp(o,r,s)},useTransition:function(){var r=Vp(!1);return r=hE.bind(null,He,r.queue,!0,!1),Nn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=He,h=Nn();if(at){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),gt===null)throw Error(i(349));nt&60||H_(u,s,o)}h.memoizedState=o;var g={value:o,getSnapshot:s};return h.queue=g,sE(G_.bind(null,u,g,r),[r]),u.flags|=2048,Uo(9,q_.bind(null,u,g,o,s),{destroy:void 0},null),o},useId:function(){var r=Nn(),s=gt.identifierPrefix;if(at){var o=Ti,u=bi;o=(u&~(1<<32-An(u)-1)).toString(32)+o,s=":"+s+"R"+o,o=Cf++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=KI++,s=":"+s+"r"+o.toString(32)+":";return r.memoizedState=s},useCacheRefresh:function(){return Nn().memoizedState=ZI.bind(null,He)}};Ra.useMemoCache=Pp,Ra.useHostTransitionStatus=jp,Ra.useFormState=eE,Ra.useActionState=eE,Ra.useOptimistic=function(r){var s=Nn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Hp.bind(null,He,!0,o),o.dispatch=s,[r,s]};var ys={readContext:vn,use:Df,useCallback:cE,useContext:vn,useEffect:Up,useImperativeHandle:uE,useInsertionEffect:aE,useLayoutEffect:oE,useMemo:fE,useReducer:Of,useRef:iE,useState:function(){return Of(Ai)},useDebugValue:Bp,useDeferredValue:function(r,s){var o=Vt();return dE(o,dt.memoizedState,r,s)},useTransition:function(){var r=Of(Ai)[0],s=Vt().memoizedState;return[typeof r=="boolean"?r:uu(r),s]},useSyncExternalStore:j_,useId:gE};ys.useCacheRefresh=yE,ys.useMemoCache=Pp,ys.useHostTransitionStatus=jp,ys.useFormState=tE,ys.useActionState=tE,ys.useOptimistic=function(r,s){var o=Vt();return W_(o,dt,r,s)};var Ca={readContext:vn,use:Df,useCallback:cE,useContext:vn,useEffect:Up,useImperativeHandle:uE,useInsertionEffect:aE,useLayoutEffect:oE,useMemo:fE,useReducer:kp,useRef:iE,useState:function(){return kp(Ai)},useDebugValue:Bp,useDeferredValue:function(r,s){var o=Vt();return dt===null?zp(o,r,s):dE(o,dt.memoizedState,r,s)},useTransition:function(){var r=kp(Ai)[0],s=Vt().memoizedState;return[typeof r=="boolean"?r:uu(r),s]},useSyncExternalStore:j_,useId:gE};Ca.useCacheRefresh=yE,Ca.useMemoCache=Pp,Ca.useHostTransitionStatus=jp,Ca.useFormState=rE,Ca.useActionState=rE,Ca.useOptimistic=function(r,s){var o=Vt();return dt!==null?W_(o,dt,r,s):(o.baseState=r,[r,o.queue.dispatch])};function qp(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:O({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Gp={isMounted:function(r){return(r=r._reactInternals)?ve(r)===r:!1},enqueueSetState:function(r,s,o){r=r._reactInternals;var u=jn(),h=Es(u);h.payload=s,o!=null&&(h.callback=o),s=bs(r,h,u),s!==null&&(In(s,r,u),hu(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=jn(),h=Es(u);h.tag=1,h.payload=s,o!=null&&(h.callback=o),s=bs(r,h,u),s!==null&&(In(s,r,u),hu(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=jn(),u=Es(o);u.tag=2,s!=null&&(u.callback=s),s=bs(r,u,o),s!==null&&(In(s,r,o),hu(s,r,o))}};function bE(r,s,o,u,h,g,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,T):s.prototype&&s.prototype.isPureReactComponent?!Xl(o,u)||!Xl(h,g):!0}function TE(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&Gp.enqueueReplaceState(s,s.state,null)}function Ia(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=O({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}var Mf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function SE(r){Mf(r)}function AE(r){console.error(r)}function wE(r){Mf(r)}function kf(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function RE(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function $p(r,s,o){return o=Es(o),o.tag=3,o.payload={element:null},o.callback=function(){kf(r,s)},o}function CE(r){return r=Es(r),r.tag=3,r}function IE(r,s,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var g=u.value;r.payload=function(){return h(g)},r.callback=function(){RE(s,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){RE(s,o,u),typeof h!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function e1(r,s,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&du(s,o,h,!0),o=ir.current,o!==null){switch(o.tag){case 13:return Kr===null?Cm():o.alternate===null&&Ct===0&&(Ct=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===Tp?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Dm(r,u,h)),!1;case 22:return o.flags|=65536,u===Tp?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Dm(r,u,h)),!1}throw Error(i(435,o.tag))}return Dm(r,u,h),Cm(),!1}if(at)return s=ir.current,s!==null?(!(s.flags&65536)&&(s.flags|=256),s.flags|=65536,s.lanes=h,u!==bp&&(r=Error(i(422),{cause:u}),tu(tr(r,o)))):(u!==bp&&(s=Error(i(423),{cause:u}),tu(tr(s,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,u=tr(u,o),h=$p(r.stateNode,u,h),om(r,h),Ct!==4&&(Ct=2)),!1;var g=Error(i(520),{cause:u});if(g=tr(g,o),bu===null?bu=[g]:bu.push(g),Ct!==4&&(Ct=2),s===null)return!0;u=tr(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=$p(o.stateNode,u,r),om(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Cs===null||!Cs.has(g))))return o.flags|=65536,h&=-h,o.lanes|=h,h=CE(h),IE(h,r,o,u),om(o,h),!1}o=o.return}while(o!==null);return!1}var DE=Error(i(461)),nn=!1;function dn(r,s,o,u){s.child=r===null?M_(s,null,o,u):Sa(s,r.child,o,u)}function OE(r,s,o,u,h){o=o.render;var g=s.ref;if("ref"in u){var T={};for(var A in u)A!=="ref"&&(T[A]=u[A])}else T=u;return Oa(s),u=Dp(r,s,o,T,g,h),A=Op(),r!==null&&!nn?(xp(r,s,h),wi(r,s,h)):(at&&A&&_p(s),s.flags|=1,dn(r,s,u,h),s.child)}function xE(r,s,o,u,h){if(r===null){var g=o.type;return typeof g=="function"&&!mm(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,NE(r,s,g,u,h)):(r=zf(o.type,null,u,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!tm(r,h)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:Xl,o(T,u)&&r.ref===s.ref)return wi(r,s,h)}return s.flags|=1,r=ws(g,u),r.ref=s.ref,r.return=s,s.child=r}function NE(r,s,o,u,h){if(r!==null){var g=r.memoizedProps;if(Xl(g,u)&&r.ref===s.ref)if(nn=!1,s.pendingProps=u=g,tm(r,h))r.flags&131072&&(nn=!0);else return s.lanes=r.lanes,wi(r,s,h)}return Kp(r,s,o,u,h)}function PE(r,s,o){var u=s.pendingProps,h=u.children,g=(s.stateNode._pendingVisibility&2)!==0,T=r!==null?r.memoizedState:null;if(fu(r,s),u.mode==="hidden"||g){if(s.flags&128){if(u=T!==null?T.baseLanes|o:o,r!==null){for(h=s.child=r.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return ME(r,s,u,o)}if(o&536870912)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&wf(s,T!==null?T.cachePool:null),T!==null?k_(s,T):Sp(),V_(s);else return s.lanes=s.childLanes=536870912,ME(r,s,T!==null?T.baseLanes|o:o,o)}else T!==null?(wf(s,T.cachePool),k_(s,T),ms(),s.memoizedState=null):(r!==null&&wf(s,null),Sp(),ms());return dn(r,s,h,o),s.child}function ME(r,s,o,u){var h=Cp();return h=h===null?null:{parent:$t._currentValue,pool:h},s.memoizedState={baseLanes:o,cachePool:h},r!==null&&wf(s,null),Sp(),V_(s),r!==null&&du(r,s,u,!0),null}function fu(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=2097664)}}function Kp(r,s,o,u,h){return Oa(s),o=Dp(r,s,o,u,void 0,h),u=Op(),r!==null&&!nn?(xp(r,s,h),wi(r,s,h)):(at&&u&&_p(s),s.flags|=1,dn(r,s,o,h),s.child)}function kE(r,s,o,u,h,g){return Oa(s),s.updateQueue=null,o=F_(s,u,o,h),z_(r),u=Op(),r!==null&&!nn?(xp(r,s,g),wi(r,s,g)):(at&&u&&_p(s),s.flags|=1,dn(r,s,o,g),s.child)}function VE(r,s,o,u,h){if(Oa(s),s.stateNode===null){var g=Do,T=o.contextType;typeof T=="object"&&T!==null&&(g=vn(T)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Gp,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},sm(s),T=o.contextType,g.context=typeof T=="object"&&T!==null?vn(T):Do,g.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(qp(s,o,T,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Gp.enqueueReplaceState(g,g.state,null),mu(s,u,g,h),pu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){g=s.stateNode;var A=s.memoizedProps,N=Ia(o,A);g.props=N;var H=g.context,ne=o.contextType;T=Do,typeof ne=="object"&&ne!==null&&(T=vn(ne));var ae=o.getDerivedStateFromProps;ne=typeof ae=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,ne||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||H!==T)&&TE(s,g,u,T),_s=!1;var Q=s.memoizedState;g.state=Q,mu(s,u,g,h),pu(),H=s.memoizedState,A||Q!==H||_s?(typeof ae=="function"&&(qp(s,o,ae,u),H=s.memoizedState),(N=_s||bE(s,o,N,u,Q,H,T))?(ne||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=H),g.props=u,g.state=H,g.context=T,u=N):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,am(r,s),T=s.memoizedProps,ne=Ia(o,T),g.props=ne,ae=s.pendingProps,Q=g.context,H=o.contextType,N=Do,typeof H=="object"&&H!==null&&(N=vn(H)),A=o.getDerivedStateFromProps,(H=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==ae||Q!==N)&&TE(s,g,u,N),_s=!1,Q=s.memoizedState,g.state=Q,mu(s,u,g,h),pu();var te=s.memoizedState;T!==ae||Q!==te||_s||r!==null&&r.dependencies!==null&&Vf(r.dependencies)?(typeof A=="function"&&(qp(s,o,A,u),te=s.memoizedState),(ne=_s||bE(s,o,ne,u,Q,te,N)||r!==null&&r.dependencies!==null&&Vf(r.dependencies))?(H||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,te,N),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,te,N)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=te),g.props=u,g.state=te,g.context=N,u=ne):(typeof g.componentDidUpdate!="function"||T===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),u=!1)}return g=u,fu(r,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&u?(s.child=Sa(s,r.child,null,h),s.child=Sa(s,null,o,h)):dn(r,s,o,h),s.memoizedState=g.state,r=s.child):r=wi(r,s,h),r}function LE(r,s,o,u){return eu(),s.flags|=256,dn(r,s,o,u),s.child}var Wp={dehydrated:null,treeContext:null,retryLane:0};function Yp(r){return{baseLanes:r,cachePool:B_()}}function Qp(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=lr),r}function UE(r,s,o){var u=s.pendingProps,h=!1,g=(s.flags&128)!==0,T;if((T=g)||(T=r!==null&&r.memoizedState===null?!1:(Gt.current&2)!==0),T&&(h=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,r===null){if(at){if(h?ps(s):ms(),at){var A=fn,N;if(N=A){e:{for(N=A,A=$r;N.nodeType!==8;){if(!A){A=null;break e}if(N=Rr(N.nextSibling),N===null){A=null;break e}}A=N}A!==null?(s.memoizedState={dehydrated:A,treeContext:Ea!==null?{id:bi,overflow:Ti}:null,retryLane:536870912},N=or(18,null,null,0),N.stateNode=A,N.return=s,s.child=N,Cn=s,fn=null,N=!0):N=!1}N||Ta(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return A.data==="$!"?s.lanes=16:s.lanes=536870912,null;Si(s)}return A=u.children,u=u.fallback,h?(ms(),h=s.mode,A=Zp({mode:"hidden",children:A},h),u=Na(u,h,o,null),A.return=s,u.return=s,A.sibling=u,s.child=A,h=s.child,h.memoizedState=Yp(o),h.childLanes=Qp(r,T,o),s.memoizedState=Wp,u):(ps(s),Xp(s,A))}if(N=r.memoizedState,N!==null&&(A=N.dehydrated,A!==null)){if(g)s.flags&256?(ps(s),s.flags&=-257,s=Jp(r,s,o)):s.memoizedState!==null?(ms(),s.child=r.child,s.flags|=128,s=null):(ms(),h=u.fallback,A=s.mode,u=Zp({mode:"visible",children:u.children},A),h=Na(h,A,o,null),h.flags|=2,u.return=s,h.return=s,u.sibling=h,s.child=u,Sa(s,r.child,null,o),u=s.child,u.memoizedState=Yp(o),u.childLanes=Qp(r,T,o),s.memoizedState=Wp,s=h);else if(ps(s),A.data==="$!"){if(T=A.nextSibling&&A.nextSibling.dataset,T)var H=T.dgst;T=H,u=Error(i(419)),u.stack="",u.digest=T,tu({value:u,source:null,stack:null}),s=Jp(r,s,o)}else if(nn||du(r,s,o,!1),T=(o&r.childLanes)!==0,nn||T){if(T=gt,T!==null){if(u=o&-o,u&42)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=u&(T.suspendedLanes|o)?0:u,u!==0&&u!==N.retryLane)throw N.retryLane=u,hs(r,u),In(T,r,u),DE}A.data==="$?"||Cm(),s=Jp(r,s,o)}else A.data==="$?"?(s.flags|=128,s.child=r.child,s=m1.bind(null,r),A._reactRetry=s,s=null):(r=N.treeContext,fn=Rr(A.nextSibling),Cn=s,at=!0,Ar=null,$r=!1,r!==null&&(nr[rr++]=bi,nr[rr++]=Ti,nr[rr++]=Ea,bi=r.id,Ti=r.overflow,Ea=s),s=Xp(s,u.children),s.flags|=4096);return s}return h?(ms(),h=u.fallback,A=s.mode,N=r.child,H=N.sibling,u=ws(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&31457280,H!==null?h=ws(H,h):(h=Na(h,A,o,null),h.flags|=2),h.return=s,u.return=s,u.sibling=h,s.child=u,u=h,h=s.child,A=r.child.memoizedState,A===null?A=Yp(o):(N=A.cachePool,N!==null?(H=$t._currentValue,N=N.parent!==H?{parent:H,pool:H}:N):N=B_(),A={baseLanes:A.baseLanes|o,cachePool:N}),h.memoizedState=A,h.childLanes=Qp(r,T,o),s.memoizedState=Wp,u):(ps(s),o=r.child,r=o.sibling,o=ws(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(T=s.deletions,T===null?(s.deletions=[r],s.flags|=16):T.push(r)),s.child=o,s.memoizedState=null,o)}function Xp(r,s){return s=Zp({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Zp(r,s){return cb(r,s,0,null)}function Jp(r,s,o){return Sa(s,r.child,null,o),r=Xp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function BE(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),rm(r.return,s,o)}function em(r,s,o,u,h){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=h)}function zE(r,s,o){var u=s.pendingProps,h=u.revealOrder,g=u.tail;if(dn(r,s,u.children,o),u=Gt.current,u&2)u=u&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&BE(r,o,s);else if(r.tag===19)BE(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(Xe(Gt,u),h){case"forwards":for(o=s.child,h=null;o!==null;)r=o.alternate,r!==null&&Af(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=s.child,s.child=null):(h=o.sibling,o.sibling=null),em(s,!1,h,o,g);break;case"backwards":for(o=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&Af(r)===null){s.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}em(s,!0,o,null,g);break;case"together":em(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function wi(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Rs|=s.lanes,!(o&s.childLanes))if(r!==null){if(du(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=ws(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=ws(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function tm(r,s){return r.lanes&s?!0:(r=r.dependencies,!!(r!==null&&Vf(r)))}function t1(r,s,o){switch(s.tag){case 3:ui(s,s.stateNode.containerInfo),vs(s,$t,r.memoizedState.cache),eu();break;case 27:case 5:lo(s);break;case 4:ui(s,s.stateNode.containerInfo);break;case 10:vs(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ps(s),s.flags|=128,null):o&s.child.childLanes?UE(r,s,o):(ps(s),r=wi(r,s,o),r!==null?r.sibling:null);ps(s);break;case 19:var h=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(du(r,s,o,!1),u=(o&s.childLanes)!==0),h){if(u)return zE(r,s,o);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Xe(Gt,Gt.current),u)break;return null;case 22:case 23:return s.lanes=0,PE(r,s,o);case 24:vs(s,$t,r.memoizedState.cache)}return wi(r,s,o)}function FE(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)nn=!0;else{if(!tm(r,o)&&!(s.flags&128))return nn=!1,t1(r,s,o);nn=!!(r.flags&131072)}else nn=!1,at&&s.flags&1048576&&w_(s,_f,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,h=u._init;if(u=h(u._payload),s.type=u,typeof u=="function")mm(u)?(r=Ia(u,r),s.tag=1,s=VE(null,s,u,r,o)):(s.tag=0,s=Kp(null,s,u,r,o));else{if(u!=null){if(h=u.$$typeof,h===w){s.tag=11,s=OE(null,s,u,r,o);break e}else if(h===z){s.tag=14,s=xE(null,s,u,r,o);break e}}throw s=I(u)||u,Error(i(306,s,""))}}return s;case 0:return Kp(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,h=Ia(u,s.pendingProps),VE(r,s,u,h,o);case 3:e:{if(ui(s,s.stateNode.containerInfo),r===null)throw Error(i(387));var g=s.pendingProps;h=s.memoizedState,u=h.element,am(r,s),mu(s,g,null,o);var T=s.memoizedState;if(g=T.cache,vs(s,$t,g),g!==h.cache&&im(s,[$t],o,!0),pu(),g=T.element,h.isDehydrated)if(h={element:g,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=h,s.memoizedState=h,s.flags&256){s=LE(r,s,g,o);break e}else if(g!==u){u=tr(Error(i(424)),s),tu(u),s=LE(r,s,g,o);break e}else for(fn=Rr(s.stateNode.containerInfo.firstChild),Cn=s,at=!0,Ar=null,$r=!0,o=M_(s,null,g,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(eu(),g===u){s=wi(r,s,o);break e}dn(r,s,g,o)}s=s.child}return s;case 26:return fu(r,s),r===null?(o=qb(s.type,null,s.pendingProps,null))?s.memoizedState=o:at||(o=s.type,r=s.pendingProps,u=Zf(Ot.current).createElement(o),u[Jt]=s,u[jt]=r,hn(u,o,r),bt(u),s.stateNode=u):s.memoizedState=qb(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return lo(s),r===null&&at&&(u=s.stateNode=Fb(s.type,s.pendingProps,Ot.current),Cn=s,$r=!0,fn=Rr(u.firstChild)),u=s.pendingProps.children,r!==null||at?dn(r,s,u,o):s.child=Sa(s,null,u,o),fu(r,s),s.child;case 5:return r===null&&at&&((h=u=fn)&&(u=x1(u,s.type,s.pendingProps,$r),u!==null?(s.stateNode=u,Cn=s,fn=Rr(u.firstChild),$r=!1,h=!0):h=!1),h||Ta(s)),lo(s),h=s.type,g=s.pendingProps,T=r!==null?r.memoizedProps:null,u=g.children,Fm(h,g)?u=null:T!==null&&Fm(h,T)&&(s.flags|=32),s.memoizedState!==null&&(h=Dp(r,s,WI,null,null,o),Ou._currentValue=h),fu(r,s),dn(r,s,u,o),s.child;case 6:return r===null&&at&&((r=o=fn)&&(o=N1(o,s.pendingProps,$r),o!==null?(s.stateNode=o,Cn=s,fn=null,r=!0):r=!1),r||Ta(s)),null;case 13:return UE(r,s,o);case 4:return ui(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=Sa(s,null,u,o):dn(r,s,u,o),s.child;case 11:return OE(r,s,s.type,s.pendingProps,o);case 7:return dn(r,s,s.pendingProps,o),s.child;case 8:return dn(r,s,s.pendingProps.children,o),s.child;case 12:return dn(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,vs(s,s.type,u.value),dn(r,s,u.children,o),s.child;case 9:return h=s.type._context,u=s.pendingProps.children,Oa(s),h=vn(h),u=u(h),s.flags|=1,dn(r,s,u,o),s.child;case 14:return xE(r,s,s.type,s.pendingProps,o);case 15:return NE(r,s,s.type,s.pendingProps,o);case 19:return zE(r,s,o);case 22:return PE(r,s,o);case 24:return Oa(s),u=vn($t),r===null?(h=Cp(),h===null&&(h=gt,g=wp(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=o),h=g),s.memoizedState={parent:u,cache:h},sm(s),vs(s,$t,h)):(r.lanes&o&&(am(r,s),mu(s,null,null,o),pu()),h=r.memoizedState,g=s.memoizedState,h.parent!==u?(h={parent:u,cache:u},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),vs(s,$t,u)):(u=g.cache,vs(s,$t,u),u!==h.cache&&im(s,[$t],o,!0))),dn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}var nm=qe(null),Da=null,Ri=null;function vs(r,s,o){Xe(nm,s._currentValue),s._currentValue=o}function Ci(r){r._currentValue=nm.current,lt(nm)}function rm(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function im(r,s,o,u){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var g=h.dependencies;if(g!==null){var T=h.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=h;for(var N=0;N<s.length;N++)if(A.context===s[N]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),rm(g.return,o,r),u||(T=null);break e}g=A.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(i(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),rm(T,o,r),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===r){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function du(r,s,o,u){r=null;for(var h=s,g=!1;h!==null;){if(!g){if(h.flags&524288)g=!0;else if(h.flags&262144)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var A=h.type;Un(h.pendingProps.value,T.value)||(r!==null?r.push(A):r=[A])}}else if(h===_r.current){if(T=h.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(Ou):r=[Ou])}h=h.return}r!==null&&im(s,r,o,u),s.flags|=262144}function Vf(r){for(r=r.firstContext;r!==null;){if(!Un(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Oa(r){Da=r,Ri=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function vn(r){return jE(Da,r)}function Lf(r,s){return Da===null&&Oa(r),jE(r,s)}function jE(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ri===null){if(r===null)throw Error(i(308));Ri=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ri=Ri.next=s;return o}var _s=!1;function sm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function am(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Es(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function bs(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,St&2){var h=u.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),u.pending=s,s=yf(r),S_(r,null,o),s}return gf(r,u,s,o),yf(r)}function hu(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,rs(r,o)}}function om(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?h=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?h=g=s:g=g.next=s}else h=g=s;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var lm=!1;function pu(){if(lm){var r=ko;if(r!==null)throw r}}function mu(r,s,o,u){lm=!1;var h=r.updateQueue;_s=!1;var g=h.firstBaseUpdate,T=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var N=A,H=N.next;N.next=null,T===null?g=H:T.next=H,T=N;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,A=ne.lastBaseUpdate,A!==T&&(A===null?ne.firstBaseUpdate=H:A.next=H,ne.lastBaseUpdate=N))}if(g!==null){var ae=h.baseState;T=0,ne=H=N=null,A=g;do{var Q=A.lane&-536870913,te=Q!==A.lane;if(te?(nt&Q)===Q:(u&Q)===Q){Q!==0&&Q===Mo&&(lm=!0),ne!==null&&(ne=ne.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Ae=r,Ve=A;Q=s;var It=o;switch(Ve.tag){case 1:if(Ae=Ve.payload,typeof Ae=="function"){ae=Ae.call(It,ae,Q);break e}ae=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Ve.payload,Q=typeof Ae=="function"?Ae.call(It,ae,Q):Ae,Q==null)break e;ae=O({},ae,Q);break e;case 2:_s=!0}}Q=A.callback,Q!==null&&(r.flags|=64,te&&(r.flags|=8192),te=h.callbacks,te===null?h.callbacks=[Q]:te.push(Q))}else te={lane:Q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ne===null?(H=ne=te,N=ae):ne=ne.next=te,T|=Q;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;te=A,A=te.next,te.next=null,h.lastBaseUpdate=te,h.shared.pending=null}}while(!0);ne===null&&(N=ae),h.baseState=N,h.firstBaseUpdate=H,h.lastBaseUpdate=ne,g===null&&(h.shared.lanes=0),Rs|=T,r.lanes=T,r.memoizedState=ae}}function HE(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function qE(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)HE(o[r],s)}function gu(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&r)===r){u=void 0;var g=o.create,T=o.inst;u=g(),T.destroy=u}o=o.next}while(o!==h)}}catch(A){pt(s,s.return,A)}}function Ts(r,s,o){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var g=h.next;u=g;do{if((u.tag&r)===r){var T=u.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,h=s;var N=o;try{A()}catch(H){pt(h,N,H)}}}u=u.next}while(u!==g)}}catch(H){pt(s,s.return,H)}}function GE(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{qE(s,o)}catch(u){pt(r,r.return,u)}}}function $E(r,s,o){o.props=Ia(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){pt(r,s,u)}}function xa(r,s){try{var o=r.ref;if(o!==null){var u=r.stateNode;switch(r.tag){case 26:case 27:case 5:var h=u;break;default:h=u}typeof o=="function"?r.refCleanup=o(h):o.current=h}}catch(g){pt(r,s,g)}}function Bn(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){pt(r,s,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){pt(r,s,h)}else o.current=null}function KE(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){pt(r,r.return,h)}}function WE(r,s,o){try{var u=r.stateNode;R1(u,r.type,o,s),u[jt]=s}catch(h){pt(r,r.return,h)}}function YE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function um(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||YE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function cm(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(r,s):o.insertBefore(r,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(r,o)):(s=o,s.appendChild(r)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Xf));else if(u!==4&&u!==27&&(r=r.child,r!==null))for(cm(r,s,o),r=r.sibling;r!==null;)cm(r,s,o),r=r.sibling}function Uf(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&u!==27&&(r=r.child,r!==null))for(Uf(r,s,o),r=r.sibling;r!==null;)Uf(r,s,o),r=r.sibling}var Ii=!1,Rt=!1,fm=!1,QE=typeof WeakSet=="function"?WeakSet:Set,rn=null,XE=!1;function n1(r,s){if(r=r.containerInfo,Bm=id,r=p_(r),hp(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,A=-1,N=-1,H=0,ne=0,ae=r,Q=null;t:for(;;){for(var te;ae!==o||h!==0&&ae.nodeType!==3||(A=T+h),ae!==g||u!==0&&ae.nodeType!==3||(N=T+u),ae.nodeType===3&&(T+=ae.nodeValue.length),(te=ae.firstChild)!==null;)Q=ae,ae=te;for(;;){if(ae===r)break t;if(Q===o&&++H===h&&(A=T),Q===g&&++ne===u&&(N=T),(te=ae.nextSibling)!==null)break;ae=Q,Q=ae.parentNode}ae=te}o=A===-1||N===-1?null:{start:A,end:N}}else o=null}o=o||{start:0,end:0}}else o=null;for(zm={focusedElem:r,selectionRange:o},id=!1,rn=s;rn!==null;)if(s=rn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,rn=r;else for(;rn!==null;){switch(s=rn,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if(r&1024&&g!==null){r=void 0,o=s,h=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Ae=Ia(o.type,h,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Ae,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(Ve){pt(o,o.return,Ve)}}break;case 3:if(r&1024){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)qm(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":qm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(r&1024)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,rn=r;break}rn=s.return}return Ae=XE,XE=!1,Ae}function ZE(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Oi(r,o),u&4&&gu(5,o);break;case 1:if(Oi(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(A){pt(o,o.return,A)}else{var h=Ia(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(h,s,r.__reactInternalSnapshotBeforeUpdate)}catch(A){pt(o,o.return,A)}}u&64&&GE(o),u&512&&xa(o,o.return);break;case 3:if(Oi(r,o),u&64&&(u=o.updateQueue,u!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{qE(u,r)}catch(A){pt(o,o.return,A)}}break;case 26:Oi(r,o),u&512&&xa(o,o.return);break;case 27:case 5:Oi(r,o),s===null&&u&4&&KE(o),u&512&&xa(o,o.return);break;case 12:Oi(r,o);break;case 13:Oi(r,o),u&4&&tb(r,o);break;case 22:if(h=o.memoizedState!==null||Ii,!h){s=s!==null&&s.memoizedState!==null||Rt;var g=Ii,T=Rt;Ii=h,(Rt=s)&&!T?Ss(r,o,(o.subtreeFlags&8772)!==0):Oi(r,o),Ii=g,Rt=T}u&512&&(o.memoizedProps.mode==="manual"?xa(o,o.return):Bn(o,o.return));break;default:Oi(r,o)}}function JE(r){var s=r.alternate;s!==null&&(r.alternate=null,JE(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&oa(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Lt=null,zn=!1;function Di(r,s,o){for(o=o.child;o!==null;)eb(r,s,o),o=o.sibling}function eb(r,s,o){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Er,o)}catch{}switch(o.tag){case 26:Rt||Bn(o,s),Di(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Rt||Bn(o,s);var u=Lt,h=zn;for(Lt=o.stateNode,Di(r,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);oa(o),Lt=u,zn=h;break;case 5:Rt||Bn(o,s);case 6:h=Lt;var g=zn;if(Lt=null,Di(r,s,o),Lt=h,zn=g,Lt!==null)if(zn)try{r=Lt,u=o.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)}catch(T){pt(o,s,T)}else try{Lt.removeChild(o.stateNode)}catch(T){pt(o,s,T)}break;case 18:Lt!==null&&(zn?(s=Lt,o=o.stateNode,s.nodeType===8?Hm(s.parentNode,o):s.nodeType===1&&Hm(s,o),Mu(s)):Hm(Lt,o.stateNode));break;case 4:u=Lt,h=zn,Lt=o.stateNode.containerInfo,zn=!0,Di(r,s,o),Lt=u,zn=h;break;case 0:case 11:case 14:case 15:Rt||Ts(2,o,s),Rt||Ts(4,o,s),Di(r,s,o);break;case 1:Rt||(Bn(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&$E(o,s,u)),Di(r,s,o);break;case 21:Di(r,s,o);break;case 22:Rt||Bn(o,s),Rt=(u=Rt)||o.memoizedState!==null,Di(r,s,o),Rt=u;break;default:Di(r,s,o)}}function tb(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Mu(r)}catch(o){pt(s,s.return,o)}}function r1(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new QE),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new QE),s;default:throw Error(i(435,r.tag))}}function dm(r,s){var o=r1(r);s.forEach(function(u){var h=g1.bind(null,r,u);o.has(u)||(o.add(u),u.then(h,h))})}function sr(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],g=r,T=s,A=T;e:for(;A!==null;){switch(A.tag){case 27:case 5:Lt=A.stateNode,zn=!1;break e;case 3:Lt=A.stateNode.containerInfo,zn=!0;break e;case 4:Lt=A.stateNode.containerInfo,zn=!0;break e}A=A.return}if(Lt===null)throw Error(i(160));eb(g,T,h),Lt=null,zn=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)nb(s,r),s=s.sibling}var wr=null;function nb(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:sr(s,r),ar(r),u&4&&(Ts(3,r,r.return),gu(3,r),Ts(5,r,r.return));break;case 1:sr(s,r),ar(r),u&512&&(Rt||o===null||Bn(o,o.return)),u&64&&Ii&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=wr;if(sr(s,r),ar(r),u&512&&(Rt||o===null||Bn(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":g=h.getElementsByTagName("title")[0],(!g||g[ss]||g[Jt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(u),h.head.insertBefore(g,h.querySelector("head > title"))),hn(g,u,o),g[Jt]=r,bt(g),u=g;break e;case"link":var T=Kb("link","href",h).get(u+(o.href||""));if(T){for(var A=0;A<T.length;A++)if(g=T[A],g.getAttribute("href")===(o.href==null?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(A,1);break t}}g=h.createElement(u),hn(g,u,o),h.head.appendChild(g);break;case"meta":if(T=Kb("meta","content",h).get(u+(o.content||""))){for(A=0;A<T.length;A++)if(g=T[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(A,1);break t}}g=h.createElement(u),hn(g,u,o),h.head.appendChild(g);break;default:throw Error(i(468,u))}g[Jt]=r,bt(g),u=g}r.stateNode=u}else Wb(h,r.type,r.stateNode);else r.stateNode=$b(h,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?Wb(h,r.type,r.stateNode):$b(h,u,r.memoizedProps)):u===null&&r.stateNode!==null&&WE(r,r.memoizedProps,o.memoizedProps)}break;case 27:if(u&4&&r.alternate===null){h=r.stateNode,g=r.memoizedProps;try{for(var N=h.firstChild;N;){var H=N.nextSibling,ne=N.nodeName;N[ss]||ne==="HEAD"||ne==="BODY"||ne==="SCRIPT"||ne==="STYLE"||ne==="LINK"&&N.rel.toLowerCase()==="stylesheet"||h.removeChild(N),N=H}for(var ae=r.type,Q=h.attributes;Q.length;)h.removeAttributeNode(Q[0]);hn(h,ae,g),h[Jt]=r,h[jt]=g}catch(Ae){pt(r,r.return,Ae)}}case 5:if(sr(s,r),ar(r),u&512&&(Rt||o===null||Bn(o,o.return)),r.flags&32){h=r.stateNode;try{Qn(h,"")}catch(Ae){pt(r,r.return,Ae)}}u&4&&r.stateNode!=null&&(h=r.memoizedProps,WE(r,h,o!==null?o.memoizedProps:h)),u&1024&&(fm=!0);break;case 6:if(sr(s,r),ar(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(Ae){pt(r,r.return,Ae)}}break;case 3:if(td=null,h=wr,wr=Jf(s.containerInfo),sr(s,r),wr=h,ar(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Mu(s.containerInfo)}catch(Ae){pt(r,r.return,Ae)}fm&&(fm=!1,rb(r));break;case 4:u=wr,wr=Jf(r.stateNode.containerInfo),sr(s,r),ar(r),wr=u;break;case 12:sr(s,r),ar(r);break;case 13:sr(s,r),ar(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(bm=_e()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,dm(r,u)));break;case 22:if(u&512&&(Rt||o===null||Bn(o,o.return)),N=r.memoizedState!==null,H=o!==null&&o.memoizedState!==null,ne=Ii,ae=Rt,Ii=ne||N,Rt=ae||H,sr(s,r),Rt=ae,Ii=ne,ar(r),s=r.stateNode,s._current=r,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,u&8192&&(s._visibility=N?s._visibility&-2:s._visibility|1,N&&(s=Ii||Rt,o===null||H||s||Bo(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(o=null,s=r;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){H=o=s;try{if(h=H.stateNode,N)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=H.stateNode,A=H.memoizedProps.style;var te=A!=null&&A.hasOwnProperty("display")?A.display:null;T.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Ae){pt(H,H.return,Ae)}}}else if(s.tag===6){if(o===null){H=s;try{H.stateNode.nodeValue=N?"":H.memoizedProps}catch(Ae){pt(H,H.return,Ae)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,dm(r,o))));break;case 19:sr(s,r),ar(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,dm(r,u)));break;case 21:break;default:sr(s,r),ar(r)}}function ar(r){var s=r.flags;if(s&2){try{if(r.tag!==27){e:{for(var o=r.return;o!==null;){if(YE(o)){var u=o;break e}o=o.return}throw Error(i(160))}switch(u.tag){case 27:var h=u.stateNode,g=um(r);Uf(r,g,h);break;case 5:var T=u.stateNode;u.flags&32&&(Qn(T,""),u.flags&=-33);var A=um(r);Uf(r,A,T);break;case 3:case 4:var N=u.stateNode.containerInfo,H=um(r);cm(r,H,N);break;default:throw Error(i(161))}}}catch(ne){pt(r,r.return,ne)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function rb(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;rb(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Oi(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)ZE(r,s.alternate,s),s=s.sibling}function Bo(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Ts(4,s,s.return),Bo(s);break;case 1:Bn(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&$E(s,s.return,o),Bo(s);break;case 26:case 27:case 5:Bn(s,s.return),Bo(s);break;case 22:Bn(s,s.return),s.memoizedState===null&&Bo(s);break;default:Bo(s)}r=r.sibling}}function Ss(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,h=r,g=s,T=g.flags;switch(g.tag){case 0:case 11:case 15:Ss(h,g,o),gu(4,g);break;case 1:if(Ss(h,g,o),u=g,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){pt(u,u.return,H)}if(u=g,h=u.updateQueue,h!==null){var A=u.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)HE(N[h],A)}catch(H){pt(u,u.return,H)}}o&&T&64&&GE(g),xa(g,g.return);break;case 26:case 27:case 5:Ss(h,g,o),o&&u===null&&T&4&&KE(g),xa(g,g.return);break;case 12:Ss(h,g,o);break;case 13:Ss(h,g,o),o&&T&4&&tb(h,g);break;case 22:g.memoizedState===null&&Ss(h,g,o),xa(g,g.return);break;default:Ss(h,g,o)}s=s.sibling}}function hm(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&au(o))}function pm(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&au(r))}function As(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)ib(r,s,o,u),s=s.sibling}function ib(r,s,o,u){var h=s.flags;switch(s.tag){case 0:case 11:case 15:As(r,s,o,u),h&2048&&gu(9,s);break;case 3:As(r,s,o,u),h&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&au(r)));break;case 12:if(h&2048){As(r,s,o,u),r=s.stateNode;try{var g=s.memoizedProps,T=g.id,A=g.onPostCommit;typeof A=="function"&&A(T,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(N){pt(s,s.return,N)}}else As(r,s,o,u);break;case 23:break;case 22:g=s.stateNode,s.memoizedState!==null?g._visibility&4?As(r,s,o,u):yu(r,s):g._visibility&4?As(r,s,o,u):(g._visibility|=4,zo(r,s,o,u,(s.subtreeFlags&10256)!==0)),h&2048&&hm(s.alternate,s);break;case 24:As(r,s,o,u),h&2048&&pm(s.alternate,s);break;default:As(r,s,o,u)}}function zo(r,s,o,u,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,T=s,A=o,N=u,H=T.flags;switch(T.tag){case 0:case 11:case 15:zo(g,T,A,N,h),gu(8,T);break;case 23:break;case 22:var ne=T.stateNode;T.memoizedState!==null?ne._visibility&4?zo(g,T,A,N,h):yu(g,T):(ne._visibility|=4,zo(g,T,A,N,h)),h&&H&2048&&hm(T.alternate,T);break;case 24:zo(g,T,A,N,h),h&&H&2048&&pm(T.alternate,T);break;default:zo(g,T,A,N,h)}s=s.sibling}}function yu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,h=u.flags;switch(u.tag){case 22:yu(o,u),h&2048&&hm(u.alternate,u);break;case 24:yu(o,u),h&2048&&pm(u.alternate,u);break;default:yu(o,u)}s=s.sibling}}var vu=8192;function Fo(r){if(r.subtreeFlags&vu)for(r=r.child;r!==null;)sb(r),r=r.sibling}function sb(r){switch(r.tag){case 26:Fo(r),r.flags&vu&&r.memoizedState!==null&&G1(wr,r.memoizedState,r.memoizedProps);break;case 5:Fo(r);break;case 3:case 4:var s=wr;wr=Jf(r.stateNode.containerInfo),Fo(r),wr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=vu,vu=16777216,Fo(r),vu=s):Fo(r));break;default:Fo(r)}}function ab(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function _u(r){var s=r.deletions;if(r.flags&16){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];rn=u,lb(u,r)}ab(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)ob(r),r=r.sibling}function ob(r){switch(r.tag){case 0:case 11:case 15:_u(r),r.flags&2048&&Ts(9,r,r.return);break;case 3:_u(r);break;case 12:_u(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&4&&(r.return===null||r.return.tag!==13)?(s._visibility&=-5,Bf(r)):_u(r);break;default:_u(r)}}function Bf(r){var s=r.deletions;if(r.flags&16){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];rn=u,lb(u,r)}ab(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Ts(8,s,s.return),Bf(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,Bf(s));break;default:Bf(s)}r=r.sibling}}function lb(r,s){for(;rn!==null;){var o=rn;switch(o.tag){case 0:case 11:case 15:Ts(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:au(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,rn=u;else e:for(o=r;rn!==null;){u=rn;var h=u.sibling,g=u.return;if(JE(u),u===o){rn=null;break e}if(h!==null){h.return=g,rn=h;break e}rn=g}}}function i1(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(r,s,o,u){return new i1(r,s,o,u)}function mm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ws(r,s){var o=r.alternate;return o===null?(o=or(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&31457280,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function ub(r,s){r.flags&=31457282;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function zf(r,s,o,u,h,g){var T=0;if(u=r,typeof r=="function")mm(r)&&(T=1);else if(typeof r=="string")T=H1(r,o,Ft.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case p:return Na(o.children,h,g,s);case m:T=8,h|=24;break;case y:return r=or(12,o,s,h|2),r.elementType=y,r.lanes=g,r;case M:return r=or(13,o,s,h),r.elementType=M,r.lanes=g,r;case D:return r=or(19,o,s,h),r.elementType=D,r.lanes=g,r;case q:return cb(o,h,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case _:case S:T=10;break e;case E:T=9;break e;case w:T=11;break e;case z:T=14;break e;case F:T=16,u=null;break e}T=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=or(T,o,s,h),s.elementType=r,s.type=u,s.lanes=g,s}function Na(r,s,o,u){return r=or(7,r,u,s),r.lanes=o,r}function cb(r,s,o,u){r=or(22,r,u,s),r.elementType=q,r.lanes=o;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=h._current;if(g===null)throw Error(i(456));if(!(h._pendingVisibility&2)){var T=hs(g,2);T!==null&&(h._pendingVisibility|=2,In(T,g,2))}},attach:function(){var g=h._current;if(g===null)throw Error(i(456));if(h._pendingVisibility&2){var T=hs(g,2);T!==null&&(h._pendingVisibility&=-3,In(T,g,2))}}};return r.stateNode=h,r}function gm(r,s,o){return r=or(6,r,null,s),r.lanes=o,r}function ym(r,s,o){return s=or(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function xi(r){r.flags|=4}function fb(r,s){if(s.type!=="stylesheet"||s.state.loading&4)r.flags&=-16777217;else if(r.flags|=16777216,!Yb(s)){if(s=ir.current,s!==null&&((nt&4194176)===nt?Kr!==null:(nt&62914560)!==nt&&!(nt&536870912)||s!==Kr))throw ru=Tp,I_;r.flags|=8192}}function Ff(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?ts():536870912,r.lanes|=s,Ho|=s)}function Eu(r,s){if(!at)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Tt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&31457280,u|=h.flags&31457280,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function s1(r,s,o){var u=s.pendingProps;switch(Ep(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(s),null;case 1:return Tt(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ci($t),Mr(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Jl(s)?xi(s):r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Ar!==null&&(wm(Ar),Ar=null))),Tt(s),null;case 26:return o=s.memoizedState,r===null?(xi(s),o!==null?(Tt(s),fb(s,o)):(Tt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(xi(s),Tt(s),fb(s,o)):(Tt(s),s.flags&=-16777217):(r.memoizedProps!==u&&xi(s),Tt(s),s.flags&=-16777217),null;case 27:U(s),o=Ot.current;var h=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&xi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Tt(s),null}r=Ft.current,Jl(s)?R_(s):(r=Fb(h,u,o),s.stateNode=r,xi(s))}return Tt(s),null;case 5:if(U(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&xi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Tt(s),null}if(r=Ft.current,Jl(s))R_(s);else{switch(h=Zf(Ot.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?h.createElement(o,{is:u.is}):h.createElement(o)}}r[Jt]=s,r[jt]=u;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=r;e:switch(hn(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&xi(s)}}return Tt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&xi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=Ot.current,Jl(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,h=Cn,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}r[Jt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||kb(r.nodeValue,o)),r||Ta(s)}else r=Zf(r).createTextNode(u),r[Jt]=s,s.stateNode=r}return Tt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=Jl(s),u!==null&&u.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Jt]=s}else eu(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Tt(s),h=!1}else Ar!==null&&(wm(Ar),Ar=null),h=!0;if(!h)return s.flags&256?(Si(s),s):(Si(s),null)}if(Si(s),s.flags&128)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==h&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Ff(s,s.updateQueue),Tt(s),null;case 4:return Mr(),r===null&&Vm(s.stateNode.containerInfo),Tt(s),null;case 10:return Ci(s.type),Tt(s),null;case 19:if(lt(Gt),h=s.memoizedState,h===null)return Tt(s),null;if(u=(s.flags&128)!==0,g=h.rendering,g===null)if(u)Eu(h,!1);else{if(Ct!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(g=Af(r),g!==null){for(s.flags|=128,Eu(h,!1),r=g.updateQueue,s.updateQueue=r,Ff(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)ub(o,r),o=o.sibling;return Xe(Gt,Gt.current&1|2),s.child}r=r.sibling}h.tail!==null&&_e()>jf&&(s.flags|=128,u=!0,Eu(h,!1),s.lanes=4194304)}else{if(!u)if(r=Af(g),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,Ff(s,r),Eu(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!at)return Tt(s),null}else 2*_e()-h.renderingStartTime>jf&&o!==536870912&&(s.flags|=128,u=!0,Eu(h,!1),s.lanes=4194304);h.isBackwards?(g.sibling=s.child,s.child=g):(r=h.last,r!==null?r.sibling=g:s.child=g,h.last=g)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=_e(),s.sibling=null,r=Gt.current,Xe(Gt,u?r&1|2:r&1),s):(Tt(s),null);case 22:case 23:return Si(s),Ap(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?o&536870912&&!(s.flags&128)&&(Tt(s),s.subtreeFlags&6&&(s.flags|=8192)):Tt(s),o=s.updateQueue,o!==null&&Ff(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&lt(Aa),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ci($t),Tt(s),null;case 25:return null}throw Error(i(156,s.tag))}function a1(r,s){switch(Ep(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ci($t),Mr(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return U(s),null;case 13:if(Si(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));eu()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return lt(Gt),null;case 4:return Mr(),null;case 10:return Ci(s.type),null;case 22:case 23:return Si(s),Ap(),r!==null&&lt(Aa),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ci($t),null;case 25:return null;default:return null}}function db(r,s){switch(Ep(s),s.tag){case 3:Ci($t),Mr();break;case 26:case 27:case 5:U(s);break;case 4:Mr();break;case 13:Si(s);break;case 19:lt(Gt);break;case 10:Ci(s.type);break;case 22:case 23:Si(s),Ap(),r!==null&&lt(Aa);break;case 24:Ci($t)}}var o1={getCacheForType:function(r){var s=vn($t),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},l1=typeof WeakMap=="function"?WeakMap:Map,St=0,gt=null,We=null,nt=0,yt=0,Fn=null,Ni=!1,jo=!1,vm=!1,Pi=0,Ct=0,Rs=0,Pa=0,_m=0,lr=0,Ho=0,bu=null,Yr=null,Em=!1,bm=0,jf=1/0,Hf=null,Cs=null,qf=!1,Ma=null,Tu=0,Tm=0,Sm=null,Su=0,Am=null;function jn(){if(St&2&&nt!==0)return nt&-nt;if(C.T!==null){var r=Mo;return r!==0?r:Nm()}return Yc()}function hb(){lr===0&&(lr=!(nt&536870912)||at?kl():536870912);var r=ir.current;return r!==null&&(r.flags|=32),lr}function In(r,s,o){(r===gt&&yt===2||r.cancelPendingCommit!==null)&&(qo(r,0),Mi(r,nt,lr,!1)),xt(r,o),(!(St&2)||r!==gt)&&(r===gt&&(!(St&2)&&(Pa|=o),Ct===4&&Mi(r,nt,lr,!1)),Qr(r))}function pb(r,s,o){if(St&6)throw Error(i(327));var u=!o&&(s&60)===0&&(s&r.expiredLanes)===0||es(r,s),h=u?f1(r,s):Im(r,s,!0),g=u;do{if(h===0){jo&&!u&&Mi(r,s,0,!1);break}else if(h===6)Mi(r,s,0,!Ni);else{if(o=r.current.alternate,g&&!u1(o)){h=Im(r,s,!1),g=!1;continue}if(h===2){if(g=s,r.errorRecoveryDisabledLanes&g)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var A=r;h=bu;var N=A.current.memoizedState.isDehydrated;if(N&&(qo(A,T).flags|=256),T=Im(A,T,!1),T!==2){if(vm&&!N){A.errorRecoveryDisabledLanes|=g,Pa|=g,h=4;break e}g=Yr,Yr=h,g!==null&&wm(g)}h=T}if(g=!1,h!==2)continue}}if(h===1){qo(r,0),Mi(r,s,0,!0);break}e:{switch(u=r,h){case 0:case 1:throw Error(i(345));case 4:if((s&4194176)===s){Mi(u,s,lr,!Ni);break e}break;case 2:Yr=null;break;case 3:case 5:break;default:throw Error(i(329))}if(u.finishedWork=o,u.finishedLanes=s,(s&62914560)===s&&(g=bm+300-_e(),10<g)){if(Mi(u,s,lr,!Ni),Wn(u,0)!==0)break e;u.timeoutHandle=Ub(mb.bind(null,u,o,Yr,Hf,Em,s,lr,Pa,Ho,Ni,2,-0,0),g);break e}mb(u,o,Yr,Hf,Em,s,lr,Pa,Ho,Ni,0,-0,0)}}break}while(!0);Qr(r)}function wm(r){Yr===null?Yr=r:Yr.push.apply(Yr,r)}function mb(r,s,o,u,h,g,T,A,N,H,ne,ae,Q){var te=s.subtreeFlags;if((te&8192||(te&16785408)===16785408)&&(Du={stylesheets:null,count:0,unsuspend:q1},sb(s),s=$1(),s!==null)){r.cancelPendingCommit=s(Tb.bind(null,r,o,u,h,T,A,N,1,ae,Q)),Mi(r,g,T,!H);return}Tb(r,o,u,h,T,A,N,ne,ae,Q)}function u1(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],g=h.getSnapshot;h=h.value;try{if(!Un(g(),h))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Mi(r,s,o,u){s&=~_m,s&=~Pa,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var h=s;0<h;){var g=31-An(h),T=1<<g;u[g]=-1,h&=~T}o!==0&&ns(r,o,s)}function Gf(){return St&6?!0:(Au(0),!1)}function Rm(){if(We!==null){if(yt===0)var r=We.return;else r=We,Ri=Da=null,Np(r),No=null,iu=0,r=We;for(;r!==null;)db(r.alternate,r),r=r.return;We=null}}function qo(r,s){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,I1(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Rm(),gt=r,We=o=ws(r.current,null),nt=s,yt=0,Fn=null,Ni=!1,jo=es(r,s),vm=!1,Ho=lr=_m=Pa=Rs=Ct=0,Yr=bu=null,Em=!1,s&8&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var h=31-An(u),g=1<<h;s|=r[h],u&=~g}return Pi=s,mf(),o}function gb(r,s){He=null,C.H=Wr,s===nu?(s=x_(),yt=3):s===I_?(s=x_(),yt=4):yt=s===DE?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Fn=s,We===null&&(Ct=1,kf(r,tr(s,r.current)))}function yb(){var r=C.H;return C.H=Wr,r===null?Wr:r}function vb(){var r=C.A;return C.A=o1,r}function Cm(){Ct=4,Ni||(nt&4194176)!==nt&&ir.current!==null||(jo=!0),!(Rs&134217727)&&!(Pa&134217727)||gt===null||Mi(gt,nt,lr,!1)}function Im(r,s,o){var u=St;St|=2;var h=yb(),g=vb();(gt!==r||nt!==s)&&(Hf=null,qo(r,s)),s=!1;var T=Ct;e:do try{if(yt!==0&&We!==null){var A=We,N=Fn;switch(yt){case 8:Rm(),T=6;break e;case 3:case 2:case 6:ir.current===null&&(s=!0);var H=yt;if(yt=0,Fn=null,Go(r,A,N,H),o&&jo){T=0;break e}break;default:H=yt,yt=0,Fn=null,Go(r,A,N,H)}}c1(),T=Ct;break}catch(ne){gb(r,ne)}while(!0);return s&&r.shellSuspendCounter++,Ri=Da=null,St=u,C.H=h,C.A=g,We===null&&(gt=null,nt=0,mf()),T}function c1(){for(;We!==null;)_b(We)}function f1(r,s){var o=St;St|=2;var u=yb(),h=vb();gt!==r||nt!==s?(Hf=null,jf=_e()+500,qo(r,s)):jo=es(r,s);e:do try{if(yt!==0&&We!==null){s=We;var g=Fn;t:switch(yt){case 1:yt=0,Fn=null,Go(r,s,g,1);break;case 2:if(D_(g)){yt=0,Fn=null,Eb(s);break}s=function(){yt===2&&gt===r&&(yt=7),Qr(r)},g.then(s,s);break e;case 3:yt=7;break e;case 4:yt=5;break e;case 7:D_(g)?(yt=0,Fn=null,Eb(s)):(yt=0,Fn=null,Go(r,s,g,7));break;case 5:var T=null;switch(We.tag){case 26:T=We.memoizedState;case 5:case 27:var A=We;if(!T||Yb(T)){yt=0,Fn=null;var N=A.sibling;if(N!==null)We=N;else{var H=A.return;H!==null?(We=H,$f(H)):We=null}break t}}yt=0,Fn=null,Go(r,s,g,5);break;case 6:yt=0,Fn=null,Go(r,s,g,6);break;case 8:Rm(),Ct=6;break e;default:throw Error(i(462))}}d1();break}catch(ne){gb(r,ne)}while(!0);return Ri=Da=null,C.H=u,C.A=h,St=o,We!==null?0:(gt=null,nt=0,mf(),Ct)}function d1(){for(;We!==null&&!he();)_b(We)}function _b(r){var s=FE(r.alternate,r,Pi);r.memoizedProps=r.pendingProps,s===null?$f(r):We=s}function Eb(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=kE(o,s,s.pendingProps,s.type,void 0,nt);break;case 11:s=kE(o,s,s.pendingProps,s.type.render,s.ref,nt);break;case 5:Np(s);default:db(o,s),s=We=ub(s,Pi),s=FE(o,s,Pi)}r.memoizedProps=r.pendingProps,s===null?$f(r):We=s}function Go(r,s,o,u){Ri=Da=null,Np(s),No=null,iu=0;var h=s.return;try{if(e1(r,h,s,o,nt)){Ct=1,kf(r,tr(o,r.current)),We=null;return}}catch(g){if(h!==null)throw We=h,g;Ct=1,kf(r,tr(o,r.current)),We=null;return}s.flags&32768?(at||u===1?r=!0:jo||nt&536870912?r=!1:(Ni=r=!0,(u===2||u===3||u===6)&&(u=ir.current,u!==null&&u.tag===13&&(u.flags|=16384))),bb(s,r)):$f(s)}function $f(r){var s=r;do{if(s.flags&32768){bb(s,Ni);return}r=s.return;var o=s1(s.alternate,s,Pi);if(o!==null){We=o;return}if(s=s.sibling,s!==null){We=s;return}We=s=r}while(s!==null);Ct===0&&(Ct=5)}function bb(r,s){do{var o=a1(r.alternate,r);if(o!==null){o.flags&=32767,We=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){We=r;return}We=r=o}while(r!==null);Ct=6,We=null}function Tb(r,s,o,u,h,g,T,A,N,H){var ne=C.T,ae=ge.p;try{ge.p=2,C.T=null,h1(r,s,o,u,ae,h,g,T,A,N,H)}finally{C.T=ne,ge.p=ae}}function h1(r,s,o,u,h,g,T,A){do $o();while(Ma!==null);if(St&6)throw Error(i(327));var N=r.finishedWork;if(u=r.finishedLanes,N===null)return null;if(r.finishedWork=null,r.finishedLanes=0,N===r.current)throw Error(i(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var H=N.lanes|N.childLanes;if(H|=yp,Kc(r,u,H,g,T,A),r===gt&&(We=gt=null,nt=0),!(N.subtreeFlags&10256)&&!(N.flags&10256)||qf||(qf=!0,Tm=H,Sm=o,y1(Xt,function(){return $o(),null})),o=(N.flags&15990)!==0,N.subtreeFlags&15990||o?(o=C.T,C.T=null,g=ge.p,ge.p=2,T=St,St|=4,n1(r,N),nb(N,r),LI(zm,r.containerInfo),id=!!Bm,zm=Bm=null,r.current=N,ZE(r,N.alternate,N),ce(),St=T,ge.p=g,C.T=o):r.current=N,qf?(qf=!1,Ma=r,Tu=u):Sb(r,H),H=r.pendingLanes,H===0&&(Cs=null),Zi(N.stateNode),Qr(r),s!==null)for(h=r.onRecoverableError,N=0;N<s.length;N++)H=s[N],h(H.value,{componentStack:H.stack});return Tu&3&&$o(),H=r.pendingLanes,u&4194218&&H&42?r===Am?Su++:(Su=0,Am=r):Su=0,Au(0),null}function Sb(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,au(s)))}function $o(){if(Ma!==null){var r=Ma,s=Tm;Tm=0;var o=Wc(Tu),u=C.T,h=ge.p;try{if(ge.p=32>o?32:o,C.T=null,Ma===null)var g=!1;else{o=Sm,Sm=null;var T=Ma,A=Tu;if(Ma=null,Tu=0,St&6)throw Error(i(331));var N=St;if(St|=4,ob(T.current),ib(T,T.current,A,o),St=N,Au(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Er,T)}catch{}g=!0}return g}finally{ge.p=h,C.T=u,Sb(r,s)}}return!1}function Ab(r,s,o){s=tr(o,s),s=$p(r.stateNode,s,2),r=bs(r,s,2),r!==null&&(xt(r,2),Qr(r))}function pt(r,s,o){if(r.tag===3)Ab(r,r,o);else for(;s!==null;){if(s.tag===3){Ab(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Cs===null||!Cs.has(u))){r=tr(o,r),o=CE(2),u=bs(s,o,2),u!==null&&(IE(o,u,s,r),xt(u,2),Qr(u));break}}s=s.return}}function Dm(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new l1;var h=new Set;u.set(s,h)}else h=u.get(s),h===void 0&&(h=new Set,u.set(s,h));h.has(o)||(vm=!0,h.add(o),r=p1.bind(null,r,s,o),s.then(r,r))}function p1(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,gt===r&&(nt&o)===o&&(Ct===4||Ct===3&&(nt&62914560)===nt&&300>_e()-bm?!(St&2)&&qo(r,0):_m|=o,Ho===nt&&(Ho=0)),Qr(r)}function wb(r,s){s===0&&(s=ts()),r=hs(r,s),r!==null&&(xt(r,s),Qr(r))}function m1(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),wb(r,o)}function g1(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),wb(r,o)}function y1(r,s){return ee(r,s)}var Kf=null,Ko=null,Om=!1,Wf=!1,xm=!1,ka=0;function Qr(r){r!==Ko&&r.next===null&&(Ko===null?Kf=Ko=r:Ko=Ko.next=r),Wf=!0,Om||(Om=!0,_1(v1))}function Au(r,s){if(!xm&&Wf){xm=!0;do for(var o=!1,u=Kf;u!==null;){if(r!==0){var h=u.pendingLanes;if(h===0)var g=0;else{var T=u.suspendedLanes,A=u.pingedLanes;g=(1<<31-An(42|r)+1)-1,g&=h&~(T&~A),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(o=!0,Ib(u,g))}else g=nt,g=Wn(u,u===gt?g:0),!(g&3)||es(u,g)||(o=!0,Ib(u,g));u=u.next}while(o);xm=!1}}function v1(){Wf=Om=!1;var r=0;ka!==0&&(C1()&&(r=ka),ka=0);for(var s=_e(),o=null,u=Kf;u!==null;){var h=u.next,g=Rb(u,s);g===0?(u.next=null,o===null?Kf=h:o.next=h,h===null&&(Ko=o)):(o=u,(r!==0||g&3)&&(Wf=!0)),u=h}Au(r)}function Rb(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var T=31-An(g),A=1<<T,N=h[T];N===-1?(!(A&o)||A&u)&&(h[T]=co(A,s)):N<=s&&(r.expiredLanes|=A),g&=~A}if(s=gt,o=nt,o=Wn(r,r===s?o:0),u=r.callbackNode,o===0||r===s&&yt===2||r.cancelPendingCommit!==null)return u!==null&&u!==null&&pe(u),r.callbackNode=null,r.callbackPriority=0;if(!(o&3)||es(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&pe(u),Wc(o)){case 2:case 8:o=Ke;break;case 32:o=Xt;break;case 268435456:o=ci;break;default:o=Xt}return u=Cb.bind(null,r),o=ee(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&pe(u),r.callbackPriority=2,r.callbackNode=null,2}function Cb(r,s){var o=r.callbackNode;if($o()&&r.callbackNode!==o)return null;var u=nt;return u=Wn(r,r===gt?u:0),u===0?null:(pb(r,u,s),Rb(r,_e()),r.callbackNode!=null&&r.callbackNode===o?Cb.bind(null,r):null)}function Ib(r,s){if($o())return null;pb(r,s,!0)}function _1(r){D1(function(){St&6?ee(Ge,r):r()})}function Nm(){return ka===0&&(ka=kl()),ka}function Db(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Br(""+r)}function Ob(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function E1(r,s,o,u,h){if(s==="submit"&&o&&o.stateNode===h){var g=Db((h[jt]||null).action),T=u.submitter;T&&(s=(s=T[jt]||null)?Db(s.formAction):T.getAttribute("formAction"),s!==null&&(g=s,T=null));var A=new vo("action","action",null,u,h);r.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ka!==0){var N=T?Ob(h,T):new FormData(h);Fp(o,{pending:!0,data:N,method:h.method,action:g},null,N)}}else typeof g=="function"&&(A.preventDefault(),N=T?Ob(h,T):new FormData(h),Fp(o,{pending:!0,data:N,method:h.method,action:g},g,N))},currentTarget:h}]})}}for(var Pm=0;Pm<T_.length;Pm++){var Mm=T_[Pm],b1=Mm.toLowerCase(),T1=Mm[0].toUpperCase()+Mm.slice(1);Sr(b1,"on"+T1)}Sr(y_,"onAnimationEnd"),Sr(v_,"onAnimationIteration"),Sr(__,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(BI,"onTransitionRun"),Sr(zI,"onTransitionStart"),Sr(FI,"onTransitionCancel"),Sr(E_,"onTransitionEnd"),xn("onMouseEnter",["mouseout","mouseover"]),xn("onMouseLeave",["mouseout","mouseover"]),xn("onPointerEnter",["pointerout","pointerover"]),xn("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wu));function xb(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],h=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var T=u.length-1;0<=T;T--){var A=u[T],N=A.instance,H=A.currentTarget;if(A=A.listener,N!==g&&h.isPropagationStopped())break e;g=A,h.currentTarget=H;try{g(h)}catch(ne){Mf(ne)}h.currentTarget=null,g=N}else for(T=0;T<u.length;T++){if(A=u[T],N=A.instance,H=A.currentTarget,A=A.listener,N!==g&&h.isPropagationStopped())break e;g=A,h.currentTarget=H;try{g(h)}catch(ne){Mf(ne)}h.currentTarget=null,g=N}}}}function Ze(r,s){var o=s[aa];o===void 0&&(o=s[aa]=new Set);var u=r+"__bubble";o.has(u)||(Nb(s,r,2,!1),o.add(u))}function km(r,s,o){var u=0;s&&(u|=4),Nb(o,r,u,s)}var Yf="_reactListening"+Math.random().toString(36).slice(2);function Vm(r){if(!r[Yf]){r[Yf]=!0,Ll.forEach(function(o){o!=="selectionchange"&&(S1.has(o)||km(o,!1,r),km(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Yf]||(s[Yf]=!0,km("selectionchange",!1,s))}}function Nb(r,s,o,u){switch(t0(s)){case 2:var h=Y1;break;case 8:h=Q1;break;default:h=Ym}o=h.bind(null,s,o,r),h=void 0,!Zn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(s,o,{capture:!0,passive:h}):r.addEventListener(s,o,!0):h!==void 0?r.addEventListener(s,o,{passive:h}):r.addEventListener(s,o,!1)}function Lm(r,s,o,u,h){var g=u;if(!(s&1)&&!(s&2)&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var A=u.stateNode.containerInfo;if(A===h||A.nodeType===8&&A.parentNode===h)break;if(T===4)for(T=u.return;T!==null;){var N=T.tag;if((N===3||N===4)&&(N=T.stateNode.containerInfo,N===h||N.nodeType===8&&N.parentNode===h))return;T=T.return}for(;A!==null;){if(T=Tr(A),T===null)return;if(N=T.tag,N===5||N===6||N===26||N===27){u=g=T;continue e}A=A.parentNode}}u=u.return}Jc(function(){var H=g,ne=yo(o),ae=[];e:{var Q=b_.get(r);if(Q!==void 0){var te=vo,Ae=r;switch(r){case"keypress":if(Fr(o)===0)break e;case"keydown":case"keyup":te=Ao;break;case"focusin":Ae="focus",te=bo;break;case"focusout":Ae="blur",te=bo;break;case"beforeblur":case"afterblur":te=bo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Jn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=up;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=lf;break;case y_:case v_:case __:te=To;break;case E_:te=cf;break;case"scroll":case"scrollend":te=ef;break;case"wheel":te=wo;break;case"copy":case"cut":case"paste":te=So;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Yl;break;case"toggle":case"beforetoggle":te=df}var Ve=(s&4)!==0,It=!Ve&&(r==="scroll"||r==="scrollend"),G=Ve?Q!==null?Q+"Capture":null:Q;Ve=[];for(var j=H,K;j!==null;){var re=j;if(K=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||K===null||G===null||(re=fa(j,G),re!=null&&Ve.push(Ru(j,re,K))),It)break;j=j.return}0<Ve.length&&(Q=new te(Q,Ae,null,o,ne),ae.push({event:Q,listeners:Ve}))}}if(!(s&7)){e:{if(Q=r==="mouseover"||r==="pointerover",te=r==="mouseout"||r==="pointerout",Q&&o!==Xn&&(Ae=o.relatedTarget||o.fromElement)&&(Tr(Ae)||Ae[di]))break e;if((te||Q)&&(Q=ne.window===ne?ne:(Q=ne.ownerDocument)?Q.defaultView||Q.parentWindow:window,te?(Ae=o.relatedTarget||o.toElement,te=H,Ae=Ae?Tr(Ae):null,Ae!==null&&(It=ve(Ae),Ve=Ae.tag,Ae!==It||Ve!==5&&Ve!==27&&Ve!==6)&&(Ae=null)):(te=null,Ae=H),te!==Ae)){if(Ve=Jn,re="onMouseLeave",G="onMouseEnter",j="mouse",(r==="pointerout"||r==="pointerover")&&(Ve=Yl,re="onPointerLeave",G="onPointerEnter",j="pointer"),It=te==null?Q:as(te),K=Ae==null?Q:as(Ae),Q=new Ve(re,j+"leave",te,o,ne),Q.target=It,Q.relatedTarget=K,re=null,Tr(ne)===H&&(Ve=new Ve(G,j+"enter",Ae,o,ne),Ve.target=K,Ve.relatedTarget=It,re=Ve),It=re,te&&Ae)t:{for(Ve=te,G=Ae,j=0,K=Ve;K;K=Wo(K))j++;for(K=0,re=G;re;re=Wo(re))K++;for(;0<j-K;)Ve=Wo(Ve),j--;for(;0<K-j;)G=Wo(G),K--;for(;j--;){if(Ve===G||G!==null&&Ve===G.alternate)break t;Ve=Wo(Ve),G=Wo(G)}Ve=null}else Ve=null;te!==null&&Pb(ae,Q,te,Ve,!1),Ae!==null&&It!==null&&Pb(ae,It,Ae,Ve,!0)}}e:{if(Q=H?as(H):window,te=Q.nodeName&&Q.nodeName.toLowerCase(),te==="select"||te==="input"&&Q.type==="file")var Te=a_;else if(qt(Q))if(o_)Te=kI;else{Te=PI;var $e=NI}else te=Q.nodeName,!te||te.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?H&&jl(H.elementType)&&(Te=a_):Te=MI;if(Te&&(Te=Te(r,H))){Ei(ae,Te,o,ne);break e}$e&&$e(r,Q,H),r==="focusout"&&H&&Q.type==="number"&&H.memoizedProps.value!=null&&go(Q,"number",Q.value)}switch($e=H?as(H):window,r){case"focusin":(qt($e)||$e.contentEditable==="true")&&(Ro=$e,pp=H,Zl=null);break;case"focusout":Zl=pp=Ro=null;break;case"mousedown":mp=!0;break;case"contextmenu":case"mouseup":case"dragend":mp=!1,m_(ae,o,ne);break;case"selectionchange":if(UI)break;case"keydown":case"keyup":m_(ae,o,ne)}var Re;if(qr)e:{switch(r){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else et?J(r,o)&&(De="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(De="onCompositionStart");De&&(b&&o.locale!=="ko"&&(et||De!=="onCompositionStart"?De==="onCompositionEnd"&&et&&(Re=ql()):(zr=ne,ds="value"in zr?zr.value:zr.textContent,et=!0)),$e=Qf(H,De),0<$e.length&&(De=new Kl(De,r,null,o,ne),ae.push({event:De,listeners:$e}),Re?De.data=Re:(Re=fe(o),Re!==null&&(De.data=Re)))),(Re=v?Ht(r,o):tt(r,o))&&(De=Qf(H,"onBeforeInput"),0<De.length&&($e=new Kl("onBeforeInput","beforeinput",null,o,ne),ae.push({event:$e,listeners:De}),$e.data=Re)),E1(ae,r,H,o,ne)}xb(ae,s)})}function Ru(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Qf(r,s){for(var o=s+"Capture",u=[];r!==null;){var h=r,g=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=fa(r,o),h!=null&&u.unshift(Ru(r,h,g)),h=fa(r,s),h!=null&&u.push(Ru(r,h,g))),r=r.return}return u}function Wo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Pb(r,s,o,u,h){for(var g=s._reactName,T=[];o!==null&&o!==u;){var A=o,N=A.alternate,H=A.stateNode;if(A=A.tag,N!==null&&N===u)break;A!==5&&A!==26&&A!==27||H===null||(N=H,h?(H=fa(o,g),H!=null&&T.unshift(Ru(o,H,N))):h||(H=fa(o,g),H!=null&&T.push(Ru(o,H,N)))),o=o.return}T.length!==0&&r.push({event:s,listeners:T})}var A1=/\r\n?/g,w1=/\u0000|\uFFFD/g;function Mb(r){return(typeof r=="string"?r:""+r).replace(A1,`
`).replace(w1,"")}function kb(r,s){return s=Mb(s),Mb(r)===s}function Xf(){}function ht(r,s,o,u,h,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Qn(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Qn(r,""+u);break;case"className":us(r,"class",u);break;case"tabIndex":us(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":us(r,o,u);break;case"style":Zc(r,u,g);break;case"data":if(s!=="object"){us(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Br(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&ht(r,s,"name",h.name,h,null),ht(r,s,"formEncType",h.formEncType,h,null),ht(r,s,"formMethod",h.formMethod,h,null),ht(r,s,"formTarget",h.formTarget,h,null)):(ht(r,s,"encType",h.encType,h,null),ht(r,s,"method",h.method,h,null),ht(r,s,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Br(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=Xf);break;case"onScroll":u!=null&&Ze("scroll",r);break;case"onScrollEnd":u!=null&&Ze("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Br(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Ze("beforetoggle",r),Ze("toggle",r),ls(r,"popover",u);break;case"xlinkActuate":Yn(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Yn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Yn(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Yn(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Yn(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Yn(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Yn(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Yn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Yn(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ls(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=op.get(o)||o,ls(r,o,u))}}function Um(r,s,o,u,h,g){switch(o){case"style":Zc(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Qn(r,u):(typeof u=="number"||typeof u=="bigint")&&Qn(r,""+u);break;case"onScroll":u!=null&&Ze("scroll",r);break;case"onScrollEnd":u!=null&&Ze("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Xf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!po.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),s=o.slice(2,h?o.length-7:void 0),g=r[jt]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,h),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,h);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):ls(r,o,u)}}}function hn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",r),Ze("load",r);var u=!1,h=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ht(r,s,g,T,o,null)}}h&&ht(r,s,"srcSet",o.srcSet,o,null),u&&ht(r,s,"src",o.src,o,null);return;case"input":Ze("invalid",r);var A=g=T=h=null,N=null,H=null;for(u in o)if(o.hasOwnProperty(u)){var ne=o[u];if(ne!=null)switch(u){case"name":h=ne;break;case"type":T=ne;break;case"checked":N=ne;break;case"defaultChecked":H=ne;break;case"value":g=ne;break;case"defaultValue":A=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:ht(r,s,u,ne,o,null)}}ua(r,g,A,N,H,T,h,!1),la(r);return;case"select":Ze("invalid",r),u=T=g=null;for(h in o)if(o.hasOwnProperty(h)&&(A=o[h],A!=null))switch(h){case"value":g=A;break;case"defaultValue":T=A;break;case"multiple":u=A;default:ht(r,s,h,A,o,null)}s=g,o=T,r.multiple=!!u,s!=null?st(r,!!u,s,!1):o!=null&&st(r,!!u,o,!0);return;case"textarea":Ze("invalid",r),g=h=u=null;for(T in o)if(o.hasOwnProperty(T)&&(A=o[T],A!=null))switch(T){case"value":u=A;break;case"defaultValue":h=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:ht(r,s,T,A,o,null)}fs(r,u,h,g),la(r);return;case"option":for(N in o)if(o.hasOwnProperty(N)&&(u=o[N],u!=null))switch(N){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ht(r,s,N,u,o,null)}return;case"dialog":Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":Ze("load",r);break;case"video":case"audio":for(u=0;u<wu.length;u++)Ze(wu[u],r);break;case"image":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"embed":case"source":case"link":Ze("error",r),Ze("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in o)if(o.hasOwnProperty(H)&&(u=o[H],u!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ht(r,s,H,u,o,null)}return;default:if(jl(s)){for(ne in o)o.hasOwnProperty(ne)&&(u=o[ne],u!==void 0&&Um(r,s,ne,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&ht(r,s,A,u,o,null))}function R1(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,T=null,A=null,N=null,H=null,ne=null;for(te in o){var ae=o[te];if(o.hasOwnProperty(te)&&ae!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":N=ae;default:u.hasOwnProperty(te)||ht(r,s,te,null,u,ae)}}for(var Q in u){var te=u[Q];if(ae=o[Q],u.hasOwnProperty(Q)&&(te!=null||ae!=null))switch(Q){case"type":g=te;break;case"name":h=te;break;case"checked":H=te;break;case"defaultChecked":ne=te;break;case"value":T=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,s));break;default:te!==ae&&ht(r,s,Q,te,u,ae)}}cs(r,T,A,N,H,ne,g,h);return;case"select":te=T=A=Q=null;for(g in o)if(N=o[g],o.hasOwnProperty(g)&&N!=null)switch(g){case"value":break;case"multiple":te=N;default:u.hasOwnProperty(g)||ht(r,s,g,null,u,N)}for(h in u)if(g=u[h],N=o[h],u.hasOwnProperty(h)&&(g!=null||N!=null))switch(h){case"value":Q=g;break;case"defaultValue":A=g;break;case"multiple":T=g;default:g!==N&&ht(r,s,h,g,u,N)}s=A,o=T,u=te,Q!=null?st(r,!!o,Q,!1):!!u!=!!o&&(s!=null?st(r,!!o,s,!0):st(r,!!o,o?[]:"",!1));return;case"textarea":te=Q=null;for(A in o)if(h=o[A],o.hasOwnProperty(A)&&h!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ht(r,s,A,null,u,h)}for(T in u)if(h=u[T],g=o[T],u.hasOwnProperty(T)&&(h!=null||g!=null))switch(T){case"value":Q=h;break;case"defaultValue":te=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==g&&ht(r,s,T,h,u,g)}ca(r,Q,te);return;case"option":for(var Ae in o)if(Q=o[Ae],o.hasOwnProperty(Ae)&&Q!=null&&!u.hasOwnProperty(Ae))switch(Ae){case"selected":r.selected=!1;break;default:ht(r,s,Ae,null,u,Q)}for(N in u)if(Q=u[N],te=o[N],u.hasOwnProperty(N)&&Q!==te&&(Q!=null||te!=null))switch(N){case"selected":r.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:ht(r,s,N,Q,u,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in o)Q=o[Ve],o.hasOwnProperty(Ve)&&Q!=null&&!u.hasOwnProperty(Ve)&&ht(r,s,Ve,null,u,Q);for(H in u)if(Q=u[H],te=o[H],u.hasOwnProperty(H)&&Q!==te&&(Q!=null||te!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,s));break;default:ht(r,s,H,Q,u,te)}return;default:if(jl(s)){for(var It in o)Q=o[It],o.hasOwnProperty(It)&&Q!==void 0&&!u.hasOwnProperty(It)&&Um(r,s,It,void 0,u,Q);for(ne in u)Q=u[ne],te=o[ne],!u.hasOwnProperty(ne)||Q===te||Q===void 0&&te===void 0||Um(r,s,ne,Q,u,te);return}}for(var G in o)Q=o[G],o.hasOwnProperty(G)&&Q!=null&&!u.hasOwnProperty(G)&&ht(r,s,G,null,u,Q);for(ae in u)Q=u[ae],te=o[ae],!u.hasOwnProperty(ae)||Q===te||Q==null&&te==null||ht(r,s,ae,Q,u,te)}var Bm=null,zm=null;function Zf(r){return r.nodeType===9?r:r.ownerDocument}function Vb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lb(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Fm(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var jm=null;function C1(){var r=window.event;return r&&r.type==="popstate"?r===jm?!1:(jm=r,!0):(jm=null,!1)}var Ub=typeof setTimeout=="function"?setTimeout:void 0,I1=typeof clearTimeout=="function"?clearTimeout:void 0,Bb=typeof Promise=="function"?Promise:void 0,D1=typeof queueMicrotask=="function"?queueMicrotask:typeof Bb<"u"?function(r){return Bb.resolve(null).then(r).catch(O1)}:Ub;function O1(r){setTimeout(function(){throw r})}function Hm(r,s){var o=s,u=0;do{var h=o.nextSibling;if(r.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){r.removeChild(h),Mu(s);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);Mu(s)}function qm(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":qm(o),oa(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function x1(r,s,o,u){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[ss])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==h.rel||r.getAttribute("href")!==(h.href==null?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=Rr(r.nextSibling),r===null)break}return null}function N1(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Rr(r.nextSibling),r===null))return null;return r}function Rr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}function zb(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function Fb(r,s,o){switch(s=Zf(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}var ur=new Map,jb=new Set;function Jf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var ki=ge.d;ge.d={f:P1,r:M1,D:k1,C:V1,L:L1,m:U1,X:z1,S:B1,M:F1};function P1(){var r=ki.f(),s=Gf();return r||s}function M1(r){var s=hi(r);s!==null&&s.tag===5&&s.type==="form"?mE(s):ki.r(r)}var Yo=typeof document>"u"?null:document;function Hb(r,s,o){var u=Yo;if(u&&typeof s=="string"&&s){var h=wt(s);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),jb.has(h)||(jb.add(h),r={rel:r,crossOrigin:o,href:s},u.querySelector(h)===null&&(s=u.createElement("link"),hn(s,"link",r),bt(s),u.head.appendChild(s)))}}function k1(r){ki.D(r),Hb("dns-prefetch",r,null)}function V1(r,s){ki.C(r,s),Hb("preconnect",r,s)}function L1(r,s,o){ki.L(r,s,o);var u=Yo;if(u&&r&&s){var h='link[rel="preload"][as="'+wt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+wt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+wt(o.imageSizes)+'"]')):h+='[href="'+wt(r)+'"]';var g=h;switch(s){case"style":g=Qo(r);break;case"script":g=Xo(r)}ur.has(g)||(r=O({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),ur.set(g,r),u.querySelector(h)!==null||s==="style"&&u.querySelector(Cu(g))||s==="script"&&u.querySelector(Iu(g))||(s=u.createElement("link"),hn(s,"link",r),bt(s),u.head.appendChild(s)))}}function U1(r,s){ki.m(r,s);var o=Yo;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+wt(u)+'"][href="'+wt(r)+'"]',g=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Xo(r)}if(!ur.has(g)&&(r=O({rel:"modulepreload",href:r},s),ur.set(g,r),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Iu(g)))return}u=o.createElement("link"),hn(u,"link",r),bt(u),o.head.appendChild(u)}}}function B1(r,s,o){ki.S(r,s,o);var u=Yo;if(u&&r){var h=os(u).hoistableStyles,g=Qo(r);s=s||"default";var T=h.get(g);if(!T){var A={loading:0,preload:null};if(T=u.querySelector(Cu(g)))A.loading=5;else{r=O({rel:"stylesheet",href:r,"data-precedence":s},o),(o=ur.get(g))&&Gm(r,o);var N=T=u.createElement("link");bt(N),hn(N,"link",r),N._p=new Promise(function(H,ne){N.onload=H,N.onerror=ne}),N.addEventListener("load",function(){A.loading|=1}),N.addEventListener("error",function(){A.loading|=2}),A.loading|=4,ed(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:A},h.set(g,T)}}}function z1(r,s){ki.X(r,s);var o=Yo;if(o&&r){var u=os(o).hoistableScripts,h=Xo(r),g=u.get(h);g||(g=o.querySelector(Iu(h)),g||(r=O({src:r,async:!0},s),(s=ur.get(h))&&$m(r,s),g=o.createElement("script"),bt(g),hn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function F1(r,s){ki.M(r,s);var o=Yo;if(o&&r){var u=os(o).hoistableScripts,h=Xo(r),g=u.get(h);g||(g=o.querySelector(Iu(h)),g||(r=O({src:r,async:!0,type:"module"},s),(s=ur.get(h))&&$m(r,s),g=o.createElement("script"),bt(g),hn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function qb(r,s,o,u){var h=(h=Ot.current)?Jf(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Qo(o.href),o=os(h).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Qo(o.href);var g=os(h).hoistableStyles,T=g.get(r);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,T),(g=h.querySelector(Cu(r)))&&!g._p&&(T.instance=g,T.state.loading=5),ur.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ur.set(r,o),g||j1(h,r,o,T.state))),s&&u===null)throw Error(i(528,""));return T}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Xo(o),o=os(h).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Qo(r){return'href="'+wt(r)+'"'}function Cu(r){return'link[rel="stylesheet"]['+r+"]"}function Gb(r){return O({},r,{"data-precedence":r.precedence,precedence:null})}function j1(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),hn(s,"link",o),bt(s),r.head.appendChild(s))}function Xo(r){return'[src="'+wt(r)+'"]'}function Iu(r){return"script[async]"+r}function $b(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+wt(o.href)+'"]');if(u)return s.instance=u,bt(u),u;var h=O({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),bt(u),hn(u,"style",h),ed(u,o.precedence,r),s.instance=u;case"stylesheet":h=Qo(o.href);var g=r.querySelector(Cu(h));if(g)return s.state.loading|=4,s.instance=g,bt(g),g;u=Gb(o),(h=ur.get(h))&&Gm(u,h),g=(r.ownerDocument||r).createElement("link"),bt(g);var T=g;return T._p=new Promise(function(A,N){T.onload=A,T.onerror=N}),hn(g,"link",u),s.state.loading|=4,ed(g,o.precedence,r),s.instance=g;case"script":return g=Xo(o.src),(h=r.querySelector(Iu(g)))?(s.instance=h,bt(h),h):(u=o,(h=ur.get(g))&&(u=O({},o),$m(u,h)),r=r.ownerDocument||r,h=r.createElement("script"),bt(h),hn(h,"link",u),r.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&!(s.state.loading&4)&&(u=s.instance,s.state.loading|=4,ed(u,o.precedence,r));return s.instance}function ed(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,g=h,T=0;T<u.length;T++){var A=u[T];if(A.dataset.precedence===s)g=A;else if(g!==h)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Gm(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function $m(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var td=null;function Kb(r,s,o){if(td===null){var u=new Map,h=td=new Map;h.set(o,u)}else h=td,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var g=o[h];if(!(g[ss]||g[Jt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(s)||"";T=r+T;var A=u.get(T);A?A.push(g):u.set(T,[g])}}return u}function Wb(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function H1(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Yb(r){return!(r.type==="stylesheet"&&!(r.state.loading&3))}var Du=null;function q1(){}function G1(r,s,o){if(Du===null)throw Error(i(475));var u=Du;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&!(s.state.loading&4)){if(s.instance===null){var h=Qo(o.href),g=r.querySelector(Cu(h));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=nd.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=g,bt(g);return}g=r.ownerDocument||r,o=Gb(o),(h=ur.get(h))&&Gm(o,h),g=g.createElement("link"),bt(g);var T=g;T._p=new Promise(function(A,N){T.onload=A,T.onerror=N}),hn(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&!(s.state.loading&3)&&(u.count++,s=nd.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function $1(){if(Du===null)throw Error(i(475));var r=Du;return r.stylesheets&&r.count===0&&Km(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Km(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function nd(){if(this.count--,this.count===0){if(this.stylesheets)Km(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var rd=null;function Km(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,rd=new Map,s.forEach(K1,r),rd=null,nd.call(r))}function K1(r,s){if(!(s.state.loading&4)){var o=rd.get(r);if(o)var u=o.get(null);else{o=new Map,rd.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var T=h[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}h=s.instance,T=h.getAttribute("data-precedence"),g=o.get(T)||u,g===u&&o.set(null,h),o.set(T,h),this.count++,u=nd.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),g?g.parentNode.insertBefore(h,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),s.state.loading|=4}}var Ou={$$typeof:S,Provider:null,Consumer:null,_currentValue:Me,_currentValue2:Me,_threadCount:0};function W1(r,s,o,u,h,g,T,A){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fo(0),this.hiddenUpdates=fo(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Qb(r,s,o,u,h,g,T,A,N,H,ne,ae){return r=new W1(r,s,o,T,A,N,H,ae),s=1,g===!0&&(s|=24),g=or(3,null,null,s),r.current=g,g.stateNode=r,s=wp(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},sm(g),r}function Xb(r){return r?(r=Do,r):Do}function Zb(r,s,o,u,h,g){h=Xb(h),u.context===null?u.context=h:u.pendingContext=h,u=Es(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=bs(r,u,s),o!==null&&(In(o,r,s),hu(o,r,s))}function Jb(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Wm(r,s){Jb(r,s),(r=r.alternate)&&Jb(r,s)}function e0(r){if(r.tag===13){var s=hs(r,67108864);s!==null&&In(s,r,67108864),Wm(r,67108864)}}var id=!0;function Y1(r,s,o,u){var h=C.T;C.T=null;var g=ge.p;try{ge.p=2,Ym(r,s,o,u)}finally{ge.p=g,C.T=h}}function Q1(r,s,o,u){var h=C.T;C.T=null;var g=ge.p;try{ge.p=8,Ym(r,s,o,u)}finally{ge.p=g,C.T=h}}function Ym(r,s,o,u){if(id){var h=Qm(u);if(h===null)Lm(r,s,u,sd,o),n0(r,u);else if(Z1(h,r,s,o,u))u.stopPropagation();else if(n0(r,u),s&4&&-1<X1.indexOf(r)){for(;h!==null;){var g=hi(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=br(g.pendingLanes);if(T!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var N=1<<31-An(T);A.entanglements[1]|=N,T&=~N}Qr(g),!(St&6)&&(jf=_e()+500,Au(0))}}break;case 13:A=hs(g,2),A!==null&&In(A,g,2),Gf(),Wm(g,2)}if(g=Qm(u),g===null&&Lm(r,s,u,sd,o),g===h)break;h=g}h!==null&&u.stopPropagation()}else Lm(r,s,u,null,o)}}function Qm(r){return r=yo(r),Xm(r)}var sd=null;function Xm(r){if(sd=null,r=Tr(r),r!==null){var s=ve(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=je(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return sd=r,null}function t0(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Be()){case Ge:return 2;case Ke:return 8;case Xt:case uo:return 32;case ci:return 268435456;default:return 32}default:return 32}}var Zm=!1,Is=null,Ds=null,Os=null,xu=new Map,Nu=new Map,xs=[],X1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function n0(r,s){switch(r){case"focusin":case"focusout":Is=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":xu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nu.delete(s.pointerId)}}function Pu(r,s,o,u,h,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[h]},s!==null&&(s=hi(s),s!==null&&e0(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function Z1(r,s,o,u,h){switch(s){case"focusin":return Is=Pu(Is,r,s,o,u,h),!0;case"dragenter":return Ds=Pu(Ds,r,s,o,u,h),!0;case"mouseover":return Os=Pu(Os,r,s,o,u,h),!0;case"pointerover":var g=h.pointerId;return xu.set(g,Pu(xu.get(g)||null,r,s,o,u,h)),!0;case"gotpointercapture":return g=h.pointerId,Nu.set(g,Pu(Nu.get(g)||null,r,s,o,u,h)),!0}return!1}function r0(r){var s=Tr(r.target);if(s!==null){var o=ve(s);if(o!==null){if(s=o.tag,s===13){if(s=je(o),s!==null){r.blockedOn=s,is(r.priority,function(){if(o.tag===13){var u=jn(),h=hs(o,u);h!==null&&In(h,o,u),Wm(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ad(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Qm(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);Xn=u,o.target.dispatchEvent(u),Xn=null}else return s=hi(o),s!==null&&e0(s),r.blockedOn=o,!1;s.shift()}return!0}function i0(r,s,o){ad(r)&&o.delete(s)}function J1(){Zm=!1,Is!==null&&ad(Is)&&(Is=null),Ds!==null&&ad(Ds)&&(Ds=null),Os!==null&&ad(Os)&&(Os=null),xu.forEach(i0),Nu.forEach(i0)}function od(r,s){r.blockedOn===s&&(r.blockedOn=null,Zm||(Zm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,J1)))}var ld=null;function s0(r){ld!==r&&(ld=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ld===r&&(ld=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],h=r[s+2];if(typeof u!="function"){if(Xm(u||o)===null)continue;break}var g=hi(o);g!==null&&(r.splice(s,3),s-=3,Fp(g,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function Mu(r){function s(N){return od(N,r)}Is!==null&&od(Is,r),Ds!==null&&od(Ds,r),Os!==null&&od(Os,r),xu.forEach(s),Nu.forEach(s);for(var o=0;o<xs.length;o++){var u=xs[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<xs.length&&(o=xs[0],o.blockedOn===null);)r0(o),o.blockedOn===null&&xs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],g=o[u+1],T=h[jt]||null;if(typeof g=="function")T||s0(o);else if(T){var A=null;if(g&&g.hasAttribute("formAction")){if(h=g,T=g[jt]||null)A=T.formAction;else if(Xm(h)!==null)continue}else A=T.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),s0(o)}}}function Jm(r){this._internalRoot=r}ud.prototype.render=Jm.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=jn();Zb(o,u,r,s,null,null)},ud.prototype.unmount=Jm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;r.tag===0&&$o(),Zb(r.current,2,null,r,null,null),Gf(),s[di]=null}};function ud(r){this._internalRoot=r}ud.prototype.unstable_scheduleHydration=function(r){if(r){var s=Yc();r={blockedOn:null,target:r,priority:s};for(var o=0;o<xs.length&&s!==0&&s<xs[o].priority;o++);xs.splice(o,0,r),o===0&&r0(r)}};var a0=e.version;if(a0!=="19.0.0")throw Error(i(527,a0,"19.0.0"));ge.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=oe(s),r=r!==null?be(r):null,r=r===null?null:r.stateNode,r};var eD={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:C,findFiberByHostInstance:Tr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cd.isDisabled&&cd.supportsFiber)try{Er=cd.inject(eD),Zt=cd}catch{}}return Vu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",h=SE,g=AE,T=wE,A=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=Qb(r,1,!1,null,null,o,u,h,g,T,A,null),r[di]=s.current,Vm(r.nodeType===8?r.parentNode:r),new Jm(s)},Vu.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,h="",g=SE,T=AE,A=wE,N=null,H=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(N=o.unstable_transitionCallbacks),o.formState!==void 0&&(H=o.formState)),s=Qb(r,1,!0,s,o??null,u,h,g,T,A,N,H),s.context=Xb(null),o=s.current,u=jn(),h=Es(u),h.callback=null,bs(o,h,u),s.current.lanes=u,xt(s,u),Qr(s),r[di]=s.current,Vm(r),new ud(s)},Vu.version="19.0.0",Vu}var g0;function uD(){if(g0)return ng.exports;g0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ng.exports=lD(),ng.exports}var cD=uD(),Lu={},y0;function fD(){if(y0)return Lu;y0=1,Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.parse=c,Lu.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function c(E,S){const w=new l,M=E.length;if(M<2)return w;const D=(S==null?void 0:S.decode)||y;let z=0;do{const F=E.indexOf("=",z);if(F===-1)break;const q=E.indexOf(";",z),Z=q===-1?M:q;if(F>Z){z=E.lastIndexOf(";",F-1)+1;continue}const X=f(E,z,F),se=p(E,F,X),P=E.slice(X,se);if(w[P]===void 0){let I=f(E,F+1,Z),C=p(E,Z,I);const O=D(E.slice(I,C));w[P]=O}z=Z+1}while(z<M);return w}function f(E,S,w){do{const M=E.charCodeAt(S);if(M!==32&&M!==9)return S}while(++S<w);return w}function p(E,S,w){for(;S>w;){const M=E.charCodeAt(--S);if(M!==32&&M!==9)return S+1}return w}function m(E,S,w){const M=(w==null?void 0:w.encode)||encodeURIComponent;if(!t.test(E))throw new TypeError(`argument name is invalid: ${E}`);const D=M(S);if(!e.test(D))throw new TypeError(`argument val is invalid: ${S}`);let z=E+"="+D;if(!w)return z;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);z+="; Max-Age="+w.maxAge}if(w.domain){if(!n.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);z+="; Domain="+w.domain}if(w.path){if(!i.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);z+="; Path="+w.path}if(w.expires){if(!_(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);z+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(z+="; HttpOnly"),w.secure&&(z+="; Secure"),w.partitioned&&(z+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":z+="; Priority=Low";break;case"medium":z+="; Priority=Medium";break;case"high":z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"none":z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return z}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return a.call(E)==="[object Date]"}return Lu}fD();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var v0="popstate";function dD(t={}){function e(a,l){let{pathname:c="/",search:f="",hash:p=""}=no(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),zg("",{pathname:c,search:f,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let c=a.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let p=a.location.href,m=p.indexOf("#");f=m===-1?p:p.slice(0,m)}return f+"#"+(typeof l=="string"?l:ac(l))}function i(a,l){yr(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return pD(e,n,i,t)}function Et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hD(){return Math.random().toString(36).substring(2,10)}function _0(t,e){return{usr:t.state,key:t.key,idx:e}}function zg(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?no(e):e,state:n,key:e&&e.key||i||hD()}}function ac({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function no(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function pD(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,f="POP",p=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function _(){f="POP";let D=y(),z=D==null?null:D-m;m=D,p&&p({action:f,location:M.location,delta:z})}function E(D,z){f="PUSH";let F=zg(M.location,D,z);n&&n(F,D),m=y()+1;let q=_0(F,m),Z=M.createHref(F);try{c.pushState(q,"",Z)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;a.location.assign(Z)}l&&p&&p({action:f,location:M.location,delta:1})}function S(D,z){f="REPLACE";let F=zg(M.location,D,z);n&&n(F,D),m=y();let q=_0(F,m),Z=M.createHref(F);c.replaceState(q,"",Z),l&&p&&p({action:f,location:M.location,delta:0})}function w(D){let z=a.location.origin!=="null"?a.location.origin:a.location.href,F=typeof D=="string"?D:ac(D);return F=F.replace(/ $/,"%20"),Et(z,`No window.location.(origin|href) available to create URL for href: ${F}`),new URL(F,z)}let M={get action(){return f},get location(){return t(a,c)},listen(D){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(v0,_),p=D,()=>{a.removeEventListener(v0,_),p=null}},createHref(D){return e(a,D)},createURL:w,encodeLocation(D){let z=w(D);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:E,replace:S,go(D){return c.go(D)}};return M}function sA(t,e,n="/"){return mD(t,e,n,!1)}function mD(t,e,n,i){let a=typeof e=="string"?no(e):e,l=qi(a.pathname||"/",n);if(l==null)return null;let c=aA(t);gD(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let m=CD(l);f=wD(c[p],m,i)}return f}function aA(t,e=[],n=[],i=""){let a=(l,c,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(Et(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let m=zi([i,p.relativePath]),y=n.concat(p);l.children&&l.children.length>0&&(Et(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),aA(l.children,e,y,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:SD(m,l.index),routesMeta:y})};return t.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,c);else for(let p of oA(l.path))a(l,c,p)}),e}function oA(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=oA(i.join("/")),f=[];return f.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&f.push(...c),f.map(p=>t.startsWith("/")&&p===""?"/":p)}function gD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:AD(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var yD=/^:[\w-]+$/,vD=3,_D=2,ED=1,bD=10,TD=-2,E0=t=>t==="*";function SD(t,e){let n=t.split("/"),i=n.length;return n.some(E0)&&(i+=TD),e&&(i+=_D),n.filter(a=>!E0(a)).reduce((a,l)=>a+(yD.test(l)?vD:l===""?ED:bD),i)}function AD(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function wD(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",c=[];for(let f=0;f<i.length;++f){let p=i[f],m=f===i.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=Fd({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),E=p.route;if(!_&&m&&n&&!i[i.length-1].route.index&&(_=Fd({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:zi([l,_.pathname]),pathnameBase:xD(zi([l,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(l=zi([l,_.pathnameBase]))}return c}function Fd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=RD(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:_},E)=>{if(y==="*"){let w=f[E]||"";c=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const S=f[E];return _&&!S?m[y]=void 0:m[y]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function RD(t,e=!1,n=!0){yr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function CD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function qi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function ID(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?no(t):t;return{pathname:n?n.startsWith("/")?n:DD(n,e):e,search:ND(i),hash:PD(a)}}function DD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ag(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Cy(t){let e=OD(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Iy(t,e,n,i=!1){let a;typeof t=="string"?a=no(t):(a={...t},Et(!a.pathname||!a.pathname.includes("?"),ag("?","pathname","search",a)),Et(!a.pathname||!a.pathname.includes("#"),ag("#","pathname","hash",a)),Et(!a.search||!a.search.includes("#"),ag("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let _=e.length-1;if(!i&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}f=_>=0?e[_]:"/"}let p=ID(a,f),m=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}var zi=t=>t.join("/").replace(/\/\/+/g,"/"),xD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ND=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,PD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function MD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var lA=["POST","PUT","PATCH","DELETE"];new Set(lA);var kD=["GET",...lA];new Set(kD);var Sl=k.createContext(null);Sl.displayName="DataRouter";var Rh=k.createContext(null);Rh.displayName="DataRouterState";var uA=k.createContext({isTransitioning:!1});uA.displayName="ViewTransition";var VD=k.createContext(new Map);VD.displayName="Fetchers";var LD=k.createContext(null);LD.displayName="Await";var Nr=k.createContext(null);Nr.displayName="Navigation";var Dc=k.createContext(null);Dc.displayName="Location";var Pr=k.createContext({outlet:null,matches:[],isDataRoute:!1});Pr.displayName="Route";var Dy=k.createContext(null);Dy.displayName="RouteError";function UD(t,{relative:e}={}){Et(Al(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=k.useContext(Nr),{hash:a,pathname:l,search:c}=xc(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:zi([n,l])),i.createHref({pathname:f,search:c,hash:a})}function Al(){return k.useContext(Dc)!=null}function ta(){return Et(Al(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Dc).location}var cA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fA(t){k.useContext(Nr).static||k.useLayoutEffect(t)}function Oc(){let{isDataRoute:t}=k.useContext(Pr);return t?JD():BD()}function BD(){Et(Al(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(Sl),{basename:e,navigator:n}=k.useContext(Nr),{matches:i}=k.useContext(Pr),{pathname:a}=ta(),l=JSON.stringify(Cy(i)),c=k.useRef(!1);return fA(()=>{c.current=!0}),k.useCallback((p,m={})=>{if(yr(c.current,cA),!c.current)return;if(typeof p=="number"){n.go(p);return}let y=Iy(p,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:zi([e,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[e,n,l,a,t])}var zD=k.createContext(null);function FD(t){let e=k.useContext(Pr).outlet;return e&&k.createElement(zD.Provider,{value:t},e)}function xc(t,{relative:e}={}){let{matches:n}=k.useContext(Pr),{pathname:i}=ta(),a=JSON.stringify(Cy(n));return k.useMemo(()=>Iy(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function jD(t,e){return dA(t,e)}function dA(t,e,n,i){var F;Et(Al(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=k.useContext(Nr),{matches:c}=k.useContext(Pr),f=c[c.length-1],p=f?f.params:{},m=f?f.pathname:"/",y=f?f.pathnameBase:"/",_=f&&f.route;{let q=_&&_.path||"";hA(m,!_||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let E=ta(),S;if(e){let q=typeof e=="string"?no(e):e;Et(y==="/"||((F=q.pathname)==null?void 0:F.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${q.pathname}" was given in the \`location\` prop.`),S=q}else S=E;let w=S.pathname||"/",M=w;if(y!=="/"){let q=y.replace(/^\//,"").split("/");M="/"+w.replace(/^\//,"").split("/").slice(q.length).join("/")}let D=!l&&n&&n.matches&&n.matches.length>0?n.matches:sA(t,{pathname:M});yr(_||D!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),yr(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=KD(D&&D.map(q=>Object.assign({},q,{params:Object.assign({},p,q.params),pathname:zi([y,a.encodeLocation?a.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?y:zi([y,a.encodeLocation?a.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),c,n,i);return e&&z?k.createElement(Dc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},z):z}function HD(){let t=ZD(),e=MD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:l},"ErrorBoundary")," or"," ",k.createElement("code",{style:l},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:a},n):null,c)}var qD=k.createElement(HD,null),GD=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?k.createElement(Pr.Provider,{value:this.props.routeContext},k.createElement(Dy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $D({routeContext:t,match:e,children:n}){let i=k.useContext(Sl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(Pr.Provider,{value:t},n)}function KD(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let p=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);Et(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,f=-1;if(n)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:y,errors:_}=n,E=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!_||_[m.route.id]===void 0);if(m.route.lazy||E){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((p,m,y)=>{let _,E=!1,S=null,w=null;n&&(_=l&&m.route.id?l[m.route.id]:void 0,S=m.route.errorElement||qD,c&&(f<0&&y===0?(hA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,w=null):f===y&&(E=!0,w=m.route.hydrateFallbackElement||null)));let M=e.concat(a.slice(0,y+1)),D=()=>{let z;return _?z=S:E?z=w:m.route.Component?z=k.createElement(m.route.Component,null):m.route.element?z=m.route.element:z=p,k.createElement($D,{match:m,routeContext:{outlet:p,matches:M,isDataRoute:n!=null},children:z})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?k.createElement(GD,{location:n.location,revalidation:n.revalidation,component:S,error:_,children:D(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):D()},null)}function Oy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WD(t){let e=k.useContext(Sl);return Et(e,Oy(t)),e}function YD(t){let e=k.useContext(Rh);return Et(e,Oy(t)),e}function QD(t){let e=k.useContext(Pr);return Et(e,Oy(t)),e}function xy(t){let e=QD(t),n=e.matches[e.matches.length-1];return Et(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function XD(){return xy("useRouteId")}function ZD(){var i;let t=k.useContext(Dy),e=YD("useRouteError"),n=xy("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function JD(){let{router:t}=WD("useNavigate"),e=xy("useNavigate"),n=k.useRef(!1);return fA(()=>{n.current=!0}),k.useCallback(async(a,l={})=>{yr(n.current,cA),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var b0={};function hA(t,e,n){!e&&!b0[t]&&(b0[t]=!0,yr(!1,n))}k.memo(eO);function eO({routes:t,future:e,state:n}){return dA(t,void 0,n,e)}function pA({to:t,replace:e,state:n,relative:i}){Et(Al(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=k.useContext(Nr);yr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=k.useContext(Pr),{pathname:c}=ta(),f=Oc(),p=Iy(t,Cy(l),c,i==="path"),m=JSON.stringify(p);return k.useEffect(()=>{f(JSON.parse(m),{replace:e,state:n,relative:i})},[f,m,i,e,n]),null}function mA(t){return FD(t.context)}function za(t){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tO({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1}){Et(!Al(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),f=k.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=no(n));let{pathname:p="/",search:m="",hash:y="",state:_=null,key:E="default"}=n,S=k.useMemo(()=>{let w=qi(p,c);return w==null?null:{location:{pathname:w,search:m,hash:y,state:_,key:E},navigationType:i}},[c,p,m,y,_,E,i]);return yr(S!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:k.createElement(Nr.Provider,{value:f},k.createElement(Dc.Provider,{children:e,value:S}))}function nO({children:t,location:e}){return jD(Fg(t),e)}function Fg(t,e=[]){let n=[];return k.Children.forEach(t,(i,a)=>{if(!k.isValidElement(i))return;let l=[...e,a];if(i.type===k.Fragment){n.push.apply(n,Fg(i.props.children,l));return}Et(i.type===za,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Fg(i.props.children,l)),n.push(c)}),n}var Cd="get",Id="application/x-www-form-urlencoded";function Ch(t){return t!=null&&typeof t.tagName=="string"}function rO(t){return Ch(t)&&t.tagName.toLowerCase()==="button"}function iO(t){return Ch(t)&&t.tagName.toLowerCase()==="form"}function sO(t){return Ch(t)&&t.tagName.toLowerCase()==="input"}function aO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function oO(t,e){return t.button===0&&(!e||e==="_self")&&!aO(t)}var fd=null;function lO(){if(fd===null)try{new FormData(document.createElement("form"),0),fd=!1}catch{fd=!0}return fd}var uO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function og(t){return t!=null&&!uO.has(t)?(yr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Id}"`),null):t}function cO(t,e){let n,i,a,l,c;if(iO(t)){let f=t.getAttribute("action");i=f?qi(f,e):null,n=t.getAttribute("method")||Cd,a=og(t.getAttribute("enctype"))||Id,l=new FormData(t)}else if(rO(t)||sO(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||f.getAttribute("action");if(i=p?qi(p,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Cd,a=og(t.getAttribute("formenctype"))||og(f.getAttribute("enctype"))||Id,l=new FormData(f,t),!lO()){let{name:m,type:y,value:_}=t;if(y==="image"){let E=m?`${m}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else m&&l.append(m,_)}}else{if(Ch(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Cd,i=null,a=Id,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:c}}function Ny(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function fO(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function hO(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await fO(l,n);return c.links?c.links():[]}return[]}));return yO(i.flat(1).filter(dO).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function T0(t,e,n,i,a,l){let c=(p,m)=>n[m]?p.route.id!==n[m].route.id:!0,f=(p,m)=>{var y;return n[m].pathname!==p.pathname||((y=n[m].route.path)==null?void 0:y.endsWith("*"))&&n[m].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,m)=>c(p,m)||f(p,m)):l==="data"?e.filter((p,m)=>{var _;let y=i.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(c(p,m)||f(p,m))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function pO(t,e,{includeHydrateFallback:n}={}){return mO(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function mO(t){return[...new Set(t)]}function gO(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function yO(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(gO(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function vO(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&qi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function gA(){let t=k.useContext(Sl);return Ny(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function _O(){let t=k.useContext(Rh);return Ny(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Py=k.createContext(void 0);Py.displayName="FrameworkContext";function yA(){let t=k.useContext(Py);return Ny(t,"You must render this element inside a <HydratedRouter> element"),t}function EO(t,e){let n=k.useContext(Py),[i,a]=k.useState(!1),[l,c]=k.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:m,onMouseLeave:y,onTouchStart:_}=e,E=k.useRef(null);k.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let M=z=>{z.forEach(F=>{c(F.isIntersecting)})},D=new IntersectionObserver(M,{threshold:.5});return E.current&&D.observe(E.current),()=>{D.disconnect()}}},[t]),k.useEffect(()=>{if(i){let M=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(M)}}},[i]);let S=()=>{a(!0)},w=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,E,{}]:[l,E,{onFocus:Uu(f,S),onBlur:Uu(p,w),onMouseEnter:Uu(m,S),onMouseLeave:Uu(y,w),onTouchStart:Uu(_,S)}]:[!1,E,{}]}function Uu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function bO({page:t,...e}){let{router:n}=gA(),i=k.useMemo(()=>sA(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?k.createElement(SO,{page:t,matches:i,...e}):null}function TO(t){let{manifest:e,routeModules:n}=yA(),[i,a]=k.useState([]);return k.useEffect(()=>{let l=!1;return hO(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),i}function SO({page:t,matches:e,...n}){let i=ta(),{manifest:a,routeModules:l}=yA(),{basename:c}=gA(),{loaderData:f,matches:p}=_O(),m=k.useMemo(()=>T0(t,e,p,a,i,"data"),[t,e,p,a,i]),y=k.useMemo(()=>T0(t,e,p,a,i,"assets"),[t,e,p,a,i]),_=k.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let w=new Set,M=!1;if(e.forEach(z=>{var q;let F=a.routes[z.route.id];!F||!F.hasLoader||(!m.some(Z=>Z.route.id===z.route.id)&&z.route.id in f&&((q=l[z.route.id])!=null&&q.shouldRevalidate)||F.hasClientLoader?M=!0:w.add(z.route.id))}),w.size===0)return[];let D=vO(t,c);return M&&w.size>0&&D.searchParams.set("_routes",e.filter(z=>w.has(z.route.id)).map(z=>z.route.id).join(",")),[D.pathname+D.search]},[c,f,i,a,m,e,t,l]),E=k.useMemo(()=>pO(y,a),[y,a]),S=TO(y);return k.createElement(k.Fragment,null,_.map(w=>k.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),E.map(w=>k.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),S.map(({key:w,link:M})=>k.createElement("link",{key:w,...M})))}function AO(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var vA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vA&&(window.__reactRouterVersion="7.3.0")}catch{}function wO({basename:t,children:e,window:n}){let i=k.useRef();i.current==null&&(i.current=dD({window:n,v5Compat:!0}));let a=i.current,[l,c]=k.useState({action:a.action,location:a.location}),f=k.useCallback(p=>{k.startTransition(()=>c(p))},[c]);return k.useLayoutEffect(()=>a.listen(f),[a,f]),k.createElement(tO,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var _A=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ih=k.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:f,target:p,to:m,preventScrollReset:y,viewTransition:_,...E},S){let{basename:w}=k.useContext(Nr),M=typeof m=="string"&&_A.test(m),D,z=!1;if(typeof m=="string"&&M&&(D=m,vA))try{let C=new URL(window.location.href),O=m.startsWith("//")?new URL(C.protocol+m):new URL(m),V=qi(O.pathname,w);O.origin===C.origin&&V!=null?m=V+O.search+O.hash:z=!0}catch{yr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=UD(m,{relative:a}),[q,Z,X]=EO(i,E),se=DO(m,{replace:c,state:f,target:p,preventScrollReset:y,relative:a,viewTransition:_});function P(C){e&&e(C),C.defaultPrevented||se(C)}let I=k.createElement("a",{...E,...X,href:D||F,onClick:z||l?e:P,ref:AO(S,Z),target:p,"data-discover":!M&&n==="render"?"true":void 0});return q&&!M?k.createElement(k.Fragment,null,I,k.createElement(bO,{page:F})):I});Ih.displayName="Link";var RO=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:f,children:p,...m},y){let _=xc(c,{relative:m.relative}),E=ta(),S=k.useContext(Rh),{navigator:w,basename:M}=k.useContext(Nr),D=S!=null&&MO(_)&&f===!0,z=w.encodeLocation?w.encodeLocation(_).pathname:_.pathname,F=E.pathname,q=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(F=F.toLowerCase(),q=q?q.toLowerCase():null,z=z.toLowerCase()),q&&M&&(q=qi(q,M)||q);const Z=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let X=F===z||!a&&F.startsWith(z)&&F.charAt(Z)==="/",se=q!=null&&(q===z||!a&&q.startsWith(z)&&q.charAt(z.length)==="/"),P={isActive:X,isPending:se,isTransitioning:D},I=X?e:void 0,C;typeof i=="function"?C=i(P):C=[i,X?"active":null,se?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(P):l;return k.createElement(Ih,{...m,"aria-current":I,className:C,ref:y,style:O,to:c,viewTransition:f},typeof p=="function"?p(P):p)});RO.displayName="NavLink";var CO=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:c=Cd,action:f,onSubmit:p,relative:m,preventScrollReset:y,viewTransition:_,...E},S)=>{let w=NO(),M=PO(f,{relative:m}),D=c.toLowerCase()==="get"?"get":"post",z=typeof f=="string"&&_A.test(f),F=q=>{if(p&&p(q),q.defaultPrevented)return;q.preventDefault();let Z=q.nativeEvent.submitter,X=(Z==null?void 0:Z.getAttribute("formmethod"))||c;w(Z||q.currentTarget,{fetcherKey:e,method:X,navigate:n,replace:a,state:l,relative:m,preventScrollReset:y,viewTransition:_})};return k.createElement("form",{ref:S,method:D,action:M,onSubmit:i?p:F,...E,"data-discover":!z&&t==="render"?"true":void 0})});CO.displayName="Form";function IO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EA(t){let e=k.useContext(Sl);return Et(e,IO(t)),e}function DO(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=Oc(),p=ta(),m=xc(t,{relative:l});return k.useCallback(y=>{if(oO(y,e)){y.preventDefault();let _=n!==void 0?n:ac(p)===ac(m);f(t,{replace:_,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[p,f,m,n,i,e,t,a,l,c])}var OO=0,xO=()=>`__${String(++OO)}__`;function NO(){let{router:t}=EA("useSubmit"),{basename:e}=k.useContext(Nr),n=XD();return k.useCallback(async(i,a={})=>{let{action:l,method:c,encType:f,formData:p,body:m}=cO(i,e);if(a.navigate===!1){let y=a.fetcherKey||xO();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:m,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:m,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function PO(t,{relative:e}={}){let{basename:n}=k.useContext(Nr),i=k.useContext(Pr);Et(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...xc(t||".",{relative:e})},c=ta();if(t==null){l.search=c.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(y=>y==="")){f.delete("index"),p.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:zi([n,l.pathname])),ac(l)}function MO(t,e={}){let n=k.useContext(uA);Et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=EA("useViewTransitionState"),a=xc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=qi(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=qi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Fd(a.pathname,c)!=null||Fd(a.pathname,l)!=null}new TextEncoder;var My=iA();const kO=rA(My);var lg={exports:{}},ug={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0;function VO(){if(S0)return ug;S0=1;var t=wh();function e(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,a=t.useRef,l=t.useEffect,c=t.useMemo,f=t.useDebugValue;return ug.useSyncExternalStoreWithSelector=function(p,m,y,_,E){var S=a(null);if(S.current===null){var w={hasValue:!1,value:null};S.current=w}else w=S.current;S=c(function(){function D(X){if(!z){if(z=!0,F=X,X=_(X),E!==void 0&&w.hasValue){var se=w.value;if(E(se,X))return q=se}return q=X}if(se=q,n(F,X))return se;var P=_(X);return E!==void 0&&E(se,P)?(F=X,se):(F=X,q=P)}var z=!1,F,q,Z=y===void 0?null:y;return[function(){return D(m())},Z===null?void 0:function(){return D(Z())}]},[m,y,_,E]);var M=i(p,S[0],S[1]);return l(function(){w.hasValue=!0,w.value=M},[M]),f(M),M},ug}var A0;function LO(){return A0||(A0=1,lg.exports=VO()),lg.exports}var UO=LO(),BO=k.version.startsWith("19"),zO=Symbol.for(BO?"react.transitional.element":"react.element"),FO=Symbol.for("react.portal"),jO=Symbol.for("react.fragment"),HO=Symbol.for("react.strict_mode"),qO=Symbol.for("react.profiler"),GO=Symbol.for("react.consumer"),$O=Symbol.for("react.context"),bA=Symbol.for("react.forward_ref"),KO=Symbol.for("react.suspense"),WO=Symbol.for("react.suspense_list"),ky=Symbol.for("react.memo"),YO=Symbol.for("react.lazy"),QO=bA,XO=ky;function ZO(t){if(typeof t=="object"&&t!==null){const{$$typeof:e}=t;switch(e){case zO:switch(t=t.type,t){case jO:case qO:case HO:case KO:case WO:return t;default:switch(t=t&&t.$$typeof,t){case $O:case bA:case YO:case ky:return t;case GO:return t;default:return e}}case FO:return e}}}function JO(t){return ZO(t)===ky}function ex(t,e,n,i,{areStatesEqual:a,areOwnPropsEqual:l,areStatePropsEqual:c}){let f=!1,p,m,y,_,E;function S(F,q){return p=F,m=q,y=t(p,m),_=e(i,m),E=n(y,_,m),f=!0,E}function w(){return y=t(p,m),e.dependsOnOwnProps&&(_=e(i,m)),E=n(y,_,m),E}function M(){return t.dependsOnOwnProps&&(y=t(p,m)),e.dependsOnOwnProps&&(_=e(i,m)),E=n(y,_,m),E}function D(){const F=t(p,m),q=!c(F,y);return y=F,q&&(E=n(y,_,m)),E}function z(F,q){const Z=!l(q,m),X=!a(F,p,q,m);return p=F,m=q,Z&&X?w():Z?M():X?D():E}return function(q,Z){return f?z(q,Z):S(q,Z)}}function tx(t,{initMapStateToProps:e,initMapDispatchToProps:n,initMergeProps:i,...a}){const l=e(t,a),c=n(t,a),f=i(t,a);return ex(l,c,f,t,a)}function nx(t,e){const n={};for(const i in t){const a=t[i];typeof a=="function"&&(n[i]=(...l)=>e(a(...l)))}return n}function jg(t){return function(n){const i=t(n);function a(){return i}return a.dependsOnOwnProps=!1,a}}function w0(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function TA(t,e){return function(i,{displayName:a}){const l=function(f,p){return l.dependsOnOwnProps?l.mapToProps(f,p):l.mapToProps(f,void 0)};return l.dependsOnOwnProps=!0,l.mapToProps=function(f,p){l.mapToProps=t,l.dependsOnOwnProps=w0(t);let m=l(f,p);return typeof m=="function"&&(l.mapToProps=m,l.dependsOnOwnProps=w0(m),m=l(f,p)),m},l}}function Vy(t,e){return(n,i)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${i.wrappedComponentName}.`)}}function rx(t){return t&&typeof t=="object"?jg(e=>nx(t,e)):t?typeof t=="function"?TA(t):Vy(t,"mapDispatchToProps"):jg(e=>({dispatch:e}))}function ix(t){return t?typeof t=="function"?TA(t):Vy(t,"mapStateToProps"):jg(()=>({}))}function sx(t,e,n){return{...n,...t,...e}}function ax(t){return function(n,{displayName:i,areMergedPropsEqual:a}){let l=!1,c;return function(p,m,y){const _=t(p,m,y);return l?a(_,c)||(c=_):(l=!0,c=_),c}}}function ox(t){return t?typeof t=="function"?ax(t):Vy(t,"mergeProps"):()=>sx}function lx(t){t()}function ux(){let t=null,e=null;return{clear(){t=null,e=null},notify(){lx(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!i||t===null||(i=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var R0={notify(){},get:()=>[]};function SA(t,e){let n,i=R0,a=0,l=!1;function c(M){y();const D=i.subscribe(M);let z=!1;return()=>{z||(z=!0,D(),_())}}function f(){i.notify()}function p(){w.onStateChange&&w.onStateChange()}function m(){return l}function y(){a++,n||(n=e?e.addNestedSub(p):t.subscribe(p),i=ux())}function _(){a--,n&&a===0&&(n(),n=void 0,i.clear(),i=R0)}function E(){l||(l=!0,y())}function S(){l&&(l=!1,_())}const w={addNestedSub:c,notifyNestedSubs:f,handleChangeWrapper:p,isSubscribed:m,trySubscribe:E,tryUnsubscribe:S,getListeners:()=>i};return w}var cx=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fx=cx(),dx=()=>typeof navigator<"u"&&navigator.product==="ReactNative",hx=dx(),px=()=>fx||hx?k.useLayoutEffect:k.useEffect,jd=px();function C0(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function cg(t,e){if(C0(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(e,n[a])||!C0(t[n[a]],e[n[a]]))return!1;return!0}var mx={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},gx={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},yx={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},AA={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},vx={[QO]:yx,[XO]:AA};function I0(t){return JO(t)?AA:vx[t.$$typeof]||mx}var _x=Object.defineProperty,Ex=Object.getOwnPropertyNames,D0=Object.getOwnPropertySymbols,bx=Object.getOwnPropertyDescriptor,Tx=Object.getPrototypeOf,O0=Object.prototype;function Hg(t,e){if(typeof e!="string"){if(O0){const l=Tx(e);l&&l!==O0&&Hg(t,l)}let n=Ex(e);D0&&(n=n.concat(D0(e)));const i=I0(t),a=I0(e);for(let l=0;l<n.length;++l){const c=n[l];if(!gx[c]&&!(a&&a[c])&&!(i&&i[c])){const f=bx(e,c);try{_x(t,c,f)}catch{}}}}return t}var fg=Symbol.for("react-redux-context"),dg=typeof globalThis<"u"?globalThis:{};function Sx(){if(!k.createContext)return{};const t=dg[fg]??(dg[fg]=new Map);let e=t.get(k.createContext);return e||(e=k.createContext(null),t.set(k.createContext,e)),e}var Gi=Sx(),Ax=[null,null];function wx(t,e,n){jd(()=>t(...e),n)}function Rx(t,e,n,i,a,l){t.current=i,n.current=!1,a.current&&(a.current=null,l())}function Cx(t,e,n,i,a,l,c,f,p,m,y){if(!t)return()=>{};let _=!1,E=null;const S=()=>{if(_||!f.current)return;const M=e.getState();let D,z;try{D=i(M,a.current)}catch(F){z=F,E=F}z||(E=null),D===l.current?c.current||m():(l.current=D,p.current=D,c.current=!0,y())};return n.onStateChange=S,n.trySubscribe(),S(),()=>{if(_=!0,n.tryUnsubscribe(),n.onStateChange=null,E)throw E}}function Ix(t,e){return t===e}function Dx(t,e,n,{pure:i,areStatesEqual:a=Ix,areOwnPropsEqual:l=cg,areStatePropsEqual:c=cg,areMergedPropsEqual:f=cg,forwardRef:p=!1,context:m=Gi}={}){const y=m,_=ix(t),E=rx(e),S=ox(n),w=!!t;return D=>{const z=D.displayName||D.name||"Component",F=`Connect(${z})`,q={shouldHandleStateChanges:w,displayName:F,wrappedComponentName:z,WrappedComponent:D,initMapStateToProps:_,initMapDispatchToProps:E,initMergeProps:S,areStatesEqual:a,areStatePropsEqual:c,areOwnPropsEqual:l,areMergedPropsEqual:f};function Z(P){const[I,C,O]=k.useMemo(()=>{const{reactReduxForwardedRef:_t,...Ot}=P;return[P.context,_t,Ot]},[P]),V=k.useMemo(()=>{let _t=y;return I!=null&&I.Consumer,_t},[I,y]),L=k.useContext(V),x=!!P.store&&!!P.store.getState&&!!P.store.dispatch,Ue=!!L&&!!L.store,Ne=x?P.store:L.store,ue=Ue?L.getServerState:Ne.getState,Ee=k.useMemo(()=>tx(Ne.dispatch,q),[Ne]),[ve,je]=k.useMemo(()=>{if(!w)return Ax;const _t=SA(Ne,x?void 0:L.subscription),Ot=_t.notifyNestedSubs.bind(_t);return[_t,Ot]},[Ne,x,L]),B=k.useMemo(()=>x?L:{...L,subscription:ve},[x,L,ve]),oe=k.useRef(void 0),be=k.useRef(O),me=k.useRef(void 0),ge=k.useRef(!1),Me=k.useRef(!1),Oe=k.useRef(void 0);jd(()=>(Me.current=!0,()=>{Me.current=!1}),[]);const mt=k.useMemo(()=>()=>me.current&&O===be.current?me.current:Ee(Ne.getState(),O),[Ne,O]),qe=k.useMemo(()=>Ot=>ve?Cx(w,Ne,ve,Ee,be,oe,ge,Me,me,je,Ot):()=>{},[ve]);wx(Rx,[be,oe,ge,O,me,je]);let lt;try{lt=k.useSyncExternalStore(qe,mt,ue?()=>Ee(ue(),O):mt)}catch(_t){throw Oe.current&&(_t.message+=`
The error may be correlated with this previous error:
${Oe.current.stack}

`),_t}jd(()=>{Oe.current=void 0,me.current=void 0,oe.current=lt});const Xe=k.useMemo(()=>k.createElement(D,{...lt,ref:C}),[C,D,lt]);return k.useMemo(()=>w?k.createElement(V.Provider,{value:B},Xe):Xe,[V,Xe,B])}const se=k.memo(Z);if(se.WrappedComponent=D,se.displayName=Z.displayName=F,p){const I=k.forwardRef(function(O,V){return k.createElement(se,{...O,reactReduxForwardedRef:V})});return I.displayName=F,I.WrappedComponent=D,Hg(I,D)}return Hg(se,D)}}var wA=Dx;function Ox(t){const{children:e,context:n,serverState:i,store:a}=t,l=k.useMemo(()=>{const p=SA(a);return{store:a,subscription:p,getServerState:i?()=>i:void 0}},[a,i]),c=k.useMemo(()=>a.getState(),[a]);jd(()=>{const{subscription:p}=l;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),c!==a.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[l,c]);const f=n||Gi;return k.createElement(f.Provider,{value:l},e)}var RA=Ox;function Ly(t=Gi){return function(){return k.useContext(t)}}var CA=Ly();function IA(t=Gi){const e=t===Gi?CA:Ly(t),n=()=>{const{store:i}=e();return i};return Object.assign(n,{withTypes:()=>n}),n}var xx=IA();function Nx(t=Gi){const e=t===Gi?xx:IA(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var kn=Nx(),Px=(t,e)=>t===e;function Mx(t=Gi){const e=t===Gi?CA:Ly(t),n=(i,a={})=>{const{equalityFn:l=Px}=typeof a=="function"?{equalityFn:a}:a,c=e(),{store:f,subscription:p,getServerState:m}=c;k.useRef(!0);const y=k.useCallback({[i.name](E){return i(E)}}[i.name],[i]),_=UO.useSyncExternalStoreWithSelector(p.addNestedSub,f.getState,m||f.getState,y,l);return k.useDebugValue(_),_};return Object.assign(n,{withTypes:()=>n}),n}var zt=Mx();function an(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var kx=typeof Symbol=="function"&&Symbol.observable||"@@observable",x0=kx,hg=()=>Math.random().toString(36).substring(7).split("").join("."),Vx={INIT:`@@redux/INIT${hg()}`,REPLACE:`@@redux/REPLACE${hg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${hg()}`},Hd=Vx;function Uy(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function By(t,e,n){if(typeof t!="function")throw new Error(an(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(an(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(an(1));return n(By)(t,e)}let i=t,a=e,l=new Map,c=l,f=0,p=!1;function m(){c===l&&(c=new Map,l.forEach((D,z)=>{c.set(z,D)}))}function y(){if(p)throw new Error(an(3));return a}function _(D){if(typeof D!="function")throw new Error(an(4));if(p)throw new Error(an(5));let z=!0;m();const F=f++;return c.set(F,D),function(){if(z){if(p)throw new Error(an(6));z=!1,m(),c.delete(F),l=null}}}function E(D){if(!Uy(D))throw new Error(an(7));if(typeof D.type>"u")throw new Error(an(8));if(typeof D.type!="string")throw new Error(an(17));if(p)throw new Error(an(9));try{p=!0,a=i(a,D)}finally{p=!1}return(l=c).forEach(F=>{F()}),D}function S(D){if(typeof D!="function")throw new Error(an(10));i=D,E({type:Hd.REPLACE})}function w(){const D=_;return{subscribe(z){if(typeof z!="object"||z===null)throw new Error(an(11));function F(){const Z=z;Z.next&&Z.next(y())}return F(),{unsubscribe:D(F)}},[x0](){return this}}}return E({type:Hd.INIT}),{dispatch:E,subscribe:_,getState:y,replaceReducer:S,[x0]:w}}function Lx(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Hd.INIT})>"u")throw new Error(an(12));if(typeof n(void 0,{type:Hd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(an(13))})}function Ux(t){const e=Object.keys(t),n={};for(let l=0;l<e.length;l++){const c=e[l];typeof t[c]=="function"&&(n[c]=t[c])}const i=Object.keys(n);let a;try{Lx(n)}catch(l){a=l}return function(c={},f){if(a)throw a;let p=!1;const m={};for(let y=0;y<i.length;y++){const _=i[y],E=n[_],S=c[_],w=E(S,f);if(typeof w>"u")throw f&&f.type,new Error(an(14));m[_]=w,p=p||w!==S}return p=p||i.length!==Object.keys(c).length,p?m:c}}function N0(t,e){return function(...n){return e(t.apply(this,n))}}function P0(t,e){if(typeof t=="function")return N0(t,e);if(typeof t!="object"||t===null)throw new Error(an(16));const n={};for(const i in t){const a=t[i];typeof a=="function"&&(n[i]=N0(a,e))}return n}function oc(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function DA(...t){return e=>(n,i)=>{const a=e(n,i);let l=()=>{throw new Error(an(15))};const c={getState:a.getState,dispatch:(p,...m)=>l(p,...m)},f=t.map(p=>p(c));return l=oc(...f)(a.dispatch),{...a,dispatch:l}}}function Bx(t){return Uy(t)&&"type"in t&&typeof t.type=="string"}var OA=Symbol.for("immer-nothing"),M0=Symbol.for("immer-draftable"),$n=Symbol.for("immer-state");function Cr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var fl=Object.getPrototypeOf;function Ka(t){return!!t&&!!t[$n]}function $i(t){var e;return t?xA(t)||Array.isArray(t)||!!t[M0]||!!((e=t.constructor)!=null&&e[M0])||Oh(t)||xh(t):!1}var zx=Object.prototype.constructor.toString();function xA(t){if(!t||typeof t!="object")return!1;const e=fl(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===zx}function qd(t,e){Dh(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,i)=>e(i,n,t))}function Dh(t){const e=t[$n];return e?e.type_:Array.isArray(t)?1:Oh(t)?2:xh(t)?3:0}function qg(t,e){return Dh(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function NA(t,e,n){const i=Dh(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function Fx(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Oh(t){return t instanceof Map}function xh(t){return t instanceof Set}function Fa(t){return t.copy_||t.base_}function Gg(t,e){if(Oh(t))return new Map(t);if(xh(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=xA(t);if(e===!0||e==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(t);delete i[$n];let a=Reflect.ownKeys(i);for(let l=0;l<a.length;l++){const c=a[l],f=i[c];f.writable===!1&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(i[c]={configurable:!0,writable:!0,enumerable:f.enumerable,value:t[c]})}return Object.create(fl(t),i)}else{const i=fl(t);if(i!==null&&n)return{...t};const a=Object.create(i);return Object.assign(a,t)}}function zy(t,e=!1){return Nh(t)||Ka(t)||!$i(t)||(Dh(t)>1&&(t.set=t.add=t.clear=t.delete=jx),Object.freeze(t),e&&Object.entries(t).forEach(([n,i])=>zy(i,!0))),t}function jx(){Cr(2)}function Nh(t){return Object.isFrozen(t)}var Hx={};function Wa(t){const e=Hx[t];return e||Cr(0,t),e}var lc;function PA(){return lc}function qx(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function k0(t,e){e&&(Wa("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function $g(t){Kg(t),t.drafts_.forEach(Gx),t.drafts_=null}function Kg(t){t===lc&&(lc=t.parent_)}function V0(t){return lc=qx(lc,t)}function Gx(t){const e=t[$n];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function L0(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[$n].modified_&&($g(e),Cr(4)),$i(t)&&(t=Gd(e,t),e.parent_||$d(e,t)),e.patches_&&Wa("Patches").generateReplacementPatches_(n[$n].base_,t,e.patches_,e.inversePatches_)):t=Gd(e,n,[]),$g(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==OA?t:void 0}function Gd(t,e,n){if(Nh(e))return e;const i=e[$n];if(!i)return qd(e,(a,l)=>U0(t,i,e,a,l,n)),e;if(i.scope_!==t)return e;if(!i.modified_)return $d(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let l=a,c=!1;i.type_===3&&(l=new Set(a),a.clear(),c=!0),qd(l,(f,p)=>U0(t,i,a,f,p,n,c)),$d(t,a,!1),n&&t.patches_&&Wa("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function U0(t,e,n,i,a,l,c){if(Ka(a)){const f=l&&e&&e.type_!==3&&!qg(e.assigned_,i)?l.concat(i):void 0,p=Gd(t,a,f);if(NA(n,i,p),Ka(p))t.canAutoFreeze_=!1;else return}else c&&n.add(a);if($i(a)&&!Nh(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Gd(t,a),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,i)&&$d(t,a)}}function $d(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&zy(e,n)}function $x(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:PA(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=i,l=Fy;n&&(a=[i],l=uc);const{revoke:c,proxy:f}=Proxy.revocable(a,l);return i.draft_=f,i.revoke_=c,f}var Fy={get(t,e){if(e===$n)return t;const n=Fa(t);if(!qg(n,e))return Kx(t,n,e);const i=n[e];return t.finalized_||!$i(i)?i:i===pg(t.base_,e)?(mg(t),t.copy_[e]=Yg(i,t)):i},has(t,e){return e in Fa(t)},ownKeys(t){return Reflect.ownKeys(Fa(t))},set(t,e,n){const i=MA(Fa(t),e);if(i!=null&&i.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const a=pg(Fa(t),e),l=a==null?void 0:a[$n];if(l&&l.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Fx(n,a)&&(n!==void 0||qg(t.base_,e)))return!0;mg(t),Wg(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return pg(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,mg(t),Wg(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Fa(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){Cr(11)},getPrototypeOf(t){return fl(t.base_)},setPrototypeOf(){Cr(12)}},uc={};qd(Fy,(t,e)=>{uc[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});uc.deleteProperty=function(t,e){return uc.set.call(this,t,e,void 0)};uc.set=function(t,e,n){return Fy.set.call(this,t[0],e,n,t[0])};function pg(t,e){const n=t[$n];return(n?Fa(n):t)[e]}function Kx(t,e,n){var a;const i=MA(e,n);return i?"value"in i?i.value:(a=i.get)==null?void 0:a.call(t.draft_):void 0}function MA(t,e){if(!(e in t))return;let n=fl(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=fl(n)}}function Wg(t){t.modified_||(t.modified_=!0,t.parent_&&Wg(t.parent_))}function mg(t){t.copy_||(t.copy_=Gg(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Wx=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const l=n;n=e;const c=this;return function(p=l,...m){return c.produce(p,y=>n.call(this,y,...m))}}typeof n!="function"&&Cr(6),i!==void 0&&typeof i!="function"&&Cr(7);let a;if($i(e)){const l=V0(this),c=Yg(e,void 0);let f=!0;try{a=n(c),f=!1}finally{f?$g(l):Kg(l)}return k0(l,i),L0(a,l)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===OA&&(a=void 0),this.autoFreeze_&&zy(a,!0),i){const l=[],c=[];Wa("Patches").generateReplacementPatches_(e,a,l,c),i(l,c)}return a}else Cr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(c,...f)=>this.produceWithPatches(c,p=>e(p,...f));let i,a;return[this.produce(e,n,(c,f)=>{i=c,a=f}),i,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){$i(t)||Cr(8),Ka(t)&&(t=Yx(t));const e=V0(this),n=Yg(t,void 0);return n[$n].isManual_=!0,Kg(e),n}finishDraft(t,e){const n=t&&t[$n];(!n||!n.isManual_)&&Cr(9);const{scope_:i}=n;return k0(i,e),L0(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const i=Wa("Patches").applyPatches_;return Ka(t)?i(t,e):this.produce(t,a=>i(a,e))}};function Yg(t,e){const n=Oh(t)?Wa("MapSet").proxyMap_(t,e):xh(t)?Wa("MapSet").proxySet_(t,e):$x(t,e);return(e?e.scope_:PA()).drafts_.push(n),n}function Yx(t){return Ka(t)||Cr(10,t),kA(t)}function kA(t){if(!$i(t)||Nh(t))return t;const e=t[$n];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Gg(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Gg(t,!0);return qd(n,(i,a)=>{NA(n,i,kA(a))}),e&&(e.finalized_=!1),n}var Kn=new Wx,VA=Kn.produce;Kn.produceWithPatches.bind(Kn);Kn.setAutoFreeze.bind(Kn);Kn.setUseStrictShallowCopy.bind(Kn);Kn.applyPatches.bind(Kn);Kn.createDraft.bind(Kn);Kn.finishDraft.bind(Kn);function LA(t){return({dispatch:n,getState:i})=>a=>l=>typeof l=="function"?l(n,i,t):a(l)}var Qx=LA(),Xx=LA,Zx=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?oc:oc.apply(null,arguments)};function B0(t,e){function n(...i){if(e){let a=e(...i);if(!a)throw new Error(Fi(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:i[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=i=>Bx(i)&&i.type===t,n}var UA=class $u extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,$u.prototype)}static get[Symbol.species](){return $u}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new $u(...e[0].concat(this)):new $u(...e.concat(this))}};function z0(t){return $i(t)?VA(t,()=>{}):t}function F0(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Jx(t){return typeof t=="boolean"}var eN=()=>function(e){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:a=!0,actionCreatorCheck:l=!0}=e??{};let c=new UA;return n&&(Jx(n)?c.push(Qx):c.push(Xx(n.extraArgument))),c},tN="RTK_autoBatch",j0=t=>e=>{setTimeout(e,t)},nN=(t={type:"raf"})=>e=>(...n)=>{const i=e(...n);let a=!0,l=!1,c=!1;const f=new Set,p=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:j0(10):t.type==="callback"?t.queueNotification:j0(t.timeout),m=()=>{c=!1,l&&(l=!1,f.forEach(y=>y()))};return Object.assign({},i,{subscribe(y){const _=()=>a&&y(),E=i.subscribe(_);return f.add(y),()=>{E(),f.delete(y)}},dispatch(y){var _;try{return a=!((_=y==null?void 0:y.meta)!=null&&_[tN]),l=!a,l&&(c||(c=!0,p(m))),i.dispatch(y)}finally{a=!0}}})},rN=t=>function(n){const{autoBatch:i=!0}=n??{};let a=new UA(t);return i&&a.push(nN(typeof i=="object"?i:void 0)),a};function iN(t){const e=eN(),{reducer:n=void 0,middleware:i,devTools:a=!0,preloadedState:l=void 0,enhancers:c=void 0}=t||{};let f;if(typeof n=="function")f=n;else if(Uy(n))f=Ux(n);else throw new Error(Fi(1));let p;typeof i=="function"?p=i(e):p=e();let m=oc;a&&(m=Zx({trace:!1,...typeof a=="object"&&a}));const y=DA(...p),_=rN(y);let E=typeof c=="function"?c(_):_();const S=m(...E);return By(f,l,S)}function BA(t){const e={},n=[];let i;const a={addCase(l,c){const f=typeof l=="string"?l:l.type;if(!f)throw new Error(Fi(28));if(f in e)throw new Error(Fi(29));return e[f]=c,a},addMatcher(l,c){return n.push({matcher:l,reducer:c}),a},addDefaultCase(l){return i=l,a}};return t(a),[e,n,i]}function sN(t){return typeof t=="function"}function aN(t,e){let[n,i,a]=BA(e),l;if(sN(t))l=()=>z0(t());else{const f=z0(t);l=()=>f}function c(f=l(),p){let m=[n[p.type],...i.filter(({matcher:y})=>y(p)).map(({reducer:y})=>y)];return m.filter(y=>!!y).length===0&&(m=[a]),m.reduce((y,_)=>{if(_)if(Ka(y)){const S=_(y,p);return S===void 0?y:S}else{if($i(y))return VA(y,E=>_(E,p));{const E=_(y,p);if(E===void 0){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return E}}return y},f)}return c.getInitialState=l,c}var oN=Symbol.for("rtk-slice-createasyncthunk");function lN(t,e){return`${t}/${e}`}function uN({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[oN];return function(a){const{name:l,reducerPath:c=l}=a;if(!l)throw new Error(Fi(11));const f=(typeof a.reducers=="function"?a.reducers(fN()):a.reducers)||{},p=Object.keys(f),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},y={addCase(q,Z){const X=typeof q=="string"?q:q.type;if(!X)throw new Error(Fi(12));if(X in m.sliceCaseReducersByType)throw new Error(Fi(13));return m.sliceCaseReducersByType[X]=Z,y},addMatcher(q,Z){return m.sliceMatchers.push({matcher:q,reducer:Z}),y},exposeAction(q,Z){return m.actionCreators[q]=Z,y},exposeCaseReducer(q,Z){return m.sliceCaseReducersByName[q]=Z,y}};p.forEach(q=>{const Z=f[q],X={reducerName:q,type:lN(l,q),createNotation:typeof a.reducers=="function"};hN(Z)?mN(X,Z,y,e):dN(X,Z,y)});function _(){const[q={},Z=[],X=void 0]=typeof a.extraReducers=="function"?BA(a.extraReducers):[a.extraReducers],se={...q,...m.sliceCaseReducersByType};return aN(a.initialState,P=>{for(let I in se)P.addCase(I,se[I]);for(let I of m.sliceMatchers)P.addMatcher(I.matcher,I.reducer);for(let I of Z)P.addMatcher(I.matcher,I.reducer);X&&P.addDefaultCase(X)})}const E=q=>q,S=new Map;let w;function M(q,Z){return w||(w=_()),w(q,Z)}function D(){return w||(w=_()),w.getInitialState()}function z(q,Z=!1){function X(P){let I=P[q];return typeof I>"u"&&Z&&(I=D()),I}function se(P=E){const I=F0(S,Z,()=>new WeakMap);return F0(I,P,()=>{const C={};for(const[O,V]of Object.entries(a.selectors??{}))C[O]=cN(V,P,D,Z);return C})}return{reducerPath:q,getSelectors:se,get selectors(){return se(X)},selectSlice:X}}const F={name:l,reducer:M,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:D,...z(c),injectInto(q,{reducerPath:Z,...X}={}){const se=Z??c;return q.inject({reducerPath:se,reducer:M},X),{...F,...z(se,!0)}}};return F}}function cN(t,e,n,i){function a(l,...c){let f=e(l);return typeof f>"u"&&i&&(f=n()),t(f,...c)}return a.unwrapped=t,a}var jy=uN();function fN(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function dN({type:t,reducerName:e,createNotation:n},i,a){let l,c;if("reducer"in i){if(n&&!pN(i))throw new Error(Fi(17));l=i.reducer,c=i.prepare}else l=i;a.addCase(t,l).exposeCaseReducer(e,l).exposeAction(e,c?B0(t,c):B0(t))}function hN(t){return t._reducerDefinitionType==="asyncThunk"}function pN(t){return t._reducerDefinitionType==="reducerWithPrepare"}function mN({type:t,reducerName:e},n,i,a){if(!a)throw new Error(Fi(18));const{payloadCreator:l,fulfilled:c,pending:f,rejected:p,settled:m,options:y}=n,_=a(t,l,y);i.exposeAction(e,_),c&&i.addCase(_.fulfilled,c),f&&i.addCase(_.pending,f),p&&i.addCase(_.rejected,p),m&&i.addMatcher(_.settled,m),i.exposeCaseReducer(e,{fulfilled:c||dd,pending:f||dd,rejected:p||dd,settled:m||dd})}function dd(){}function Fi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const gN={tasks:{},columns:{"column-1":{id:"column-1",title:"To Do",taskIds:[],color:"#10b981"},"column-2":{id:"column-2",title:"In Progress",taskIds:[],color:"#f59e0b"},"column-3":{id:"column-3",title:"Done",taskIds:[],color:"#f472b6"}},columnOrder:["column-1","column-2","column-3"],theme:"light"},zA=jy({name:"board",initialState:gN,reducers:{setState:(t,e)=>e.payload,addTask:(t,e)=>{const{columnId:n,task:i}=e.payload;t.tasks[i.id]={...i,createdAt:new Date().toISOString()},t.columns[n].taskIds.unshift(i.id)},updateTask:(t,e)=>{const n=e.payload;t.tasks[n.id]=n},changeTaskPriority(t,e){const{taskId:n,priority:i}=e.payload;t.tasks[n]&&(t.tasks[n].priority=i)},moveTask:(t,e)=>{const{sourceColId:n,destColId:i,sourceIndex:a,destIndex:l,taskId:c}=e.payload,f=t.columns[n],p=t.columns[i];f.taskIds.splice(a,1),p.taskIds.splice(l,0,c)},removeTask:(t,e)=>{const{taskId:n,columnId:i}=e.payload;delete t.tasks[n],t.columns[i].taskIds=t.columns[i].taskIds.filter(a=>a!==n)},addColumn:(t,e)=>{const n=e.payload;t.columns[n.id]=n,t.columnOrder.push(n.id)},moveColumn:(t,e)=>{const{sourceIndex:n,destIndex:i}=e.payload,[a]=t.columnOrder.splice(n,1);t.columnOrder.splice(i,0,a)},removeColumn:(t,e)=>{const n=e.payload;t.columns[n].taskIds.forEach(a=>{delete t.tasks[a]}),delete t.columns[n],t.columnOrder=t.columnOrder.filter(a=>a!==n)},changeColumnColor(t,e){const{columnId:n,color:i}=e.payload;t.columns[n]&&(t.columns[n].color=i)},toggleTheme:t=>{t.theme=t.theme==="light"?"dark":"light"}}}),{setState:yN,addTask:vN,updateTask:_N,changeTaskPriority:EN,moveTask:bN,removeTask:TN,addColumn:SN,moveColumn:AN,removeColumn:wN,changeColumnColor:RN,toggleTheme:CN}=zA.actions,IN=zA.reducer,DN={addColumnModal:{isOpen:!1},confirmationModal:{isOpen:!1,type:null,targetId:null}},FA=jy({name:"popup",initialState:DN,reducers:{openAddColumnModal(t){t.addColumnModal.isOpen=!0},closeAddColumnModal(t){t.addColumnModal.isOpen=!1},openConfirmationModal(t,e){t.confirmationModal.isOpen=!0,t.confirmationModal.type=e.payload.type,t.confirmationModal.targetId=e.payload.targetId},closeConfirmationModal(t){t.confirmationModal.isOpen=!1,t.confirmationModal.type=null,t.confirmationModal.targetId=null}}}),{openAddColumnModal:ON,closeAddColumnModal:hd,openConfirmationModal:jA,closeConfirmationModal:pd}=FA.actions,xN=FA.reducer,H0=localStorage.getItem("user"),q0=H0?{isAuthenticated:!0,user:JSON.parse(H0),isLoading:!1}:{isAuthenticated:!1,user:{email:null,token:null,id:null},isLoading:!1},HA=jy({name:"auth",initialState:q0,reducers:{loginStart:t=>{t.isLoading=!0},loginFinish:t=>{t.isLoading=!1},loginSuccess:(t,e)=>{t.isAuthenticated=!0,t.user=e.payload,t.isLoading=!1},loginFailure:t=>{t.isLoading=!1},logout:()=>q0}}),{loginStart:Hy,loginFinish:G0,loginSuccess:qA,loginFailure:NN,logout:GA}=HA.actions,PN=HA.reducer,MN=()=>{try{const t=localStorage.getItem("boardState");return t?JSON.parse(t):void 0}catch(t){console.error("Ошибка загрузки состояния:",t);return}},kN=t=>{try{const e=JSON.stringify(t);localStorage.setItem("boardState",e)}catch(e){console.error("Ошибка сохранения состояния:",e)}},$0=MN(),cc=iN({reducer:{auth:PN,board:IN,popup:xN},preloadedState:$0?{board:$0.board}:void 0});cc.subscribe(()=>{kN(cc.getState())});var VN="Invariant failed";function LN(t,e){throw new Error(VN)}var Dr=function(e){var n=e.top,i=e.right,a=e.bottom,l=e.left,c=i-l,f=a-n,p={top:n,right:i,bottom:a,left:l,width:c,height:f,x:l,y:n,center:{x:(i+l)/2,y:(a+n)/2}};return p},qy=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},K0=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},UN=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},gg={top:0,right:0,bottom:0,left:0},Gy=function(e){var n=e.borderBox,i=e.margin,a=i===void 0?gg:i,l=e.border,c=l===void 0?gg:l,f=e.padding,p=f===void 0?gg:f,m=Dr(qy(n,a)),y=Dr(K0(n,c)),_=Dr(K0(y,p));return{marginBox:m,borderBox:Dr(n),paddingBox:y,contentBox:_,margin:a,border:c,padding:p}},cr=function(e){var n=e.slice(0,-2),i=e.slice(-2);if(i!=="px")return 0;var a=Number(n);return isNaN(a)&&LN(),a},BN=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Kd=function(e,n){var i=e.borderBox,a=e.border,l=e.margin,c=e.padding,f=UN(i,n);return Gy({borderBox:f,border:a,margin:l,padding:c})},Wd=function(e,n){return n===void 0&&(n=BN()),Kd(e,n)},$A=function(e,n){var i={top:cr(n.marginTop),right:cr(n.marginRight),bottom:cr(n.marginBottom),left:cr(n.marginLeft)},a={top:cr(n.paddingTop),right:cr(n.paddingRight),bottom:cr(n.paddingBottom),left:cr(n.paddingLeft)},l={top:cr(n.borderTopWidth),right:cr(n.borderRightWidth),bottom:cr(n.borderBottomWidth),left:cr(n.borderLeftWidth)};return Gy({borderBox:e,margin:i,padding:a,border:l})},KA=function(e){var n=e.getBoundingClientRect(),i=window.getComputedStyle(e);return $A(n,i)},fc=function(e){var n=[],i=null,a=function(){for(var c=arguments.length,f=new Array(c),p=0;p<c;p++)f[p]=arguments[p];n=f,!i&&(i=requestAnimationFrame(function(){i=null,e.apply(void 0,n)}))};return a.cancel=function(){i&&(cancelAnimationFrame(i),i=null)},a};function Yd(){return Yd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Yd.apply(null,arguments)}function WA(t,e){}WA.bind(null,"warn");WA.bind(null,"error");function Fs(){}function zN(t,e){return{...t,...e}}function pr(t,e,n){const i=e.map(a=>{const l=zN(n,a.options);return t.addEventListener(a.eventName,a.fn,l),function(){t.removeEventListener(a.eventName,a.fn,l)}});return function(){i.forEach(l=>{l()})}}const FN="Invariant failed";class Qd extends Error{}Qd.prototype.toString=function(){return this.message};function de(t,e){throw new Qd(FN)}class jN extends Fe.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=Fs,this.onWindowError=n=>{const i=this.getCallbacks();i.isDragging()&&i.tryAbort(),n.error instanceof Qd&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=pr(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof Qd){this.setState({});return}throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const HN=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Xd=t=>t+1,qN=t=>`
  You have lifted an item in position ${Xd(t.source.index)}
`,YA=(t,e)=>{const n=t.droppableId===e.droppableId,i=Xd(t.index),a=Xd(e.index);return n?`
      You have moved the item from position ${i}
      to position ${a}
    `:`
    You have moved the item from position ${i}
    in list ${t.droppableId}
    to list ${e.droppableId}
    in position ${a}
  `},QA=(t,e,n)=>e.droppableId===n.droppableId?`
      The item ${t}
      has been combined with ${n.draggableId}`:`
      The item ${t}
      in list ${e.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,GN=t=>{const e=t.destination;if(e)return YA(t.source,e);const n=t.combine;return n?QA(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},W0=t=>`
  The item has returned to its starting position
  of ${Xd(t.index)}
`,$N=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${W0(t.source)}
    `;const e=t.destination,n=t.combine;return e?`
      You have dropped the item.
      ${YA(t.source,e)}
    `:n?`
      You have dropped the item.
      ${QA(t.draggableId,t.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${W0(t.source)}
  `},Dd={dragHandleUsageInstructions:HN,onDragStart:qN,onDragUpdate:GN,onDragEnd:$N};function KN(t,e){return!!(t===e||Number.isNaN(t)&&Number.isNaN(e))}function XA(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!KN(t[n],e[n]))return!1;return!0}function it(t,e){const n=k.useState(()=>({inputs:e,result:t()}))[0],i=k.useRef(!0),a=k.useRef(n),c=i.current||!!(e&&a.current.inputs&&XA(e,a.current.inputs))?a.current:{inputs:e,result:t()};return k.useEffect(()=>{i.current=!1,a.current=c},[c]),c.result}function we(t,e){return it(()=>t,e)}const un={x:0,y:0},gn=(t,e)=>({x:t.x+e.x,y:t.y+e.y}),Hn=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),js=(t,e)=>t.x===e.x&&t.y===e.y,wl=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),Ya=(t,e,n=0)=>t==="x"?{x:e,y:n}:{x:n,y:e},dc=(t,e)=>Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2),Y0=(t,e)=>Math.min(...e.map(n=>dc(t,n))),ZA=t=>e=>({x:t(e.x),y:t(e.y)});var WN=(t,e)=>{const n=Dr({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n};const Nc=(t,e)=>({top:t.top+e.y,left:t.left+e.x,bottom:t.bottom+e.y,right:t.right+e.x}),Q0=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],YN={top:0,right:0,bottom:0,left:0},QN=(t,e)=>e?Nc(t,e.scroll.diff.displacement):t,XN=(t,e,n)=>n&&n.increasedBy?{...t,[e.end]:t[e.end]+n.increasedBy[e.line]}:t,ZN=(t,e)=>e&&e.shouldClipSubject?WN(e.pageMarginBox,t):Dr(t);var dl=({page:t,withPlaceholder:e,axis:n,frame:i})=>{const a=QN(t.marginBox,i),l=XN(a,n,e),c=ZN(l,i);return{page:t,withPlaceholder:e,active:c}},$y=(t,e)=>{t.frame||de();const n=t.frame,i=Hn(e,n.scroll.initial),a=wl(i),l={...n,scroll:{initial:n.scroll.initial,current:e,diff:{value:i,displacement:a},max:n.scroll.max}},c=dl({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:l});return{...t,frame:l,subject:c}};function ln(t,e=XA){let n=null;function i(...a){if(n&&n.lastThis===this&&e(a,n.lastArgs))return n.lastResult;const l=t.apply(this,a);return n={lastResult:l,lastArgs:a,lastThis:this},l}return i.clear=function(){n=null},i}const JA=ln(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),ew=ln(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),Ph=ln(t=>Object.values(t)),JN=ln(t=>Object.values(t));var Rl=ln((t,e)=>JN(e).filter(i=>t===i.descriptor.droppableId).sort((i,a)=>i.descriptor.index-a.descriptor.index));function Ky(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function Mh(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var kh=ln((t,e)=>e.filter(n=>n.descriptor.id!==t.descriptor.id)),e2=({isMovingForward:t,draggable:e,destination:n,insideDestination:i,previousImpact:a})=>{if(!n.isCombineEnabled||!Ky(a))return null;function c(S){const w={type:"COMBINE",combine:{draggableId:S,droppableId:n.descriptor.id}};return{...a,at:w}}const f=a.displaced.all,p=f.length?f[0]:null;if(t)return p?c(p):null;const m=kh(e,i);if(!p){if(!m.length)return null;const S=m[m.length-1];return c(S.descriptor.id)}const y=m.findIndex(S=>S.descriptor.id===p);y===-1&&de();const _=y-1;if(_<0)return null;const E=m[_];return c(E.descriptor.id)},Cl=(t,e)=>t.descriptor.droppableId===e.descriptor.id;const tw={point:un,value:0},hc={invisible:{},visible:{},all:[]},t2={displaced:hc,displacedBy:tw,at:null};var mr=(t,e)=>n=>t<=n&&n<=e,nw=t=>{const e=mr(t.top,t.bottom),n=mr(t.left,t.right);return i=>{if(e(i.top)&&e(i.bottom)&&n(i.left)&&n(i.right))return!0;const l=e(i.top)||e(i.bottom),c=n(i.left)||n(i.right);if(l&&c)return!0;const p=i.top<t.top&&i.bottom>t.bottom,m=i.left<t.left&&i.right>t.right;return p&&m?!0:p&&c||m&&l}},n2=t=>{const e=mr(t.top,t.bottom),n=mr(t.left,t.right);return i=>e(i.top)&&e(i.bottom)&&n(i.left)&&n(i.right)};const Wy={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},rw={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var r2=t=>e=>{const n=mr(e.top,e.bottom),i=mr(e.left,e.right);return a=>t===Wy?n(a.top)&&n(a.bottom):i(a.left)&&i(a.right)};const i2=(t,e)=>{const n=e.frame?e.frame.scroll.diff.displacement:un;return Nc(t,n)},s2=(t,e,n)=>e.subject.active?n(e.subject.active)(t):!1,a2=(t,e,n)=>n(e)(t),Yy=({target:t,destination:e,viewport:n,withDroppableDisplacement:i,isVisibleThroughFrameFn:a})=>{const l=i?i2(t,e):t;return s2(l,e,a)&&a2(l,n,a)},o2=t=>Yy({...t,isVisibleThroughFrameFn:nw}),iw=t=>Yy({...t,isVisibleThroughFrameFn:n2}),l2=t=>Yy({...t,isVisibleThroughFrameFn:r2(t.destination.axis)}),u2=(t,e,n)=>{if(typeof n=="boolean")return n;if(!e)return!0;const{invisible:i,visible:a}=e;if(i[t])return!1;const l=a[t];return l?l.shouldAnimate:!0};function c2(t,e){const n=t.page.marginBox,i={top:e.point.y,right:0,bottom:0,left:e.point.x};return Dr(qy(n,i))}function pc({afterDragging:t,destination:e,displacedBy:n,viewport:i,forceShouldAnimate:a,last:l}){return t.reduce(function(f,p){const m=c2(p,n),y=p.descriptor.id;if(f.all.push(y),!o2({target:m,destination:e,viewport:i,withDroppableDisplacement:!0}))return f.invisible[p.descriptor.id]=!0,f;const E=u2(y,l,a),S={draggableId:y,shouldAnimate:E};return f.visible[y]=S,f},{all:[],visible:{},invisible:{}})}function f2(t,e){if(!t.length)return 0;const n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function X0({insideDestination:t,inHomeList:e,displacedBy:n,destination:i}){const a=f2(t,{inHomeList:e});return{displaced:hc,displacedBy:n,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:a}}}}function Zd({draggable:t,insideDestination:e,destination:n,viewport:i,displacedBy:a,last:l,index:c,forceShouldAnimate:f}){const p=Cl(t,n);if(c==null)return X0({insideDestination:e,inHomeList:p,displacedBy:a,destination:n});const m=e.find(w=>w.descriptor.index===c);if(!m)return X0({insideDestination:e,inHomeList:p,displacedBy:a,destination:n});const y=kh(t,e),_=e.indexOf(m),E=y.slice(_);return{displaced:pc({afterDragging:E,destination:n,displacedBy:a,last:l,viewport:i.frame,forceShouldAnimate:f}),displacedBy:a,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:c}}}}function Ws(t,e){return!!e.effected[t]}var d2=({isMovingForward:t,destination:e,draggables:n,combine:i,afterCritical:a})=>{if(!e.isCombineEnabled)return null;const l=i.draggableId,f=n[l].descriptor.index;return Ws(l,a)?t?f:f-1:t?f+1:f},h2=({isMovingForward:t,isInHomeList:e,insideDestination:n,location:i})=>{if(!n.length)return null;const a=i.index,l=t?a+1:a-1,c=n[0].descriptor.index,f=n[n.length-1].descriptor.index,p=e?f:f+1;return l<c||l>p?null:l},p2=({isMovingForward:t,isInHomeList:e,draggable:n,draggables:i,destination:a,insideDestination:l,previousImpact:c,viewport:f,afterCritical:p})=>{const m=c.at;if(m||de(),m.type==="REORDER"){const _=h2({isMovingForward:t,isInHomeList:e,location:m.destination,insideDestination:l});return _==null?null:Zd({draggable:n,insideDestination:l,destination:a,viewport:f,last:c.displaced,displacedBy:c.displacedBy,index:_})}const y=d2({isMovingForward:t,destination:a,displaced:c.displaced,draggables:i,combine:m.combine,afterCritical:p});return y==null?null:Zd({draggable:n,insideDestination:l,destination:a,viewport:f,last:c.displaced,displacedBy:c.displacedBy,index:y})},m2=({displaced:t,afterCritical:e,combineWith:n,displacedBy:i})=>{const a=!!(t.visible[n]||t.invisible[n]);return Ws(n,e)?a?un:wl(i.point):a?i.point:un},g2=({afterCritical:t,impact:e,draggables:n})=>{const i=Mh(e);i||de();const a=i.draggableId,l=n[a].page.borderBox.center,c=m2({displaced:e.displaced,afterCritical:t,combineWith:a,displacedBy:e.displacedBy});return gn(l,c)};const sw=(t,e)=>e.margin[t.start]+e.borderBox[t.size]/2,y2=(t,e)=>e.margin[t.end]+e.borderBox[t.size]/2,Qy=(t,e,n)=>e[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2,Z0=({axis:t,moveRelativeTo:e,isMoving:n})=>Ya(t.line,e.marginBox[t.end]+sw(t,n),Qy(t,e.marginBox,n)),J0=({axis:t,moveRelativeTo:e,isMoving:n})=>Ya(t.line,e.marginBox[t.start]-y2(t,n),Qy(t,e.marginBox,n)),v2=({axis:t,moveInto:e,isMoving:n})=>Ya(t.line,e.contentBox[t.start]+sw(t,n),Qy(t,e.contentBox,n));var _2=({impact:t,draggable:e,draggables:n,droppable:i,afterCritical:a})=>{const l=Rl(i.descriptor.id,n),c=e.page,f=i.axis;if(!l.length)return v2({axis:f,moveInto:i.page,isMoving:c});const{displaced:p,displacedBy:m}=t,y=p.all[0];if(y){const E=n[y];if(Ws(y,a))return J0({axis:f,moveRelativeTo:E.page,isMoving:c});const S=Kd(E.page,m.point);return J0({axis:f,moveRelativeTo:S,isMoving:c})}const _=l[l.length-1];if(_.descriptor.id===e.descriptor.id)return c.borderBox.center;if(Ws(_.descriptor.id,a)){const E=Kd(_.page,wl(a.displacedBy.point));return Z0({axis:f,moveRelativeTo:E,isMoving:c})}return Z0({axis:f,moveRelativeTo:_.page,isMoving:c})},Qg=(t,e)=>{const n=t.frame;return n?gn(e,n.scroll.diff.displacement):e};const E2=({impact:t,draggable:e,droppable:n,draggables:i,afterCritical:a})=>{const l=e.page.borderBox.center,c=t.at;return!n||!c?l:c.type==="REORDER"?_2({impact:t,draggable:e,draggables:i,droppable:n,afterCritical:a}):g2({impact:t,draggables:i,afterCritical:a})};var Vh=t=>{const e=E2(t),n=t.droppable;return n?Qg(n,e):e},aw=(t,e)=>{const n=Hn(e,t.scroll.initial),i=wl(n);return{frame:Dr({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:i}}}};function eT(t,e){return t.map(n=>e[n])}function b2(t,e){for(let n=0;n<e.length;n++){const i=e[n].visible[t];if(i)return i}return null}var T2=({impact:t,viewport:e,destination:n,draggables:i,maxScrollChange:a})=>{const l=aw(e,gn(e.scroll.current,a)),c=n.frame?$y(n,gn(n.frame.scroll.current,a)):n,f=t.displaced,p=pc({afterDragging:eT(f.all,i),destination:n,displacedBy:t.displacedBy,viewport:l.frame,last:f,forceShouldAnimate:!1}),m=pc({afterDragging:eT(f.all,i),destination:c,displacedBy:t.displacedBy,viewport:e.frame,last:f,forceShouldAnimate:!1}),y={},_={},E=[f,p,m];return f.all.forEach(w=>{const M=b2(w,E);if(M){_[w]=M;return}y[w]=!0}),{...t,displaced:{all:f.all,invisible:y,visible:_}}},S2=(t,e)=>gn(t.scroll.diff.displacement,e),Xy=({pageBorderBoxCenter:t,draggable:e,viewport:n})=>{const i=S2(n,t),a=Hn(i,e.page.borderBox.center);return gn(e.client.borderBox.center,a)},ow=({draggable:t,destination:e,newPageBorderBoxCenter:n,viewport:i,withDroppableDisplacement:a,onlyOnMainAxis:l=!1})=>{const c=Hn(n,t.page.borderBox.center),p={target:Nc(t.page.borderBox,c),destination:e,withDroppableDisplacement:a,viewport:i};return l?l2(p):iw(p)},A2=({isMovingForward:t,draggable:e,destination:n,draggables:i,previousImpact:a,viewport:l,previousPageBorderBoxCenter:c,previousClientSelection:f,afterCritical:p})=>{if(!n.isEnabled)return null;const m=Rl(n.descriptor.id,i),y=Cl(e,n),_=e2({isMovingForward:t,draggable:e,destination:n,insideDestination:m,previousImpact:a})||p2({isMovingForward:t,isInHomeList:y,draggable:e,draggables:i,destination:n,insideDestination:m,previousImpact:a,viewport:l,afterCritical:p});if(!_)return null;const E=Vh({impact:_,draggable:e,droppable:n,draggables:i,afterCritical:p});if(ow({draggable:e,destination:n,newPageBorderBoxCenter:E,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Xy({pageBorderBoxCenter:E,draggable:e,viewport:l}),impact:_,scrollJumpRequest:null};const w=Hn(E,c),M=T2({impact:_,viewport:l,destination:n,draggables:i,maxScrollChange:w});return{clientSelection:f,impact:M,scrollJumpRequest:w}};const Dn=t=>{const e=t.subject.active;return e||de(),e};var w2=({isMovingForward:t,pageBorderBoxCenter:e,source:n,droppables:i,viewport:a})=>{const l=n.subject.active;if(!l)return null;const c=n.axis,f=mr(l[c.start],l[c.end]),p=Ph(i).filter(y=>y!==n).filter(y=>y.isEnabled).filter(y=>!!y.subject.active).filter(y=>nw(a.frame)(Dn(y))).filter(y=>{const _=Dn(y);return t?l[c.crossAxisEnd]<_[c.crossAxisEnd]:_[c.crossAxisStart]<l[c.crossAxisStart]}).filter(y=>{const _=Dn(y),E=mr(_[c.start],_[c.end]);return f(_[c.start])||f(_[c.end])||E(l[c.start])||E(l[c.end])}).sort((y,_)=>{const E=Dn(y)[c.crossAxisStart],S=Dn(_)[c.crossAxisStart];return t?E-S:S-E}).filter((y,_,E)=>Dn(y)[c.crossAxisStart]===Dn(E[0])[c.crossAxisStart]);if(!p.length)return null;if(p.length===1)return p[0];const m=p.filter(y=>mr(Dn(y)[c.start],Dn(y)[c.end])(e[c.line]));return m.length===1?m[0]:m.length>1?m.sort((y,_)=>Dn(y)[c.start]-Dn(_)[c.start])[0]:p.sort((y,_)=>{const E=Y0(e,Q0(Dn(y))),S=Y0(e,Q0(Dn(_)));return E!==S?E-S:Dn(y)[c.start]-Dn(_)[c.start]})[0]};const tT=(t,e)=>{const n=t.page.borderBox.center;return Ws(t.descriptor.id,e)?Hn(n,e.displacedBy.point):n},R2=(t,e)=>{const n=t.page.borderBox;return Ws(t.descriptor.id,e)?Nc(n,wl(e.displacedBy.point)):n};var C2=({pageBorderBoxCenter:t,viewport:e,destination:n,insideDestination:i,afterCritical:a})=>i.filter(c=>iw({target:R2(c,a),destination:n,viewport:e.frame,withDroppableDisplacement:!0})).sort((c,f)=>{const p=dc(t,Qg(n,tT(c,a))),m=dc(t,Qg(n,tT(f,a)));return p<m?-1:m<p?1:c.descriptor.index-f.descriptor.index})[0]||null,Pc=ln(function(e,n){const i=n[e.line];return{value:i,point:Ya(e.line,i)}});const I2=(t,e,n)=>{const i=t.axis;if(t.descriptor.mode==="virtual")return Ya(i.line,e[i.line]);const a=t.subject.page.contentBox[i.size],p=Rl(t.descriptor.id,n).reduce((m,y)=>m+y.client.marginBox[i.size],0)+e[i.line]-a;return p<=0?null:Ya(i.line,p)},lw=(t,e)=>({...t,scroll:{...t.scroll,max:e}}),uw=(t,e,n)=>{const i=t.frame;Cl(e,t)&&de(),t.subject.withPlaceholder&&de();const a=Pc(t.axis,e.displaceBy).point,l=I2(t,a,n),c={placeholderSize:a,increasedBy:l,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!i){const y=dl({page:t.subject.page,withPlaceholder:c,axis:t.axis,frame:t.frame});return{...t,subject:y}}const f=l?gn(i.scroll.max,l):i.scroll.max,p=lw(i,f),m=dl({page:t.subject.page,withPlaceholder:c,axis:t.axis,frame:p});return{...t,subject:m,frame:p}},D2=t=>{const e=t.subject.withPlaceholder;e||de();const n=t.frame;if(!n){const c=dl({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:c}}const i=e.oldFrameMaxScroll;i||de();const a=lw(n,i),l=dl({page:t.subject.page,axis:t.axis,frame:a,withPlaceholder:null});return{...t,subject:l,frame:a}};var O2=({previousPageBorderBoxCenter:t,moveRelativeTo:e,insideDestination:n,draggable:i,draggables:a,destination:l,viewport:c,afterCritical:f})=>{if(!e){if(n.length)return null;const _={displaced:hc,displacedBy:tw,at:{type:"REORDER",destination:{droppableId:l.descriptor.id,index:0}}},E=Vh({impact:_,draggable:i,droppable:l,draggables:a,afterCritical:f}),S=Cl(i,l)?l:uw(l,i,a);return ow({draggable:i,destination:S,newPageBorderBoxCenter:E,viewport:c.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?_:null}const p=t[l.axis.line]<=e.page.borderBox.center[l.axis.line],m=(()=>{const _=e.descriptor.index;return e.descriptor.id===i.descriptor.id||p?_:_+1})(),y=Pc(l.axis,i.displaceBy);return Zd({draggable:i,insideDestination:n,destination:l,viewport:c,displacedBy:y,last:hc,index:m})},x2=({isMovingForward:t,previousPageBorderBoxCenter:e,draggable:n,isOver:i,draggables:a,droppables:l,viewport:c,afterCritical:f})=>{const p=w2({isMovingForward:t,pageBorderBoxCenter:e,source:i,droppables:l,viewport:c});if(!p)return null;const m=Rl(p.descriptor.id,a),y=C2({pageBorderBoxCenter:e,viewport:c,destination:p,insideDestination:m,afterCritical:f}),_=O2({previousPageBorderBoxCenter:e,destination:p,draggable:n,draggables:a,moveRelativeTo:y,insideDestination:m,viewport:c,afterCritical:f});if(!_)return null;const E=Vh({impact:_,draggable:n,droppable:p,draggables:a,afterCritical:f});return{clientSelection:Xy({pageBorderBoxCenter:E,draggable:n,viewport:c}),impact:_,scrollJumpRequest:null}},qn=t=>{const e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null};const N2=(t,e)=>{const n=qn(t);return n?e[n]:null};var P2=({state:t,type:e})=>{const n=N2(t.impact,t.dimensions.droppables),i=!!n,a=t.dimensions.droppables[t.critical.droppable.id],l=n||a,c=l.axis.direction,f=c==="vertical"&&(e==="MOVE_UP"||e==="MOVE_DOWN")||c==="horizontal"&&(e==="MOVE_LEFT"||e==="MOVE_RIGHT");if(f&&!i)return null;const p=e==="MOVE_DOWN"||e==="MOVE_RIGHT",m=t.dimensions.draggables[t.critical.draggable.id],y=t.current.page.borderBoxCenter,{draggables:_,droppables:E}=t.dimensions;return f?A2({isMovingForward:p,previousPageBorderBoxCenter:y,draggable:m,destination:l,draggables:_,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):x2({isMovingForward:p,previousPageBorderBoxCenter:y,draggable:m,isOver:l,draggables:_,droppables:E,viewport:t.viewport,afterCritical:t.afterCritical})};function ja(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function cw(t){const e=mr(t.top,t.bottom),n=mr(t.left,t.right);return function(a){return e(a.y)&&n(a.x)}}function M2(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function k2({pageBorderBox:t,draggable:e,candidates:n}){const i=e.page.borderBox.center,a=n.map(l=>{const c=l.axis,f=Ya(l.axis.line,t.center[c.line],l.page.borderBox.center[c.crossAxisLine]);return{id:l.descriptor.id,distance:dc(i,f)}}).sort((l,c)=>c.distance-l.distance);return a[0]?a[0].id:null}function V2({pageBorderBox:t,draggable:e,droppables:n}){const i=Ph(n).filter(a=>{if(!a.isEnabled)return!1;const l=a.subject.active;if(!l||!M2(t,l))return!1;if(cw(l)(t.center))return!0;const c=a.axis,f=l.center[c.crossAxisLine],p=t[c.crossAxisStart],m=t[c.crossAxisEnd],y=mr(l[c.crossAxisStart],l[c.crossAxisEnd]),_=y(p),E=y(m);return!_&&!E?!0:_?p<f:m>f});return i.length?i.length===1?i[0].descriptor.id:k2({pageBorderBox:t,draggable:e,candidates:i}):null}const fw=(t,e)=>Dr(Nc(t,e));var L2=(t,e)=>{const n=t.frame;return n?fw(e,n.scroll.diff.value):e};function dw({displaced:t,id:e}){return!!(t.visible[e]||t.invisible[e])}function U2({draggable:t,closest:e,inHomeList:n}){return e?n&&e.descriptor.index>t.descriptor.index?e.descriptor.index-1:e.descriptor.index:null}var B2=({pageBorderBoxWithDroppableScroll:t,draggable:e,destination:n,insideDestination:i,last:a,viewport:l,afterCritical:c})=>{const f=n.axis,p=Pc(n.axis,e.displaceBy),m=p.value,y=t[f.start],_=t[f.end],S=kh(e,i).find(M=>{const D=M.descriptor.id,z=M.page.borderBox.center[f.line],F=Ws(D,c),q=dw({displaced:a,id:D});return F?q?_<=z:y<z-m:q?_<=z+m:y<z})||null,w=U2({draggable:e,closest:S,inHomeList:Cl(e,n)});return Zd({draggable:e,insideDestination:i,destination:n,viewport:l,last:a,displacedBy:p,index:w})};const z2=4;var F2=({draggable:t,pageBorderBoxWithDroppableScroll:e,previousImpact:n,destination:i,insideDestination:a,afterCritical:l})=>{if(!i.isCombineEnabled)return null;const c=i.axis,f=Pc(i.axis,t.displaceBy),p=f.value,m=e[c.start],y=e[c.end],E=kh(t,a).find(w=>{const M=w.descriptor.id,D=w.page.borderBox,F=D[c.size]/z2,q=Ws(M,l),Z=dw({displaced:n.displaced,id:M});return q?Z?y>D[c.start]+F&&y<D[c.end]-F:m>D[c.start]-p+F&&m<D[c.end]-p-F:Z?y>D[c.start]+p+F&&y<D[c.end]+p-F:m>D[c.start]+F&&m<D[c.end]-F});return E?{displacedBy:f,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:E.descriptor.id,droppableId:i.descriptor.id}}}:null},hw=({pageOffset:t,draggable:e,draggables:n,droppables:i,previousImpact:a,viewport:l,afterCritical:c})=>{const f=fw(e.page.borderBox,t),p=V2({pageBorderBox:f,draggable:e,droppables:i});if(!p)return t2;const m=i[p],y=Rl(m.descriptor.id,n),_=L2(m,f);return F2({pageBorderBoxWithDroppableScroll:_,draggable:e,previousImpact:a,destination:m,insideDestination:y,afterCritical:c})||B2({pageBorderBoxWithDroppableScroll:_,draggable:e,destination:m,insideDestination:y,last:a.displaced,viewport:l,afterCritical:c})},Zy=(t,e)=>({...t,[e.descriptor.id]:e});const j2=({previousImpact:t,impact:e,droppables:n})=>{const i=qn(t),a=qn(e);if(!i||i===a)return n;const l=n[i];if(!l.subject.withPlaceholder)return n;const c=D2(l);return Zy(n,c)};var H2=({draggable:t,draggables:e,droppables:n,previousImpact:i,impact:a})=>{const l=j2({previousImpact:i,impact:a,droppables:n}),c=qn(a);if(!c)return l;const f=n[c];if(Cl(t,f)||f.subject.withPlaceholder)return l;const p=uw(f,t,e);return Zy(l,p)},Zu=({state:t,clientSelection:e,dimensions:n,viewport:i,impact:a,scrollJumpRequest:l})=>{const c=i||t.viewport,f=n||t.dimensions,p=e||t.current.client.selection,m=Hn(p,t.initial.client.selection),y={offset:m,selection:p,borderBoxCenter:gn(t.initial.client.borderBoxCenter,m)},_={selection:gn(y.selection,c.scroll.current),borderBoxCenter:gn(y.borderBoxCenter,c.scroll.current),offset:gn(y.offset,c.scroll.diff.value)},E={client:y,page:_};if(t.phase==="COLLECTING")return{...t,dimensions:f,viewport:c,current:E};const S=f.draggables[t.critical.draggable.id],w=a||hw({pageOffset:_.offset,draggable:S,draggables:f.draggables,droppables:f.droppables,previousImpact:t.impact,viewport:c,afterCritical:t.afterCritical}),M=H2({draggable:S,impact:w,previousImpact:t.impact,draggables:f.draggables,droppables:f.droppables});return{...t,current:E,dimensions:{draggables:f.draggables,droppables:M},impact:w,viewport:c,scrollJumpRequest:l||null,forceShouldAnimate:l?!1:null}};function q2(t,e){return t.map(n=>e[n])}var pw=({impact:t,viewport:e,draggables:n,destination:i,forceShouldAnimate:a})=>{const l=t.displaced,c=q2(l.all,n),f=pc({afterDragging:c,destination:i,displacedBy:t.displacedBy,viewport:e.frame,forceShouldAnimate:a,last:l});return{...t,displaced:f}},mw=({impact:t,draggable:e,droppable:n,draggables:i,viewport:a,afterCritical:l})=>{const c=Vh({impact:t,draggable:e,draggables:i,droppable:n,afterCritical:l});return Xy({pageBorderBoxCenter:c,draggable:e,viewport:a})},gw=({state:t,dimensions:e,viewport:n})=>{t.movementMode!=="SNAP"&&de();const i=t.impact,a=n||t.viewport,l=e||t.dimensions,{draggables:c,droppables:f}=l,p=c[t.critical.draggable.id],m=qn(i);m||de();const y=f[m],_=pw({impact:i,viewport:a,destination:y,draggables:c}),E=mw({impact:_,draggable:p,droppable:y,draggables:c,viewport:a,afterCritical:t.afterCritical});return Zu({impact:_,clientSelection:E,state:t,dimensions:l,viewport:a})},G2=t=>({index:t.index,droppableId:t.droppableId}),yw=({draggable:t,home:e,draggables:n,viewport:i})=>{const a=Pc(e.axis,t.displaceBy),l=Rl(e.descriptor.id,n),c=l.indexOf(t);c===-1&&de();const f=l.slice(c+1),p=f.reduce((E,S)=>(E[S.descriptor.id]=!0,E),{}),m={inVirtualList:e.descriptor.mode==="virtual",displacedBy:a,effected:p};return{impact:{displaced:pc({afterDragging:f,destination:e,displacedBy:a,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:a,at:{type:"REORDER",destination:G2(t.descriptor)}},afterCritical:m}},$2=(t,e)=>({draggables:t.draggables,droppables:Zy(t.droppables,e)}),K2=({draggable:t,offset:e,initialWindowScroll:n})=>{const i=Kd(t.client,e),a=Wd(i,n);return{...t,placeholder:{...t.placeholder,client:i},client:i,page:a}},W2=t=>{const e=t.frame;return e||de(),e},Y2=({additions:t,updatedDroppables:e,viewport:n})=>{const i=n.scroll.diff.value;return t.map(a=>{const l=a.descriptor.droppableId,c=e[l],p=W2(c).scroll.diff.value,m=gn(i,p);return K2({draggable:a,offset:m,initialWindowScroll:n.scroll.initial})})},Q2=({state:t,published:e})=>{const n=e.modified.map(z=>{const F=t.dimensions.droppables[z.droppableId];return $y(F,z.scroll)}),i={...t.dimensions.droppables,...JA(n)},a=ew(Y2({additions:e.additions,updatedDroppables:i,viewport:t.viewport})),l={...t.dimensions.draggables,...a};e.removals.forEach(z=>{delete l[z]});const c={droppables:i,draggables:l},f=qn(t.impact),p=f?c.droppables[f]:null,m=c.draggables[t.critical.draggable.id],y=c.droppables[t.critical.droppable.id],{impact:_,afterCritical:E}=yw({draggable:m,home:y,draggables:l,viewport:t.viewport}),S=p&&p.isCombineEnabled?t.impact:_,w=hw({pageOffset:t.current.page.offset,draggable:c.draggables[t.critical.draggable.id],draggables:c.draggables,droppables:c.droppables,previousImpact:S,viewport:t.viewport,afterCritical:E}),M={...t,phase:"DRAGGING",impact:w,onLiftImpact:_,dimensions:c,afterCritical:E,forceShouldAnimate:!1};return t.phase==="COLLECTING"?M:{...M,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const Xg=t=>t.movementMode==="SNAP",yg=(t,e,n)=>{const i=$2(t.dimensions,e);return!Xg(t)||n?Zu({state:t,dimensions:i}):gw({state:t,dimensions:i})};function vg(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const nT={phase:"IDLE",completed:null,shouldFlush:!1};var X2=(t=nT,e)=>{if(e.type==="FLUSH")return{...nT,shouldFlush:!0};if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&de();const{critical:n,clientSelection:i,viewport:a,dimensions:l,movementMode:c}=e.payload,f=l.draggables[n.draggable.id],p=l.droppables[n.droppable.id],m={selection:i,borderBoxCenter:f.client.borderBox.center,offset:un},y={client:m,page:{selection:gn(m.selection,a.scroll.initial),borderBoxCenter:gn(m.selection,a.scroll.initial),offset:gn(m.selection,a.scroll.diff.value)}},_=Ph(l.droppables).every(M=>!M.isFixedOnPage),{impact:E,afterCritical:S}=yw({draggable:f,home:p,draggables:l.draggables,viewport:a});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:c,dimensions:l,initial:y,current:y,isWindowScrollAllowed:_,impact:E,afterCritical:S,onLiftImpact:E,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if(e.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&de(),{...t,phase:"COLLECTING"});if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||de(),Q2({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;ja(t)||de();const{client:n}=e.payload;return js(n,t.current.client.selection)?t:Zu({state:t,clientSelection:n,impact:Xg(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return vg(t);ja(t)||de();const{id:n,newScroll:i}=e.payload,a=t.dimensions.droppables[n];if(!a)return t;const l=$y(a,i);return yg(t,l,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;ja(t)||de();const{id:n,isEnabled:i}=e.payload,a=t.dimensions.droppables[n];a||de(),a.isEnabled===i&&de();const l={...a,isEnabled:i};return yg(t,l,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;ja(t)||de();const{id:n,isCombineEnabled:i}=e.payload,a=t.dimensions.droppables[n];a||de(),a.isCombineEnabled===i&&de();const l={...a,isCombineEnabled:i};return yg(t,l,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;ja(t)||de(),t.isWindowScrollAllowed||de();const n=e.payload.newScroll;if(js(t.viewport.scroll.current,n))return vg(t);const i=aw(t.viewport,n);return Xg(t)?gw({state:t,viewport:i}):Zu({state:t,viewport:i})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ja(t))return t;const n=e.payload.maxScroll;if(js(n,t.viewport.scroll.max))return t;const i={...t.viewport,scroll:{...t.viewport.scroll,max:n}};return{...t,viewport:i}}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&de();const n=P2({state:t,type:e.type});return n?Zu({state:t,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){const n=e.payload.reason;return t.phase!=="COLLECTING"&&de(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(e.type==="DROP_ANIMATE"){const{completed:n,dropDuration:i,newHomeClientOffset:a}=e.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||de(),{phase:"DROP_ANIMATING",completed:n,dropDuration:i,newHomeClientOffset:a,dimensions:t.dimensions}}if(e.type==="DROP_COMPLETE"){const{completed:n}=e.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return t};function ct(t,e){return t instanceof Object&&"type"in t&&t.type===e}const Z2=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),J2=t=>({type:"LIFT",payload:t}),eP=t=>({type:"INITIAL_PUBLISH",payload:t}),tP=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),nP=()=>({type:"COLLECTION_STARTING",payload:null}),rP=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),iP=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),sP=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),vw=t=>({type:"MOVE",payload:t}),aP=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),oP=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),lP=()=>({type:"MOVE_UP",payload:null}),uP=()=>({type:"MOVE_DOWN",payload:null}),cP=()=>({type:"MOVE_RIGHT",payload:null}),fP=()=>({type:"MOVE_LEFT",payload:null}),Jy=()=>({type:"FLUSH",payload:null}),dP=t=>({type:"DROP_ANIMATE",payload:t}),ev=t=>({type:"DROP_COMPLETE",payload:t}),_w=t=>({type:"DROP",payload:t}),hP=t=>({type:"DROP_PENDING",payload:t}),Ew=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var pP=t=>({getState:e,dispatch:n})=>i=>a=>{if(!ct(a,"LIFT")){i(a);return}const{id:l,clientSelection:c,movementMode:f}=a.payload,p=e();p.phase==="DROP_ANIMATING"&&n(ev({completed:p.completed})),e().phase!=="IDLE"&&de(),n(Jy()),n(Z2({draggableId:l,movementMode:f}));const y={draggableId:l,scrollOptions:{shouldPublishImmediately:f==="SNAP"}},{critical:_,dimensions:E,viewport:S}=t.startPublishing(y);n(eP({critical:_,dimensions:E,clientSelection:c,movementMode:f,viewport:S}))},mP=t=>()=>e=>n=>{ct(n,"INITIAL_PUBLISH")&&t.dragging(),ct(n,"DROP_ANIMATE")&&t.dropping(n.payload.completed.result.reason),(ct(n,"FLUSH")||ct(n,"DROP_COMPLETE"))&&t.resting(),e(n)};const tv={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},mc={opacity:{drop:0,combining:.7},scale:{drop:.75}},bw={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Va=`${bw.outOfTheWay}s ${tv.outOfTheWay}`,Ju={fluid:`opacity ${Va}`,snap:`transform ${Va}, opacity ${Va}`,drop:t=>{const e=`${t}s ${tv.drop}`;return`transform ${e}, opacity ${e}`},outOfTheWay:`transform ${Va}`,placeholder:`height ${Va}, width ${Va}, margin ${Va}`},rT=t=>js(t,un)?void 0:`translate(${t.x}px, ${t.y}px)`,Zg={moveTo:rT,drop:(t,e)=>{const n=rT(t);if(n)return e?`${n} scale(${mc.scale.drop})`:n}},{minDropTime:Jg,maxDropTime:Tw}=bw,gP=Tw-Jg,iT=1500,yP=.6;var vP=({current:t,destination:e,reason:n})=>{const i=dc(t,e);if(i<=0)return Jg;if(i>=iT)return Tw;const a=i/iT,l=Jg+gP*a,c=n==="CANCEL"?l*yP:l;return Number(c.toFixed(2))},_P=({impact:t,draggable:e,dimensions:n,viewport:i,afterCritical:a})=>{const{draggables:l,droppables:c}=n,f=qn(t),p=f?c[f]:null,m=c[e.descriptor.droppableId],y=mw({impact:t,draggable:e,draggables:l,afterCritical:a,droppable:p||m,viewport:i});return Hn(y,e.client.borderBox.center)},EP=({draggables:t,reason:e,lastImpact:n,home:i,viewport:a,onLiftImpact:l})=>!n.at||e!=="DROP"?{impact:pw({draggables:t,impact:l,destination:i,viewport:a,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:hc},didDropInsideDroppable:!0};const bP=({getState:t,dispatch:e})=>n=>i=>{if(!ct(i,"DROP")){n(i);return}const a=t(),l=i.payload.reason;if(a.phase==="COLLECTING"){e(hP({reason:l}));return}if(a.phase==="IDLE")return;a.phase==="DROP_PENDING"&&a.isWaiting&&de(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||de();const f=a.critical,p=a.dimensions,m=p.draggables[a.critical.draggable.id],{impact:y,didDropInsideDroppable:_}=EP({reason:l,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),E=_?Ky(y):null,S=_?Mh(y):null,w={index:f.draggable.index,droppableId:f.droppable.id},M={draggableId:m.descriptor.id,type:m.descriptor.type,source:w,reason:l,mode:a.movementMode,destination:E,combine:S},D=_P({impact:y,draggable:m,dimensions:p,viewport:a.viewport,afterCritical:a.afterCritical}),z={critical:a.critical,afterCritical:a.afterCritical,result:M,impact:y};if(!(!js(a.current.client.offset,D)||!!M.combine)){e(ev({completed:z}));return}const q=vP({current:a.current.client.offset,destination:D,reason:l});e(dP({newHomeClientOffset:D,dropDuration:q,completed:z}))};var Sw=()=>({x:window.pageXOffset,y:window.pageYOffset});function TP(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||t()}}}function SP({onWindowScroll:t}){function e(){t(Sw())}const n=fc(e),i=TP(n);let a=Fs;function l(){return a!==Fs}function c(){l()&&de(),a=pr(window,[i])}function f(){l()||de(),n.cancel(),a(),a=Fs}return{start:c,stop:f,isActive:l}}const AP=t=>ct(t,"DROP_COMPLETE")||ct(t,"DROP_ANIMATE")||ct(t,"FLUSH"),wP=t=>{const e=SP({onWindowScroll:n=>{t.dispatch(aP({newScroll:n}))}});return n=>i=>{!e.isActive()&&ct(i,"INITIAL_PUBLISH")&&e.start(),e.isActive()&&AP(i)&&e.stop(),n(i)}};var RP=t=>{let e=!1,n=!1;const i=setTimeout(()=>{n=!0}),a=l=>{e||n||(e=!0,t(l),clearTimeout(i))};return a.wasCalled=()=>e,a},CP=()=>{const t=[],e=a=>{const l=t.findIndex(f=>f.timerId===a);l===-1&&de();const[c]=t.splice(l,1);c.callback()};return{add:a=>{const l=setTimeout(()=>e(l)),c={timerId:l,callback:a};t.push(c)},flush:()=>{if(!t.length)return;const a=[...t];t.length=0,a.forEach(l=>{clearTimeout(l.timerId),l.callback()})}}};const IP=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.droppableId===e.droppableId&&t.index===e.index,DP=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.draggableId===e.draggableId&&t.droppableId===e.droppableId,OP=(t,e)=>{if(t===e)return!0;const n=t.draggable.id===e.draggable.id&&t.draggable.droppableId===e.draggable.droppableId&&t.draggable.type===e.draggable.type&&t.draggable.index===e.draggable.index,i=t.droppable.id===e.droppable.id&&t.droppable.type===e.droppable.type;return n&&i},Bu=(t,e)=>{e()},md=(t,e)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:e});function _g(t,e,n,i){if(!t){n(i(e));return}const a=RP(n);t(e,{announce:a}),a.wasCalled()||n(i(e))}var xP=(t,e)=>{const n=CP();let i=null;const a=(_,E)=>{i&&de(),Bu("onBeforeCapture",()=>{const S=t().onBeforeCapture;S&&S({draggableId:_,mode:E})})},l=(_,E)=>{i&&de(),Bu("onBeforeDragStart",()=>{const S=t().onBeforeDragStart;S&&S(md(_,E))})},c=(_,E)=>{i&&de();const S=md(_,E);i={mode:E,lastCritical:_,lastLocation:S.source,lastCombine:null},n.add(()=>{Bu("onDragStart",()=>_g(t().onDragStart,S,e,Dd.onDragStart))})},f=(_,E)=>{const S=Ky(E),w=Mh(E);i||de();const M=!OP(_,i.lastCritical);M&&(i.lastCritical=_);const D=!IP(i.lastLocation,S);D&&(i.lastLocation=S);const z=!DP(i.lastCombine,w);if(z&&(i.lastCombine=w),!M&&!D&&!z)return;const F={...md(_,i.mode),combine:w,destination:S};n.add(()=>{Bu("onDragUpdate",()=>_g(t().onDragUpdate,F,e,Dd.onDragUpdate))})},p=()=>{i||de(),n.flush()},m=_=>{i||de(),i=null,Bu("onDragEnd",()=>_g(t().onDragEnd,_,e,Dd.onDragEnd))};return{beforeCapture:a,beforeStart:l,start:c,update:f,flush:p,drop:m,abort:()=>{if(!i)return;const _={...md(i.lastCritical,i.mode),combine:null,destination:null,reason:"CANCEL"};m(_)}}},NP=(t,e)=>{const n=xP(t,e);return i=>a=>l=>{if(ct(l,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(l.payload.draggableId,l.payload.movementMode);return}if(ct(l,"INITIAL_PUBLISH")){const f=l.payload.critical;n.beforeStart(f,l.payload.movementMode),a(l),n.start(f,l.payload.movementMode);return}if(ct(l,"DROP_COMPLETE")){const f=l.payload.completed.result;n.flush(),a(l),n.drop(f);return}if(a(l),ct(l,"FLUSH")){n.abort();return}const c=i.getState();c.phase==="DRAGGING"&&n.update(c.critical,c.impact)}};const PP=t=>e=>n=>{if(!ct(n,"DROP_ANIMATION_FINISHED")){e(n);return}const i=t.getState();i.phase!=="DROP_ANIMATING"&&de(),t.dispatch(ev({completed:i.completed}))},MP=t=>{let e=null,n=null;function i(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return a=>l=>{if((ct(l,"FLUSH")||ct(l,"DROP_COMPLETE")||ct(l,"DROP_ANIMATION_FINISHED"))&&i(),a(l),!ct(l,"DROP_ANIMATE"))return;const c={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(Ew())}};n=requestAnimationFrame(()=>{n=null,e=pr(window,[c])})}};var kP=t=>()=>e=>n=>{(ct(n,"DROP_COMPLETE")||ct(n,"FLUSH")||ct(n,"DROP_ANIMATE"))&&t.stopPublishing(),e(n)},VP=t=>{let e=!1;return()=>n=>i=>{if(ct(i,"INITIAL_PUBLISH")){e=!0,t.tryRecordFocus(i.payload.critical.draggable.id),n(i),t.tryRestoreFocusRecorded();return}if(n(i),!!e){if(ct(i,"FLUSH")){e=!1,t.tryRestoreFocusRecorded();return}if(ct(i,"DROP_COMPLETE")){e=!1;const a=i.payload.completed.result;a.combine&&t.tryShiftRecord(a.draggableId,a.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const LP=t=>ct(t,"DROP_COMPLETE")||ct(t,"DROP_ANIMATE")||ct(t,"FLUSH");var UP=t=>e=>n=>i=>{if(LP(i)){t.stop(),n(i);return}if(ct(i,"INITIAL_PUBLISH")){n(i);const a=e.getState();a.phase!=="DRAGGING"&&de(),t.start(a);return}n(i),t.scroll(e.getState())};const BP=t=>e=>n=>{if(e(n),!ct(n,"PUBLISH_WHILE_DRAGGING"))return;const i=t.getState();i.phase==="DROP_PENDING"&&(i.isWaiting||t.dispatch(_w({reason:i.reason})))},zP=oc;var FP=({dimensionMarshal:t,focusMarshal:e,styleMarshal:n,getResponders:i,announce:a,autoScroller:l})=>By(X2,zP(DA(mP(n),kP(t),pP(t),bP,PP,MP,BP,UP(l),wP,VP(e),NP(i,a))));const Eg=()=>({additions:{},removals:{},modified:{}});function jP({registry:t,callbacks:e}){let n=Eg(),i=null;const a=()=>{i||(e.collectionStarting(),i=requestAnimationFrame(()=>{i=null;const{additions:p,removals:m,modified:y}=n,_=Object.keys(p).map(w=>t.draggable.getById(w).getDimension(un)).sort((w,M)=>w.descriptor.index-M.descriptor.index),E=Object.keys(y).map(w=>{const D=t.droppable.getById(w).callbacks.getScrollWhileDragging();return{droppableId:w,scroll:D}}),S={additions:_,removals:Object.keys(m),modified:E};n=Eg(),e.publish(S)}))};return{add:p=>{const m=p.descriptor.id;n.additions[m]=p,n.modified[p.descriptor.droppableId]=!0,n.removals[m]&&delete n.removals[m],a()},remove:p=>{const m=p.descriptor;n.removals[m.id]=!0,n.modified[m.droppableId]=!0,n.additions[m.id]&&delete n.additions[m.id],a()},stop:()=>{i&&(cancelAnimationFrame(i),i=null,n=Eg())}}}var Aw=({scrollHeight:t,scrollWidth:e,height:n,width:i})=>{const a=Hn({x:e,y:t},{x:i,y:n});return{x:Math.max(0,a.x),y:Math.max(0,a.y)}},ww=()=>{const t=document.documentElement;return t||de(),t},Rw=()=>{const t=ww();return Aw({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},HP=()=>{const t=Sw(),e=Rw(),n=t.y,i=t.x,a=ww(),l=a.clientWidth,c=a.clientHeight,f=i+l,p=n+c;return{frame:Dr({top:n,left:i,right:f,bottom:p}),scroll:{initial:t,current:t,max:e,diff:{value:un,displacement:un}}}},qP=({critical:t,scrollOptions:e,registry:n})=>{const i=HP(),a=i.scroll.current,l=t.droppable,c=n.droppable.getAllByType(l.type).map(y=>y.callbacks.getDimensionAndWatchScroll(a,e)),f=n.draggable.getAllByType(t.draggable.type).map(y=>y.getDimension(a));return{dimensions:{draggables:ew(f),droppables:JA(c)},critical:t,viewport:i}};function sT(t,e,n){return!(n.descriptor.id===e.id||n.descriptor.type!==e.type||t.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var GP=(t,e)=>{let n=null;const i=jP({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),a=(E,S)=>{t.droppable.exists(E)||de(),n&&e.updateDroppableIsEnabled({id:E,isEnabled:S})},l=(E,S)=>{n&&(t.droppable.exists(E)||de(),e.updateDroppableIsCombineEnabled({id:E,isCombineEnabled:S}))},c=(E,S)=>{n&&(t.droppable.exists(E)||de(),e.updateDroppableScroll({id:E,newScroll:S}))},f=(E,S)=>{n&&t.droppable.getById(E).callbacks.scroll(S)},p=()=>{if(!n)return;i.stop();const E=n.critical.droppable;t.droppable.getAllByType(E.type).forEach(S=>S.callbacks.dragStopped()),n.unsubscribe(),n=null},m=E=>{n||de();const S=n.critical.draggable;E.type==="ADDITION"&&sT(t,S,E.value)&&i.add(E.value),E.type==="REMOVAL"&&sT(t,S,E.value)&&i.remove(E.value)};return{updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:l,scrollDroppable:f,updateDroppableScroll:c,startPublishing:E=>{n&&de();const S=t.draggable.getById(E.draggableId),w=t.droppable.getById(S.descriptor.droppableId),M={draggable:S.descriptor,droppable:w.descriptor},D=t.subscribe(m);return n={critical:M,unsubscribe:D},qP({critical:M,registry:t,scrollOptions:E.scrollOptions})},stopPublishing:p}},Cw=(t,e)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP",$P=t=>{window.scrollBy(t.x,t.y)};const KP=ln(t=>Ph(t).filter(e=>!(!e.isEnabled||!e.frame))),WP=(t,e)=>KP(e).find(i=>(i.frame||de(),cw(i.frame.pageMarginBox)(t)))||null;var YP=({center:t,destination:e,droppables:n})=>{if(e){const a=n[e];return a.frame?a:null}return WP(t,n)};const gc={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var QP=(t,e,n=()=>gc)=>{const i=n(),a=t[e.size]*i.startFromPercentage,l=t[e.size]*i.maxScrollAtPercentage;return{startScrollingFrom:a,maxScrollValueAt:l}},Iw=({startOfRange:t,endOfRange:e,current:n})=>{const i=e-t;return i===0?0:(n-t)/i},nv=1,XP=(t,e,n=()=>gc)=>{const i=n();if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return i.maxPixelScroll;if(t===e.startScrollingFrom)return nv;const l=1-Iw({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),c=i.maxPixelScroll*i.ease(l);return Math.ceil(c)},ZP=(t,e,n)=>{const i=n(),a=i.durationDampening.accelerateAt,l=i.durationDampening.stopDampeningAt,c=e,f=l,m=Date.now()-c;if(m>=l)return t;if(m<a)return nv;const y=Iw({startOfRange:a,endOfRange:f,current:m}),_=t*i.ease(y);return Math.ceil(_)},aT=({distanceToEdge:t,thresholds:e,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const l=XP(t,e,a);return l===0?0:i?Math.max(ZP(l,n,a),nv):l},oT=({container:t,distanceToEdges:e,dragStartTime:n,axis:i,shouldUseTimeDampening:a,getAutoScrollerOptions:l})=>{const c=QP(t,i,l);return e[i.end]<e[i.start]?aT({distanceToEdge:e[i.end],thresholds:c,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:l}):-1*aT({distanceToEdge:e[i.start],thresholds:c,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:l})},JP=({container:t,subject:e,proposedScroll:n})=>{const i=e.height>t.height,a=e.width>t.width;return!a&&!i?n:a&&i?null:{x:a?0:n.x,y:i?0:n.y}};const eM=ZA(t=>t===0?0:t);var Dw=({dragStartTime:t,container:e,subject:n,center:i,shouldUseTimeDampening:a,getAutoScrollerOptions:l})=>{const c={top:i.y-e.top,right:e.right-i.x,bottom:e.bottom-i.y,left:i.x-e.left},f=oT({container:e,distanceToEdges:c,dragStartTime:t,axis:Wy,shouldUseTimeDampening:a,getAutoScrollerOptions:l}),p=oT({container:e,distanceToEdges:c,dragStartTime:t,axis:rw,shouldUseTimeDampening:a,getAutoScrollerOptions:l}),m=eM({x:p,y:f});if(js(m,un))return null;const y=JP({container:e,subject:n,proposedScroll:m});return y?js(y,un)?null:y:null};const tM=ZA(t=>t===0?0:t>0?1:-1),rv=(()=>{const t=(e,n)=>e<0?e:e>n?e-n:0;return({current:e,max:n,change:i})=>{const a=gn(e,i),l={x:t(a.x,n.x),y:t(a.y,n.y)};return js(l,un)?null:l}})(),Ow=({max:t,current:e,change:n})=>{const i={x:Math.max(e.x,t.x),y:Math.max(e.y,t.y)},a=tM(n),l=rv({max:i,current:e,change:a});return!l||a.x!==0&&l.x===0||a.y!==0&&l.y===0},iv=(t,e)=>Ow({current:t.scroll.current,max:t.scroll.max,change:e}),nM=(t,e)=>{if(!iv(t,e))return null;const n=t.scroll.max,i=t.scroll.current;return rv({current:i,max:n,change:e})},sv=(t,e)=>{const n=t.frame;return n?Ow({current:n.scroll.current,max:n.scroll.max,change:e}):!1},rM=(t,e)=>{const n=t.frame;return!n||!sv(t,e)?null:rv({current:n.scroll.current,max:n.scroll.max,change:e})};var iM=({viewport:t,subject:e,center:n,dragStartTime:i,shouldUseTimeDampening:a,getAutoScrollerOptions:l})=>{const c=Dw({dragStartTime:i,container:t.frame,subject:e,center:n,shouldUseTimeDampening:a,getAutoScrollerOptions:l});return c&&iv(t,c)?c:null},sM=({droppable:t,subject:e,center:n,dragStartTime:i,shouldUseTimeDampening:a,getAutoScrollerOptions:l})=>{const c=t.frame;if(!c)return null;const f=Dw({dragStartTime:i,container:c.pageMarginBox,subject:e,center:n,shouldUseTimeDampening:a,getAutoScrollerOptions:l});return f&&sv(t,f)?f:null},lT=({state:t,dragStartTime:e,shouldUseTimeDampening:n,scrollWindow:i,scrollDroppable:a,getAutoScrollerOptions:l})=>{const c=t.current.page.borderBoxCenter,p=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const _=t.viewport,E=iM({dragStartTime:e,viewport:_,subject:p,center:c,shouldUseTimeDampening:n,getAutoScrollerOptions:l});if(E){i(E);return}}const m=YP({center:c,destination:qn(t.impact),droppables:t.dimensions.droppables});if(!m)return;const y=sM({dragStartTime:e,droppable:m,subject:p,center:c,shouldUseTimeDampening:n,getAutoScrollerOptions:l});y&&a(m.descriptor.id,y)},aM=({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n=()=>gc})=>{const i=fc(t),a=fc(e);let l=null;const c=m=>{l||de();const{shouldUseTimeDampening:y,dragStartTime:_}=l;lT({state:m,scrollWindow:i,scrollDroppable:a,dragStartTime:_,shouldUseTimeDampening:y,getAutoScrollerOptions:n})};return{start:m=>{l&&de();const y=Date.now();let _=!1;const E=()=>{_=!0};lT({state:m,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:E,scrollDroppable:E,getAutoScrollerOptions:n}),l={dragStartTime:y,shouldUseTimeDampening:_},_&&c(m)},stop:()=>{l&&(i.cancel(),a.cancel(),l=null)},scroll:c}},oM=({move:t,scrollDroppable:e,scrollWindow:n})=>{const i=(f,p)=>{const m=gn(f.current.client.selection,p);t({client:m})},a=(f,p)=>{if(!sv(f,p))return p;const m=rM(f,p);if(!m)return e(f.descriptor.id,p),null;const y=Hn(p,m);return e(f.descriptor.id,y),Hn(p,y)},l=(f,p,m)=>{if(!f||!iv(p,m))return m;const y=nM(p,m);if(!y)return n(m),null;const _=Hn(m,y);return n(_),Hn(m,_)};return f=>{const p=f.scrollJumpRequest;if(!p)return;const m=qn(f.impact);m||de();const y=a(f.dimensions.droppables[m],p);if(!y)return;const _=f.viewport,E=l(f.isWindowScrollAllowed,_,y);E&&i(f,E)}},lM=({scrollDroppable:t,scrollWindow:e,move:n,getAutoScrollerOptions:i})=>{const a=aM({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:i}),l=oM({move:n,scrollWindow:e,scrollDroppable:t});return{scroll:p=>{if(!(i().disabled||p.phase!=="DRAGGING")){if(p.movementMode==="FLUID"){a.scroll(p);return}p.scrollJumpRequest&&l(p)}},start:a.start,stop:a.stop}};const hl="data-rfd",pl=(()=>{const t=`${hl}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),ey=(()=>{const t=`${hl}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),uM=(()=>{const t=`${hl}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),uT={contextId:`${hl}-scroll-container-context-id`},cM=t=>e=>`[${e}="${t}"]`,zu=(t,e)=>t.map(n=>{const i=n.styles[e];return i?`${n.selector} { ${i} }`:""}).join(" "),fM="pointer-events: none;";var dM=t=>{const e=cM(t),n=(()=>{const f=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(pl.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:f,dragging:fM,dropAnimating:f}}})(),i=(()=>{const f=`
      transition: ${Ju.outOfTheWay};
    `;return{selector:e(ey.contextId),styles:{dragging:f,dropAnimating:f,userCancel:f}}})(),a={selector:e(uM.contextId),styles:{always:"overflow-anchor: none;"}},c=[i,n,a,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:zu(c,"always"),resting:zu(c,"resting"),dragging:zu(c,"dragging"),dropAnimating:zu(c,"dropAnimating"),userCancel:zu(c,"userCancel")}};const Gn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?k.useLayoutEffect:k.useEffect,bg=()=>{const t=document.querySelector("head");return t||de(),t},cT=t=>{const e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.type="text/css",e};function hM(t,e){const n=it(()=>dM(t),[t]),i=k.useRef(null),a=k.useRef(null),l=we(ln(_=>{const E=a.current;E||de(),E.textContent=_}),[]),c=we(_=>{const E=i.current;E||de(),E.textContent=_},[]);Gn(()=>{!i.current&&!a.current||de();const _=cT(e),E=cT(e);return i.current=_,a.current=E,_.setAttribute(`${hl}-always`,t),E.setAttribute(`${hl}-dynamic`,t),bg().appendChild(_),bg().appendChild(E),c(n.always),l(n.resting),()=>{const S=w=>{const M=w.current;M||de(),bg().removeChild(M),w.current=null};S(i),S(a)}},[e,c,l,n.always,n.resting,t]);const f=we(()=>l(n.dragging),[l,n.dragging]),p=we(_=>{if(_==="DROP"){l(n.dropAnimating);return}l(n.userCancel)},[l,n.dropAnimating,n.userCancel]),m=we(()=>{a.current&&l(n.resting)},[l,n.resting]);return it(()=>({dragging:f,dropping:p,resting:m}),[f,p,m])}function xw(t,e){return Array.from(t.querySelectorAll(e))}var Nw=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function Lh(t){return t instanceof Nw(t).HTMLElement}function pM(t,e){const n=`[${pl.contextId}="${t}"]`,i=xw(document,n);if(!i.length)return null;const a=i.find(l=>l.getAttribute(pl.draggableId)===e);return!a||!Lh(a)?null:a}function mM(t){const e=k.useRef({}),n=k.useRef(null),i=k.useRef(null),a=k.useRef(!1),l=we(function(E,S){const w={id:E,focus:S};return e.current[E]=w,function(){const D=e.current;D[E]!==w&&delete D[E]}},[]),c=we(function(E){const S=pM(t,E);S&&S!==document.activeElement&&S.focus()},[t]),f=we(function(E,S){n.current===E&&(n.current=S)},[]),p=we(function(){i.current||a.current&&(i.current=requestAnimationFrame(()=>{i.current=null;const E=n.current;E&&c(E)}))},[c]),m=we(function(E){n.current=null;const S=document.activeElement;S&&S.getAttribute(pl.draggableId)===E&&(n.current=E)},[]);return Gn(()=>(a.current=!0,function(){a.current=!1;const E=i.current;E&&cancelAnimationFrame(E)}),[]),it(()=>({register:l,tryRecordFocus:m,tryRestoreFocusRecorded:p,tryShiftRecord:f}),[l,m,p,f])}function gM(){const t={draggables:{},droppables:{}},e=[];function n(_){return e.push(_),function(){const S=e.indexOf(_);S!==-1&&e.splice(S,1)}}function i(_){e.length&&e.forEach(E=>E(_))}function a(_){return t.draggables[_]||null}function l(_){const E=a(_);return E||de(),E}const c={register:_=>{t.draggables[_.descriptor.id]=_,i({type:"ADDITION",value:_})},update:(_,E)=>{const S=t.draggables[E.descriptor.id];S&&S.uniqueId===_.uniqueId&&(delete t.draggables[E.descriptor.id],t.draggables[_.descriptor.id]=_)},unregister:_=>{const E=_.descriptor.id,S=a(E);S&&_.uniqueId===S.uniqueId&&(delete t.draggables[E],t.droppables[_.descriptor.droppableId]&&i({type:"REMOVAL",value:_}))},getById:l,findById:a,exists:_=>!!a(_),getAllByType:_=>Object.values(t.draggables).filter(E=>E.descriptor.type===_)};function f(_){return t.droppables[_]||null}function p(_){const E=f(_);return E||de(),E}const m={register:_=>{t.droppables[_.descriptor.id]=_},unregister:_=>{const E=f(_.descriptor.id);E&&_.uniqueId===E.uniqueId&&delete t.droppables[_.descriptor.id]},getById:p,findById:f,exists:_=>!!f(_),getAllByType:_=>Object.values(t.droppables).filter(E=>E.descriptor.type===_)};function y(){t.draggables={},t.droppables={},e.length=0}return{draggable:c,droppable:m,subscribe:n,clean:y}}function yM(){const t=it(gM,[]);return k.useEffect(()=>function(){t.clean()},[t]),t}var av=Fe.createContext(null),Jd=()=>{const t=document.body;return t||de(),t};const vM={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},_M=t=>`rfd-announcement-${t}`;function EM(t){const e=it(()=>_M(t),[t]),n=k.useRef(null);return k.useEffect(function(){const l=document.createElement("div");return n.current=l,l.id=e,l.setAttribute("aria-live","assertive"),l.setAttribute("aria-atomic","true"),Yd(l.style,vM),Jd().appendChild(l),function(){setTimeout(function(){const p=Jd();p.contains(l)&&p.removeChild(l),l===n.current&&(n.current=null)})}},[e]),we(a=>{const l=n.current;if(l){l.textContent=a;return}},[])}const bM={separator:"::"};function ov(t,e=bM){const n=Fe.useId();return it(()=>`${t}${e.separator}${n}`,[e.separator,t,n])}function TM({contextId:t,uniqueId:e}){return`rfd-hidden-text-${t}-${e}`}function SM({contextId:t,text:e}){const n=ov("hidden-text",{separator:"-"}),i=it(()=>TM({contextId:t,uniqueId:n}),[n,t]);return k.useEffect(function(){const l=document.createElement("div");return l.id=i,l.textContent=e,l.style.display="none",Jd().appendChild(l),function(){const f=Jd();f.contains(l)&&f.removeChild(l)}},[i,e]),i}var Uh=Fe.createContext(null);function Pw(t){const e=k.useRef(t);return k.useEffect(()=>{e.current=t}),e}function AM(){let t=null;function e(){return!!t}function n(c){return c===t}function i(c){t&&de();const f={abandon:c};return t=f,f}function a(){t||de(),t=null}function l(){t&&(t.abandon(),a())}return{isClaimed:e,isActive:n,claim:i,release:a,tryAbandon:l}}function yc(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const wM=9,RM=13,lv=27,Mw=32,CM=33,IM=34,DM=35,OM=36,xM=37,NM=38,PM=39,MM=40,kM={[RM]:!0,[wM]:!0};var kw=t=>{kM[t.keyCode]&&t.preventDefault()};const Bh=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(i=>`on${i}`in document)||t})(),Vw=0,fT=5;function VM(t,e){return Math.abs(e.x-t.x)>=fT||Math.abs(e.y-t.y)>=fT}const dT={type:"IDLE"};function LM({cancel:t,completed:e,getPhase:n,setPhase:i}){return[{eventName:"mousemove",fn:a=>{const{button:l,clientX:c,clientY:f}=a;if(l!==Vw)return;const p={x:c,y:f},m=n();if(m.type==="DRAGGING"){a.preventDefault(),m.actions.move(p);return}m.type!=="PENDING"&&de();const y=m.point;if(!VM(y,p))return;a.preventDefault();const _=m.actions.fluidLift(p);i({type:"DRAGGING",actions:_})}},{eventName:"mouseup",fn:a=>{const l=n();if(l.type!=="DRAGGING"){t();return}a.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"mousedown",fn:a=>{n().type==="DRAGGING"&&a.preventDefault(),t()}},{eventName:"keydown",fn:a=>{if(n().type==="PENDING"){t();return}if(a.keyCode===lv){a.preventDefault(),t();return}kw(a)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:a=>{const l=n();if(l.type==="IDLE"&&de(),l.actions.shouldRespectForcePress()){t();return}a.preventDefault()}},{eventName:Bh,fn:t}]}function UM(t){const e=k.useRef(dT),n=k.useRef(Fs),i=it(()=>({eventName:"mousedown",fn:function(_){if(_.defaultPrevented||_.button!==Vw||_.ctrlKey||_.metaKey||_.shiftKey||_.altKey)return;const E=t.findClosestDraggableId(_);if(!E)return;const S=t.tryGetLock(E,c,{sourceEvent:_});if(!S)return;_.preventDefault();const w={x:_.clientX,y:_.clientY};n.current(),m(S,w)}}),[t]),a=it(()=>({eventName:"webkitmouseforcewillbegin",fn:y=>{if(y.defaultPrevented)return;const _=t.findClosestDraggableId(y);if(!_)return;const E=t.findOptionsForDraggable(_);E&&(E.shouldRespectForcePress||t.canGetLock(_)&&y.preventDefault())}}),[t]),l=we(function(){const _={passive:!1,capture:!0};n.current=pr(window,[a,i],_)},[a,i]),c=we(()=>{e.current.type!=="IDLE"&&(e.current=dT,n.current(),l())},[l]),f=we(()=>{const y=e.current;c(),y.type==="DRAGGING"&&y.actions.cancel({shouldBlockNextClick:!0}),y.type==="PENDING"&&y.actions.abort()},[c]),p=we(function(){const _={capture:!0,passive:!1},E=LM({cancel:f,completed:c,getPhase:()=>e.current,setPhase:S=>{e.current=S}});n.current=pr(window,E,_)},[f,c]),m=we(function(_,E){e.current.type!=="IDLE"&&de(),e.current={type:"PENDING",point:E,actions:_},p()},[p]);Gn(function(){return l(),function(){n.current()}},[l])}function BM(){}const zM={[IM]:!0,[CM]:!0,[OM]:!0,[DM]:!0};function FM(t,e){function n(){e(),t.cancel()}function i(){e(),t.drop()}return[{eventName:"keydown",fn:a=>{if(a.keyCode===lv){a.preventDefault(),n();return}if(a.keyCode===Mw){a.preventDefault(),i();return}if(a.keyCode===MM){a.preventDefault(),t.moveDown();return}if(a.keyCode===NM){a.preventDefault(),t.moveUp();return}if(a.keyCode===PM){a.preventDefault(),t.moveRight();return}if(a.keyCode===xM){a.preventDefault(),t.moveLeft();return}if(zM[a.keyCode]){a.preventDefault();return}kw(a)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Bh,fn:n}]}function jM(t){const e=k.useRef(BM),n=it(()=>({eventName:"keydown",fn:function(l){if(l.defaultPrevented||l.keyCode!==Mw)return;const c=t.findClosestDraggableId(l);if(!c)return;const f=t.tryGetLock(c,y,{sourceEvent:l});if(!f)return;l.preventDefault();let p=!0;const m=f.snapLift();e.current();function y(){p||de(),p=!1,e.current(),i()}e.current=pr(window,FM(m,y),{capture:!0,passive:!1})}}),[t]),i=we(function(){const l={passive:!1,capture:!0};e.current=pr(window,[n],l)},[n]);Gn(function(){return i(),function(){e.current()}},[i])}const Tg={type:"IDLE"},HM=120,qM=.15;function GM({cancel:t,getPhase:e}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(e().type!=="DRAGGING"){t();return}n.keyCode===lv&&n.preventDefault(),t()}},{eventName:Bh,fn:t}]}function $M({cancel:t,completed:e,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:i=>{const a=n();if(a.type!=="DRAGGING"){t();return}a.hasMoved=!0;const{clientX:l,clientY:c}=i.touches[0],f={x:l,y:c};i.preventDefault(),a.actions.move(f)}},{eventName:"touchend",fn:i=>{const a=n();if(a.type!=="DRAGGING"){t();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"touchcancel",fn:i=>{if(n().type!=="DRAGGING"){t();return}i.preventDefault(),t()}},{eventName:"touchforcechange",fn:i=>{const a=n();a.type==="IDLE"&&de();const l=i.touches[0];if(!l||!(l.force>=qM))return;const f=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){f&&t();return}if(f){if(a.hasMoved){i.preventDefault();return}t();return}i.preventDefault()}},{eventName:Bh,fn:t}]}function KM(t){const e=k.useRef(Tg),n=k.useRef(Fs),i=we(function(){return e.current},[]),a=we(function(S){e.current=S},[]),l=it(()=>({eventName:"touchstart",fn:function(S){if(S.defaultPrevented)return;const w=t.findClosestDraggableId(S);if(!w)return;const M=t.tryGetLock(w,f,{sourceEvent:S});if(!M)return;const D=S.touches[0],{clientX:z,clientY:F}=D,q={x:z,y:F};n.current(),_(M,q)}}),[t]),c=we(function(){const S={capture:!0,passive:!1};n.current=pr(window,[l],S)},[l]),f=we(()=>{const E=e.current;E.type!=="IDLE"&&(E.type==="PENDING"&&clearTimeout(E.longPressTimerId),a(Tg),n.current(),c())},[c,a]),p=we(()=>{const E=e.current;f(),E.type==="DRAGGING"&&E.actions.cancel({shouldBlockNextClick:!0}),E.type==="PENDING"&&E.actions.abort()},[f]),m=we(function(){const S={capture:!0,passive:!1},w={cancel:p,completed:f,getPhase:i},M=pr(window,$M(w),S),D=pr(window,GM(w),S);n.current=function(){M(),D()}},[p,i,f]),y=we(function(){const S=i();S.type!=="PENDING"&&de();const w=S.actions.fluidLift(S.point);a({type:"DRAGGING",actions:w,hasMoved:!1})},[i,a]),_=we(function(S,w){i().type!=="IDLE"&&de();const M=setTimeout(y,HM);a({type:"PENDING",point:w,actions:S,longPressTimerId:M}),m()},[m,i,a,y]);Gn(function(){return c(),function(){n.current();const w=i();w.type==="PENDING"&&(clearTimeout(w.longPressTimerId),a(Tg))}},[i,c,a]),Gn(function(){return pr(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const WM=["input","button","textarea","select","option","optgroup","video","audio"];function Lw(t,e){if(e==null)return!1;if(WM.includes(e.tagName.toLowerCase()))return!0;const i=e.getAttribute("contenteditable");return i==="true"||i===""?!0:e===t?!1:Lw(t,e.parentElement)}function YM(t,e){const n=e.target;return Lh(n)?Lw(t,n):!1}var QM=t=>Dr(t.getBoundingClientRect()).center;function XM(t){return t instanceof Nw(t).Element}const ZM=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(i=>i in Element.prototype)||t})();function Uw(t,e){return t==null?null:t[ZM](e)?t:Uw(t.parentElement,e)}function JM(t,e){return t.closest?t.closest(e):Uw(t,e)}function ek(t){return`[${pl.contextId}="${t}"]`}function tk(t,e){const n=e.target;if(!XM(n))return null;const i=ek(t),a=JM(n,i);return!a||!Lh(a)?null:a}function nk(t,e){const n=tk(t,e);return n?n.getAttribute(pl.draggableId):null}function rk(t,e){const n=`[${ey.contextId}="${t}"]`,a=xw(document,n).find(l=>l.getAttribute(ey.id)===e);return!a||!Lh(a)?null:a}function ik(t){t.preventDefault()}function gd({expected:t,phase:e,isLockActive:n,shouldWarn:i}){return!(!n()||t!==e)}function Bw({lockAPI:t,store:e,registry:n,draggableId:i}){if(t.isClaimed())return!1;const a=n.draggable.findById(i);return!(!a||!a.options.isEnabled||!Cw(e.getState(),i))}function sk({lockAPI:t,contextId:e,store:n,registry:i,draggableId:a,forceSensorStop:l,sourceEvent:c}){if(!Bw({lockAPI:t,store:n,registry:i,draggableId:a}))return null;const p=i.draggable.getById(a),m=rk(e,p.descriptor.id);if(!m||c&&!p.options.canDragInteractiveElements&&YM(m,c))return null;const y=t.claim(l||Fs);let _="PRE_DRAG";function E(){return p.options.shouldRespectForcePress}function S(){return t.isActive(y)}function w(X,se){gd({expected:X,phase:_,isLockActive:S,shouldWarn:!0})&&n.dispatch(se())}const M=w.bind(null,"DRAGGING");function D(X){function se(){t.release(),_="COMPLETED"}_!=="PRE_DRAG"&&(se(),de()),n.dispatch(J2(X.liftActionArgs)),_="DRAGGING";function P(I,C={shouldBlockNextClick:!1}){if(X.cleanup(),C.shouldBlockNextClick){const O=pr(window,[{eventName:"click",fn:ik,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(O)}se(),n.dispatch(_w({reason:I}))}return{isActive:()=>gd({expected:"DRAGGING",phase:_,isLockActive:S,shouldWarn:!1}),shouldRespectForcePress:E,drop:I=>P("DROP",I),cancel:I=>P("CANCEL",I),...X.actions}}function z(X){const se=fc(I=>{M(()=>vw({client:I}))});return{...D({liftActionArgs:{id:a,clientSelection:X,movementMode:"FLUID"},cleanup:()=>se.cancel(),actions:{move:se}}),move:se}}function F(){const X={moveUp:()=>M(lP),moveRight:()=>M(cP),moveDown:()=>M(uP),moveLeft:()=>M(fP)};return D({liftActionArgs:{id:a,clientSelection:QM(m),movementMode:"SNAP"},cleanup:Fs,actions:X})}function q(){gd({expected:"PRE_DRAG",phase:_,isLockActive:S,shouldWarn:!0})&&t.release()}return{isActive:()=>gd({expected:"PRE_DRAG",phase:_,isLockActive:S,shouldWarn:!1}),shouldRespectForcePress:E,fluidLift:z,snapLift:F,abort:q}}const ak=[UM,jM,KM];function ok({contextId:t,store:e,registry:n,customSensors:i,enableDefaultSensors:a}){const l=[...a?ak:[],...i||[]],c=k.useState(()=>AM())[0],f=we(function(D,z){yc(D)&&!yc(z)&&c.tryAbandon()},[c]);Gn(function(){let D=e.getState();return e.subscribe(()=>{const F=e.getState();f(D,F),D=F})},[c,e,f]),Gn(()=>c.tryAbandon,[c.tryAbandon]);const p=we(M=>Bw({lockAPI:c,registry:n,store:e,draggableId:M}),[c,n,e]),m=we((M,D,z)=>sk({lockAPI:c,registry:n,contextId:t,store:e,draggableId:M,forceSensorStop:D||null,sourceEvent:z&&z.sourceEvent?z.sourceEvent:null}),[t,c,n,e]),y=we(M=>nk(t,M),[t]),_=we(M=>{const D=n.draggable.findById(M);return D?D.options:null},[n.draggable]),E=we(function(){c.isClaimed()&&(c.tryAbandon(),e.getState().phase!=="IDLE"&&e.dispatch(Jy()))},[c,e]),S=we(()=>c.isClaimed(),[c]),w=it(()=>({canGetLock:p,tryGetLock:m,findClosestDraggableId:y,findOptionsForDraggable:_,tryReleaseLock:E,isLockClaimed:S}),[p,m,y,_,E,S]);for(let M=0;M<l.length;M++)l[M](w)}const lk=t=>({onBeforeCapture:e=>{const n=()=>{t.onBeforeCapture&&t.onBeforeCapture(e)};My.flushSync(n)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),uk=t=>({...gc,...t.autoScrollerOptions,durationDampening:{...gc.durationDampening,...t.autoScrollerOptions}});function Fu(t){return t.current||de(),t.current}function ck(t){const{contextId:e,setCallbacks:n,sensors:i,nonce:a,dragHandleUsageInstructions:l}=t,c=k.useRef(null),f=Pw(t),p=we(()=>lk(f.current),[f]),m=we(()=>uk(f.current),[f]),y=EM(e),_=SM({contextId:e,text:l}),E=hM(e,a),S=we(O=>{Fu(c).dispatch(O)},[]),w=it(()=>P0({publishWhileDragging:tP,updateDroppableScroll:rP,updateDroppableIsEnabled:iP,updateDroppableIsCombineEnabled:sP,collectionStarting:nP},S),[S]),M=yM(),D=it(()=>GP(M,w),[M,w]),z=it(()=>lM({scrollWindow:$P,scrollDroppable:D.scrollDroppable,getAutoScrollerOptions:m,...P0({move:vw},S)}),[D.scrollDroppable,S,m]),F=mM(e),q=it(()=>FP({announce:y,autoScroller:z,dimensionMarshal:D,focusMarshal:F,getResponders:p,styleMarshal:E}),[y,z,D,F,p,E]);c.current=q;const Z=we(()=>{const O=Fu(c);O.getState().phase!=="IDLE"&&O.dispatch(Jy())},[]),X=we(()=>{const O=Fu(c).getState();return O.phase==="DROP_ANIMATING"?!0:O.phase==="IDLE"?!1:O.isDragging},[]),se=it(()=>({isDragging:X,tryAbort:Z}),[X,Z]);n(se);const P=we(O=>Cw(Fu(c).getState(),O),[]),I=we(()=>ja(Fu(c).getState()),[]),C=it(()=>({marshal:D,focus:F,contextId:e,canLift:P,isMovementAllowed:I,dragHandleUsageInstructionsId:_,registry:M}),[e,D,_,F,P,I,M]);return ok({contextId:e,store:q,registry:M,customSensors:i||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),k.useEffect(()=>Z,[Z]),Fe.createElement(Uh.Provider,{value:C},Fe.createElement(RA,{context:av,store:q},t.children))}function fk(){return Fe.useId()}function dk(t){const e=fk(),n=t.dragHandleUsageInstructions||Dd.dragHandleUsageInstructions;return Fe.createElement(jN,null,i=>Fe.createElement(ck,{nonce:t.nonce,contextId:e,setCallbacks:i,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const hT={dragging:5e3,dropAnimating:4500},hk=(t,e)=>e?Ju.drop(e.duration):t?Ju.snap:Ju.fluid,pk=(t,e)=>{if(t)return e?mc.opacity.drop:mc.opacity.combining},mk=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function gk(t){const n=t.dimension.client,{offset:i,combineWith:a,dropping:l}=t,c=!!a,f=mk(t),p=!!l,m=p?Zg.drop(i,c):Zg.moveTo(i);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:hk(f,l),transform:m,opacity:pk(c,p),zIndex:p?hT.dropAnimating:hT.dragging,pointerEvents:"none"}}function yk(t){return{transform:Zg.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function vk(t){return t.type==="DRAGGING"?gk(t):yk(t)}function _k(t,e,n=un){const i=window.getComputedStyle(e),a=e.getBoundingClientRect(),l=$A(a,i),c=Wd(l,n),f={client:l,tagName:e.tagName.toLowerCase(),display:i.display},p={x:l.marginBox.width,y:l.marginBox.height};return{descriptor:t,placeholder:f,displaceBy:p,client:l,page:c}}function Ek(t){const e=ov("draggable"),{descriptor:n,registry:i,getDraggableRef:a,canDragInteractiveElements:l,shouldRespectForcePress:c,isEnabled:f}=t,p=it(()=>({canDragInteractiveElements:l,shouldRespectForcePress:c,isEnabled:f}),[l,f,c]),m=we(S=>{const w=a();return w||de(),_k(n,w,S)},[n,a]),y=it(()=>({uniqueId:e,descriptor:n,options:p,getDimension:m}),[n,m,p,e]),_=k.useRef(y),E=k.useRef(!0);Gn(()=>(i.draggable.register(_.current),()=>i.draggable.unregister(_.current)),[i.draggable]),Gn(()=>{if(E.current){E.current=!1;return}const S=_.current;_.current=y,i.draggable.update(y,S)},[y,i.draggable])}var uv=Fe.createContext(null);function eh(t){const e=k.useContext(t);return e||de(),e}function bk(t){t.preventDefault()}const Tk=t=>{const e=k.useRef(null),n=we((se=null)=>{e.current=se},[]),i=we(()=>e.current,[]),{contextId:a,dragHandleUsageInstructionsId:l,registry:c}=eh(Uh),{type:f,droppableId:p}=eh(uv),m=it(()=>({id:t.draggableId,index:t.index,type:f,droppableId:p}),[t.draggableId,t.index,f,p]),{children:y,draggableId:_,isEnabled:E,shouldRespectForcePress:S,canDragInteractiveElements:w,isClone:M,mapped:D,dropAnimationFinished:z}=t;if(!M){const se=it(()=>({descriptor:m,registry:c,getDraggableRef:i,canDragInteractiveElements:w,shouldRespectForcePress:S,isEnabled:E}),[m,c,i,w,S,E]);Ek(se)}const F=it(()=>E?{tabIndex:0,role:"button","aria-describedby":l,"data-rfd-drag-handle-draggable-id":_,"data-rfd-drag-handle-context-id":a,draggable:!1,onDragStart:bk}:null,[a,l,_,E]),q=we(se=>{D.type==="DRAGGING"&&D.dropping&&se.propertyName==="transform"&&My.flushSync(z)},[z,D]),Z=it(()=>{const se=vk(D),P=D.type==="DRAGGING"&&D.dropping?q:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":a,"data-rfd-draggable-id":_,style:se,onTransitionEnd:P},dragHandleProps:F}},[a,F,_,D,q,n]),X=it(()=>({draggableId:m.id,type:m.type,source:{index:m.index,droppableId:m.droppableId}}),[m.droppableId,m.id,m.index,m.type]);return Fe.createElement(Fe.Fragment,null,y(Z,D.snapshot,X))};var zw=(t,e)=>t===e,Fw=t=>{const{combine:e,destination:n}=t;return n?n.droppableId:e?e.droppableId:null};const Sk=t=>t.combine?t.combine.draggableId:null,Ak=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function wk(){const t=ln((a,l)=>({x:a,y:l})),e=ln((a,l,c=null,f=null,p=null)=>({isDragging:!0,isClone:l,isDropAnimating:!!p,dropAnimation:p,mode:a,draggingOver:c,combineWith:f,combineTargetFor:null})),n=ln((a,l,c,f,p=null,m=null,y=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:p,combineWith:m,mode:l,offset:a,dimension:c,forceShouldAnimate:y,snapshot:e(l,f,p,m,null)}}));return(a,l)=>{if(yc(a)){if(a.critical.draggable.id!==l.draggableId)return null;const c=a.current.client.offset,f=a.dimensions.draggables[l.draggableId],p=qn(a.impact),m=Ak(a.impact),y=a.forceShouldAnimate;return n(t(c.x,c.y),a.movementMode,f,l.isClone,p,m,y)}if(a.phase==="DROP_ANIMATING"){const c=a.completed;if(c.result.draggableId!==l.draggableId)return null;const f=l.isClone,p=a.dimensions.draggables[l.draggableId],m=c.result,y=m.mode,_=Fw(m),E=Sk(m),w={duration:a.dropDuration,curve:tv.drop,moveTo:a.newHomeClientOffset,opacity:E?mc.opacity.drop:null,scale:E?mc.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:p,dropping:w,draggingOver:_,combineWith:E,mode:y,forceShouldAnimate:null,snapshot:e(y,f,_,E,w)}}}return null}}function jw(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const Rk={mapped:{type:"SECONDARY",offset:un,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:jw(null)}};function Ck(){const t=ln((c,f)=>({x:c,y:f})),e=ln(jw),n=ln((c,f=null,p)=>({mapped:{type:"SECONDARY",offset:c,combineTargetFor:f,shouldAnimateDisplacement:p,snapshot:e(f)}})),i=c=>c?n(un,c,!0):null,a=(c,f,p,m)=>{const y=p.displaced.visible[c],_=!!(m.inVirtualList&&m.effected[c]),E=Mh(p),S=E&&E.draggableId===c?f:null;if(!y){if(!_)return i(S);if(p.displaced.invisible[c])return null;const D=wl(m.displacedBy.point),z=t(D.x,D.y);return n(z,S,!0)}if(_)return i(S);const w=p.displacedBy.point,M=t(w.x,w.y);return n(M,S,y.shouldAnimate)};return(c,f)=>{if(yc(c))return c.critical.draggable.id===f.draggableId?null:a(f.draggableId,c.critical.draggable.id,c.impact,c.afterCritical);if(c.phase==="DROP_ANIMATING"){const p=c.completed;return p.result.draggableId===f.draggableId?null:a(f.draggableId,p.result.draggableId,p.impact,p.afterCritical)}return null}}const Ik=()=>{const t=wk(),e=Ck();return(i,a)=>t(i,a)||e(i,a)||Rk},Dk={dropAnimationFinished:Ew},Ok=wA(Ik,Dk,null,{context:av,areStatePropsEqual:zw})(Tk);function Hw(t){return eh(uv).isUsingCloneFor===t.draggableId&&!t.isClone?null:Fe.createElement(Ok,t)}function qw(t){const e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,i=!!t.shouldRespectForcePress;return Fe.createElement(Hw,Yd({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:i}))}const Gw=t=>e=>t===e,xk=Gw("scroll"),Nk=Gw("auto"),pT=(t,e)=>e(t.overflowX)||e(t.overflowY),Pk=t=>{const e=window.getComputedStyle(t),n={overflowX:e.overflowX,overflowY:e.overflowY};return pT(n,xk)||pT(n,Nk)},Mk=()=>!1,$w=t=>t==null?null:t===document.body?Mk()?t:null:t===document.documentElement?null:Pk(t)?t:$w(t.parentElement);var ty=t=>({x:t.scrollLeft,y:t.scrollTop});const Kw=t=>t?window.getComputedStyle(t).position==="fixed"?!0:Kw(t.parentElement):!1;var kk=t=>{const e=$w(t),n=Kw(t);return{closestScrollable:e,isFixedOnPage:n}},Vk=({descriptor:t,isEnabled:e,isCombineEnabled:n,isFixedOnPage:i,direction:a,client:l,page:c,closest:f})=>{const p=(()=>{if(!f)return null;const{scrollSize:E,client:S}=f,w=Aw({scrollHeight:E.scrollHeight,scrollWidth:E.scrollWidth,height:S.paddingBox.height,width:S.paddingBox.width});return{pageMarginBox:f.page.marginBox,frameClient:S,scrollSize:E,shouldClipSubject:f.shouldClipSubject,scroll:{initial:f.scroll,current:f.scroll,max:w,diff:{value:un,displacement:un}}}})(),m=a==="vertical"?Wy:rw,y=dl({page:c,withPlaceholder:null,axis:m,frame:p});return{descriptor:t,isCombineEnabled:n,isFixedOnPage:i,axis:m,isEnabled:e,client:l,page:c,frame:p,subject:y}};const Lk=(t,e)=>{const n=KA(t);if(!e||t!==e)return n;const i=n.paddingBox.top-e.scrollTop,a=n.paddingBox.left-e.scrollLeft,l=i+e.scrollHeight,c=a+e.scrollWidth,p=qy({top:i,right:c,bottom:l,left:a},n.border);return Gy({borderBox:p,margin:n.margin,border:n.border,padding:n.padding})};var Uk=({ref:t,descriptor:e,env:n,windowScroll:i,direction:a,isDropDisabled:l,isCombineEnabled:c,shouldClipSubject:f})=>{const p=n.closestScrollable,m=Lk(t,p),y=Wd(m,i),_=(()=>{if(!p)return null;const S=KA(p),w={scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth};return{client:S,page:Wd(S,i),scroll:ty(p),scrollSize:w,shouldClipSubject:f}})();return Vk({descriptor:e,isEnabled:!l,isCombineEnabled:c,isFixedOnPage:n.isFixedOnPage,direction:a,client:m,page:y,closest:_})};const Bk={passive:!1},zk={passive:!0};var mT=t=>t.shouldPublishImmediately?Bk:zk;const yd=t=>t&&t.env.closestScrollable||null;function Fk(t){const e=k.useRef(null),n=eh(Uh),i=ov("droppable"),{registry:a,marshal:l}=n,c=Pw(t),f=it(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),p=k.useRef(f),m=it(()=>ln((Z,X)=>{e.current||de();const se={x:Z,y:X};l.updateDroppableScroll(f.id,se)}),[f.id,l]),y=we(()=>{const Z=e.current;return!Z||!Z.env.closestScrollable?un:ty(Z.env.closestScrollable)},[]),_=we(()=>{const Z=y();m(Z.x,Z.y)},[y,m]),E=it(()=>fc(_),[_]),S=we(()=>{const Z=e.current,X=yd(Z);if(Z&&X||de(),Z.scrollOptions.shouldPublishImmediately){_();return}E()},[E,_]),w=we((Z,X)=>{e.current&&de();const se=c.current,P=se.getDroppableRef();P||de();const I=kk(P),C={ref:P,descriptor:f,env:I,scrollOptions:X};e.current=C;const O=Uk({ref:P,descriptor:f,env:I,windowScroll:Z,direction:se.direction,isDropDisabled:se.isDropDisabled,isCombineEnabled:se.isCombineEnabled,shouldClipSubject:!se.ignoreContainerClipping}),V=I.closestScrollable;return V&&(V.setAttribute(uT.contextId,n.contextId),V.addEventListener("scroll",S,mT(C.scrollOptions))),O},[n.contextId,f,S,c]),M=we(()=>{const Z=e.current,X=yd(Z);return Z&&X||de(),ty(X)},[]),D=we(()=>{const Z=e.current;Z||de();const X=yd(Z);e.current=null,X&&(E.cancel(),X.removeAttribute(uT.contextId),X.removeEventListener("scroll",S,mT(Z.scrollOptions)))},[S,E]),z=we(Z=>{const X=e.current;X||de();const se=yd(X);se||de(),se.scrollTop+=Z.y,se.scrollLeft+=Z.x},[]),F=it(()=>({getDimensionAndWatchScroll:w,getScrollWhileDragging:M,dragStopped:D,scroll:z}),[D,w,M,z]),q=it(()=>({uniqueId:i,descriptor:f,callbacks:F}),[F,f,i]);Gn(()=>(p.current=q.descriptor,a.droppable.register(q),()=>{e.current&&D(),a.droppable.unregister(q)}),[F,f,D,q,l,a.droppable]),Gn(()=>{e.current&&l.updateDroppableIsEnabled(p.current.id,!t.isDropDisabled)},[t.isDropDisabled,l]),Gn(()=>{e.current&&l.updateDroppableIsCombineEnabled(p.current.id,t.isCombineEnabled)},[t.isCombineEnabled,l])}function Sg(){}const gT={width:0,height:0,margin:YN},jk=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>t||n==="close"?gT:{height:e.client.borderBox.height,width:e.client.borderBox.width,margin:e.client.margin},Hk=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>{const i=jk({isAnimatingOpenOnMount:t,placeholder:e,animate:n});return{display:e.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Ju.placeholder:null}},qk=t=>{const e=k.useRef(null),n=we(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{animate:i,onTransitionEnd:a,onClose:l,contextId:c}=t,[f,p]=k.useState(t.animate==="open");k.useEffect(()=>f?i!=="open"?(n(),p(!1),Sg):e.current?Sg:(e.current=setTimeout(()=>{e.current=null,p(!1)}),n):Sg,[i,f,n]);const m=we(_=>{_.propertyName==="height"&&(a(),i==="close"&&l())},[i,l,a]),y=Hk({isAnimatingOpenOnMount:f,animate:t.animate,placeholder:t.placeholder});return Fe.createElement(t.placeholder.tagName,{style:y,"data-rfd-placeholder-context-id":c,onTransitionEnd:m,ref:t.innerRef})};var Gk=Fe.memo(qk);class $k extends Fe.PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,n){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const Kk=t=>{const e=k.useContext(Uh);e||de();const{contextId:n,isMovementAllowed:i}=e,a=k.useRef(null),l=k.useRef(null),{children:c,droppableId:f,type:p,mode:m,direction:y,ignoreContainerClipping:_,isDropDisabled:E,isCombineEnabled:S,snapshot:w,useClone:M,updateViewportMaxScroll:D,getContainerForClone:z}=t,F=we(()=>a.current,[]),q=we((V=null)=>{a.current=V},[]);we(()=>l.current,[]);const Z=we((V=null)=>{l.current=V},[]),X=we(()=>{i()&&D({maxScroll:Rw()})},[i,D]);Fk({droppableId:f,type:p,mode:m,direction:y,isDropDisabled:E,isCombineEnabled:S,ignoreContainerClipping:_,getDroppableRef:F});const se=it(()=>Fe.createElement($k,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:V,data:L,animate:x})=>Fe.createElement(Gk,{placeholder:L,onClose:V,innerRef:Z,animate:x,contextId:n,onTransitionEnd:X})),[n,X,t.placeholder,t.shouldAnimatePlaceholder,Z]),P=it(()=>({innerRef:q,placeholder:se,droppableProps:{"data-rfd-droppable-id":f,"data-rfd-droppable-context-id":n}}),[n,f,se,q]),I=M?M.dragging.draggableId:null,C=it(()=>({droppableId:f,type:p,isUsingCloneFor:I}),[f,I,p]);function O(){if(!M)return null;const{dragging:V,render:L}=M,x=Fe.createElement(Hw,{draggableId:V.draggableId,index:V.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(Ue,Ne)=>L(Ue,Ne,V));return kO.createPortal(x,z())}return Fe.createElement(uv.Provider,{value:C},c(P,w),O())};function Wk(){return document.body||de(),document.body}const yT={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Wk},Ww=t=>{let e={...t},n;for(n in yT)t[n]===void 0&&(e={...e,[n]:yT[n]});return e},Ag=(t,e)=>t===e.droppable.type,vT=(t,e)=>e.draggables[t.draggable.id],Yk=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e={...t,shouldAnimatePlaceholder:!1},n=ln(l=>({draggableId:l.id,type:l.type,source:{index:l.index,droppableId:l.droppableId}})),i=ln((l,c,f,p,m,y)=>{const _=m.descriptor.id;if(m.descriptor.droppableId===l){const w=y?{render:y,dragging:n(m.descriptor)}:null,M={isDraggingOver:f,draggingOverWith:f?_:null,draggingFromThisWith:_,isUsingPlaceholder:!0};return{placeholder:m.placeholder,shouldAnimatePlaceholder:!1,snapshot:M,useClone:w}}if(!c)return e;if(!p)return t;const S={isDraggingOver:f,draggingOverWith:_,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:m.placeholder,shouldAnimatePlaceholder:!0,snapshot:S,useClone:null}});return(l,c)=>{const f=Ww(c),p=f.droppableId,m=f.type,y=!f.isDropDisabled,_=f.renderClone;if(yc(l)){const E=l.critical;if(!Ag(m,E))return e;const S=vT(E,l.dimensions),w=qn(l.impact)===p;return i(p,y,w,w,S,_)}if(l.phase==="DROP_ANIMATING"){const E=l.completed;if(!Ag(m,E.critical))return e;const S=vT(E.critical,l.dimensions);return i(p,y,Fw(E.result)===p,qn(E.impact)===p,S,_)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){const E=l.completed;if(!Ag(m,E.critical))return e;const S=qn(E.impact)===p,w=!!(E.impact.at&&E.impact.at.type==="COMBINE"),M=E.critical.droppable.id===p;return S?w?t:e:M?t:e}return e}},Qk={updateViewportMaxScroll:oP},Yw=wA(Yk,Qk,(t,e,n)=>({...Ww(n),...t,...e}),{context:av,areStatePropsEqual:zw})(Kk),Xk="_selectWrapper_uj760_1",Zk="_selected_uj760_9",Jk="_open_uj760_17",eV="_options_uj760_26",tV="_option_uj760_26",ju={selectWrapper:Xk,selected:Zk,open:Jk,options:eV,option:tV},qa={high:"#fa3b3b",medium:"#1866e3",low:"#4aeb57",none:""},nV=["","#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#f472b6","#6b7280"],_T=[{value:"none",label:"Без приоритета"},{value:"high",label:"Высокий"},{value:"medium",label:"Средний"},{value:"low",label:"Низкий"}];function rV({selected:t,onSelect:e}){var l;const[n,i]=k.useState(!1),a=k.useRef(null);return k.useEffect(()=>{function c(f){a.current&&!a.current.contains(f.target)&&i(!1)}return n?document.addEventListener("mousedown",c):document.removeEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[n]),Y.jsxs("div",{ref:a,className:`${ju.selectWrapper} ${n?ju.open:""}`,children:[Y.jsx("div",{className:ju.selected,style:{backgroundColor:qa[t]||"#fff"},onClick:()=>i(!n),children:((l=_T.find(c=>c.value===t))==null?void 0:l.label)||"Выберите приоритет"}),n&&Y.jsx("ul",{className:ju.options,children:_T.map(c=>Y.jsx("li",{className:ju.option,style:{backgroundColor:qa[c.value]},onMouseEnter:f=>f.currentTarget.style.opacity="0.7",onMouseLeave:f=>f.currentTarget.style.opacity="1",onClick:()=>{e(c.value),i(!1)},children:c.label},c.value))})]})}const iV="_taskForm_rzkn9_1",sV="_dark_rzkn9_8",aV="_input_rzkn9_12",oV="_formControls_rzkn9_20",lV="_cancelButton_rzkn9_26",uV="_submitButton_rzkn9_38",Zo={taskForm:iV,dark:sV,input:aV,formControls:oV,cancelButton:lV,submitButton:uV};function cV({isActive:t,columnId:e,onClose:n}){const i=kn(),{theme:a}=zt(y=>y.board),[l,c]=k.useState(""),[f,p]=k.useState("none"),m=()=>{if(l.trim()){const y={id:`task-${Date.now()}`,title:l,description:"",priority:f};i(vN({columnId:e,task:y})),c(""),n()}};return t?Y.jsxs("div",{className:`${Zo.taskForm} ${a==="dark"?Zo.dark:""}`,children:[Y.jsx("input",{type:"text",value:l,onChange:y=>c(y.target.value),placeholder:"Task title",className:Zo.input,onKeyPress:y=>y.key==="Enter"&&m()}),Y.jsx(rV,{onSelect:y=>p(y),selected:f}),Y.jsxs("div",{className:Zo.formControls,children:[Y.jsx("button",{onClick:m,className:Zo.submitButton,children:"Добавить"}),Y.jsx("button",{onClick:n,className:Zo.cancelButton,children:"Отмена"})]})]}):null}const fV="_form_eg3iq_1",dV="_input_eg3iq_7",hV="_textarea_eg3iq_7",pV="_formControls_eg3iq_23",mV="_cancelButton_eg3iq_29",gV="_submitButton_eg3iq_41",Jo={form:fV,input:dV,textarea:hV,formControls:pV,cancelButton:mV,submitButton:gV};function yV({task:t,onClose:e}){const n=kn(),[i,a]=k.useState(t.title),[l,c]=k.useState(t.description),f=()=>{i.trim()&&(n(_N({...t,title:i,description:l})),e())};return Y.jsxs("div",{className:Jo.form,children:[Y.jsx("input",{type:"text",value:i,onChange:p=>a(p.target.value),className:Jo.input,placeholder:"Task title"}),Y.jsx("textarea",{value:l,onChange:p=>c(p.target.value),className:Jo.textarea,placeholder:"Description",rows:3}),Y.jsxs("div",{className:Jo.formControls,children:[Y.jsx("button",{className:Jo.cancelButton,onClick:e,children:"Cancel"}),Y.jsx("button",{onClick:f,className:Jo.submitButton,children:"Save"})]})]})}const vV="_priorityMenuContainer_109td_1",_V="_priorityButton_109td_6",EV="_dropdown_109td_20",bV="_active_109td_43",La={priorityMenuContainer:vV,priorityButton:_V,dropdown:EV,active:bV};var Qw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ET=Fe.createContext&&Fe.createContext(Qw),TV=["attr","size","title"];function SV(t,e){if(t==null)return{};var n=AV(t,e),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)i=l[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function AV(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function th(){return th=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},th.apply(this,arguments)}function bT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function nh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bT(Object(n),!0).forEach(function(i){wV(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bT(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function wV(t,e,n){return e=RV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RV(t){var e=CV(t,"string");return typeof e=="symbol"?e:e+""}function CV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xw(t){return t&&t.map((e,n)=>Fe.createElement(e.tag,nh({key:n},e.attr),Xw(e.child)))}function na(t){return e=>Fe.createElement(IV,th({attr:nh({},t.attr)},e),Xw(t.child))}function IV(t){var e=n=>{var{attr:i,size:a,title:l}=t,c=SV(t,TV),f=a||n.size||"1em",p;return n.className&&(p=n.className),t.className&&(p=(p?p+" ":"")+t.className),Fe.createElement("svg",th({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,c,{className:p,style:nh(nh({color:t.color||n.color},n.style),t.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&Fe.createElement("title",null,l),t.children)};return ET!==void 0?Fe.createElement(ET.Consumer,null,n=>e(n)):e(Qw)}function DV(t){return na({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function OV(t){return na({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M349.565 98.783C295.978 98.783 251.721 64 184.348 64c-24.955 0-47.309 4.384-68.045 12.013a55.947 55.947 0 0 0 3.586-23.562C118.117 24.015 94.806 1.206 66.338.048 34.345-1.254 8 24.296 8 56c0 19.026 9.497 35.825 24 45.945V488c0 13.255 10.745 24 24 24h16c13.255 0 24-10.745 24-24v-94.4c28.311-12.064 63.582-22.122 114.435-22.122 53.588 0 97.844 34.783 165.217 34.783 48.169 0 86.667-16.294 122.505-40.858C506.84 359.452 512 349.571 512 339.045v-243.1c0-23.393-24.269-38.87-45.485-29.016-34.338 15.948-76.454 31.854-116.95 31.854z"},child:[]}]})(t)}function xV(t){return na({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(t)}function Zw(t){return na({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function NV(t){return na({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function PV(t){return na({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(t)}function MV(t){return na({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}const kV=({selectedPriority:t,taskId:e})=>{const[n,i]=k.useState(!1),a=kn(),l=k.useRef(null),c=k.useRef(null),f=p=>{a(EN({taskId:e,priority:p})),i(!1)};return k.useEffect(()=>{const p=m=>{c.current&&!c.current.contains(m.target)&&l.current&&!l.current.contains(m.target)&&i(!1)};return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[]),Y.jsxs("div",{className:La.priorityMenuContainer,children:[Y.jsx("button",{ref:l,onClick:()=>i(!n),className:`${La.priorityButton} tooltip`,"data-tooltip":"Поменять приоритет",children:Y.jsx(OV,{})}),n&&Y.jsxs("div",{ref:c,className:La.dropdown,children:[Y.jsx("button",{className:`${t==="high"?La.active:""}`,onClick:()=>f("high"),style:{backgroundColor:qa.high}}),Y.jsx("button",{className:`${t==="medium"?La.active:""}`,onClick:()=>f("medium"),style:{backgroundColor:qa.medium}}),Y.jsx("button",{className:`${t==="low"?La.active:""}`,onClick:()=>f("low"),style:{backgroundColor:qa.low}}),Y.jsx("button",{className:`${t==="none"||!t?La.active:""}`,onClick:()=>f("none"),style:{backgroundColor:qa.none}})]})]})};function Jw(t){return na({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(t)}const VV="_task_1yr17_1",LV="_isDragging_1yr17_8",UV="_dark_1yr17_11",BV="_header_1yr17_18",zV="_title_1yr17_24",FV="_buttons_1yr17_31",jV="_button_1yr17_31",HV="_description_1yr17_43",Xr={task:VV,isDragging:LV,dark:UV,header:BV,title:zV,buttons:FV,button:jV,description:HV},qV=({task:t,columnId:e,index:n})=>{const{theme:i}=zt(p=>p.board),a=kn(),[l,c]=k.useState(!1),f=()=>{a(jA({type:"task",targetId:{taskId:t.id,columnId:e}}))};return Y.jsx("div",{className:`${i==="dark"?Xr.dark:""}`,children:Y.jsx(qw,{draggableId:t.id,index:n,children:(p,m)=>Y.jsx("div",{ref:p.innerRef,...p.draggableProps,...p.dragHandleProps,className:`${Xr.task} ${m.isDragging?Xr.isDragging:""}`,style:{...p.draggableProps.style,backgroundColor:t.priority!=="none"?qa[t.priority]:void 0},children:l?Y.jsx(yV,{task:t,onClose:()=>c(!1)}):Y.jsxs("div",{children:[Y.jsxs("div",{className:Xr.header,children:[Y.jsx("h3",{className:Xr.title,children:t.title}),Y.jsxs("div",{className:Xr.buttons,children:[Y.jsx(kV,{taskId:t.id,selectedPriority:t.priority}),Y.jsx("button",{onClick:()=>c(!0),className:`${Xr.button} tooltip`,"data-tooltip":"Редактировать задачу",children:Y.jsx(DV,{})}),Y.jsx("button",{onClick:f,className:`${Xr.button} tooltip`,"data-tooltip":"Удалить задачу",children:Y.jsx(Jw,{})})]})]}),t.createdAt&&Y.jsxs("p",{className:Xr.description,children:["Создано:"," ",new Date(t.createdAt).toLocaleString("ru-RU",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),t.description&&Y.jsx("p",{className:Xr.description,children:t.description})]})})})})},GV="_column_1vcgv_1",$V="_dark_1vcgv_10",KV="_header_1vcgv_14",WV="_content_1vcgv_28",YV="_controls_1vcgv_34",QV="_colorButton_1vcgv_39",XV="_addButton_1vcgv_51",ZV="_deleteButton_1vcgv_64",JV="_dropArea_1vcgv_82",eL="_isDraggingOver_1vcgv_87",Zr={column:GV,dark:$V,header:KV,content:WV,controls:YV,colorButton:QV,addButton:XV,deleteButton:ZV,dropArea:JV,isDraggingOver:eL},tL="_colorPicker_1c1yv_1",nL="_colorButton_1c1yv_13",rL="_active_1c1yv_25",wg={colorPicker:tL,colorButton:nL,active:rL},iL=({selectedColor:t,onSelectColor:e})=>Y.jsx("div",{className:wg.colorPicker,children:nV.map(n=>Y.jsx("button",{className:`${wg.colorButton} ${t===n?wg.active:""}`,style:{backgroundColor:n},onClick:()=>e(n)},n))}),sL=({column:t,tasks:e,index:n})=>{const{theme:i}=zt(w=>w.board),a=kn(),[l,c]=k.useState(!1),[f,p]=k.useState(!1),m=k.useRef(null),y=()=>{c(w=>!w)},_=()=>{p(w=>!w)},E=()=>{a(jA({type:"column",targetId:{taskId:t.id,columnId:t.id}}))},S=w=>{a(RN({columnId:t.id,color:w})),c(!1)};return Y.jsx("div",{className:`${i==="dark"?Zr.dark:""}`,children:Y.jsx(qw,{draggableId:t.id,index:n,children:w=>Y.jsxs("div",{...w.draggableProps,ref:w.innerRef,className:Zr.column,style:{...w.draggableProps.style,backgroundColor:t.color||void 0},children:[Y.jsxs("div",{...w.dragHandleProps,className:Zr.header,children:[Y.jsxs("div",{className:Zr.content,children:[Y.jsx("span",{children:t.title}),Y.jsxs("div",{className:Zr.controls,children:[Y.jsx("button",{onClick:y,className:`${Zr.colorButton} tooltip`,"data-tooltip":"Выбрать цвет колонки",children:"🎨"}),Y.jsx("button",{onClick:_,className:`${Zr.addButton} tooltip`,"data-tooltip":"Новая задача",children:Y.jsx(Zw,{})}),Y.jsx("button",{onClick:E,"data-tooltip":"Удалить колонку",className:`${Zr.deleteButton} tooltip`,children:Y.jsx(Jw,{})})]})]}),l&&Y.jsx("div",{ref:m,children:Y.jsx(iL,{selectedColor:t.color||"#3b82f6",onSelectColor:S})})]}),Y.jsx(cV,{isActive:f,columnId:t.id,onClose:()=>p(!1)}),Y.jsx(Yw,{droppableId:t.id,type:"task",children:(M,D)=>Y.jsxs("div",{ref:M.innerRef,...M.droppableProps,className:`${Zr.dropArea} ${D.isDraggingOver?Zr.isDraggingOver:""}`,children:[e.map((z,F)=>Y.jsx(qV,{task:z,index:F,columnId:t.id},z.id)),M.placeholder]})})]})})})},aL=()=>{};var TT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},oL=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],f=t[n++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},tR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,f=c?t[a+1]:0,p=a+2<t.length,m=p?t[a+2]:0,y=l>>2,_=(l&3)<<4|f>>4;let E=(f&15)<<2|m>>6,S=m&63;p||(S=64,c||(E=64)),i.push(n[y],n[_],n[E],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||m==null||_==null)throw new lL;const E=l<<2|f>>4;if(i.push(E),m!==64){const S=f<<4&240|m>>2;if(i.push(S),_!==64){const w=m<<6&192|_;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class lL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uL=function(t){const e=eR(t);return tR.encodeByteArray(e,!0)},rh=function(t){return uL(t).replace(/\./g,"")},nR=function(t){try{return tR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=()=>cL().__FIREBASE_DEFAULTS__,dL=()=>{if(typeof process>"u"||typeof TT>"u")return;const t=TT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nR(t[1]);return e&&JSON.parse(e)},zh=()=>{try{return aL()||fL()||dL()||hL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rR=t=>{var e,n;return(n=(e=zh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},pL=t=>{const e=rR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},iR=()=>{var t;return(t=zh())===null||t===void 0?void 0:t.config},sR=t=>{var e;return(e=zh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[rh(JSON.stringify(n)),rh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function vL(){var t;const e=(t=zh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _L(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function EL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TL(){const t=Sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function SL(){return!vL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AL(){try{return typeof indexedDB=="object"}catch{return!1}}function wL(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL="FirebaseError";class Xi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=RL,Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mc.prototype.create)}}class Mc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?CL(l,i):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new Xi(a,f,i)}}function CL(t,e){return t.replace(IL,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const IL=/\{\$([^}]+)}/g;function DL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qa(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(ST(l)&&ST(c)){if(!Qa(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function ST(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ku(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Wu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function OL(t,e){const n=new xL(t,e);return n.subscribe.bind(n)}class xL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");NL(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=Rg),a.error===void 0&&(a.error=Rg),a.complete===void 0&&(a.complete=Rg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(t){return t&&t._delegate?t._delegate:t}class Xa{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new mL;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kL(e))try{this.getOrInitializeService({instanceIdentifier:Ha})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ha){return this.instances.has(e)}getOptions(e=Ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(a)}return a}onInit(e,n){var i;const a=this.normalizeInstanceIdentifier(n),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ML(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ha){return this.component?this.component.multipleInstances?e:Ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ML(t){return t===Ha?void 0:t}function kL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));const LL={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},UL=Ye.INFO,BL={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},zL=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=BL[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cv{constructor(e){this.name=e,this._logLevel=UL,this._logHandler=zL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const FL=(t,e)=>e.some(n=>t instanceof n);let AT,wT;function jL(){return AT||(AT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HL(){return wT||(wT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aR=new WeakMap,ny=new WeakMap,oR=new WeakMap,Cg=new WeakMap,fv=new WeakMap;function qL(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Hs(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&aR.set(n,t)}).catch(()=>{}),fv.set(e,t),e}function GL(t){if(ny.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});ny.set(t,e)}let ry={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ny.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $L(t){ry=t(ry)}function KL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Ig(this),e,...n);return oR.set(i,e.sort?e.sort():[e]),Hs(i)}:HL().includes(t)?function(...e){return t.apply(Ig(this),e),Hs(aR.get(this))}:function(...e){return Hs(t.apply(Ig(this),e))}}function WL(t){return typeof t=="function"?KL(t):(t instanceof IDBTransaction&&GL(t),FL(t,jL())?new Proxy(t,ry):t)}function Hs(t){if(t instanceof IDBRequest)return qL(t);if(Cg.has(t))return Cg.get(t);const e=WL(t);return e!==t&&(Cg.set(t,e),fv.set(e,t)),e}const Ig=t=>fv.get(t);function YL(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),f=Hs(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Hs(c.result),p.oldVersion,p.newVersion,Hs(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const QL=["get","getKey","getAll","getAllKeys","count"],XL=["put","add","delete","clear"],Dg=new Map;function RT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dg.get(e))return Dg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=XL.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||QL.includes(n)))return;const l=async function(c,...f){const p=this.transaction(c,a?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(f.shift())),(await Promise.all([m[n](...f),a&&p.done]))[0]};return Dg.set(e,l),l}$L(t=>({...t,get:(e,n,i)=>RT(e,n)||t.get(e,n,i),has:(e,n)=>!!RT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(JL(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function JL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const iy="@firebase/app",CT="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new cv("@firebase/app"),e4="@firebase/app-compat",t4="@firebase/analytics-compat",n4="@firebase/analytics",r4="@firebase/app-check-compat",i4="@firebase/app-check",s4="@firebase/auth",a4="@firebase/auth-compat",o4="@firebase/database",l4="@firebase/data-connect",u4="@firebase/database-compat",c4="@firebase/functions",f4="@firebase/functions-compat",d4="@firebase/installations",h4="@firebase/installations-compat",p4="@firebase/messaging",m4="@firebase/messaging-compat",g4="@firebase/performance",y4="@firebase/performance-compat",v4="@firebase/remote-config",_4="@firebase/remote-config-compat",E4="@firebase/storage",b4="@firebase/storage-compat",T4="@firebase/firestore",S4="@firebase/vertexai",A4="@firebase/firestore-compat",w4="firebase",R4="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy="[DEFAULT]",C4={[iy]:"fire-core",[e4]:"fire-core-compat",[n4]:"fire-analytics",[t4]:"fire-analytics-compat",[i4]:"fire-app-check",[r4]:"fire-app-check-compat",[s4]:"fire-auth",[a4]:"fire-auth-compat",[o4]:"fire-rtdb",[l4]:"fire-data-connect",[u4]:"fire-rtdb-compat",[c4]:"fire-fn",[f4]:"fire-fn-compat",[d4]:"fire-iid",[h4]:"fire-iid-compat",[p4]:"fire-fcm",[m4]:"fire-fcm-compat",[g4]:"fire-perf",[y4]:"fire-perf-compat",[v4]:"fire-rc",[_4]:"fire-rc-compat",[E4]:"fire-gcs",[b4]:"fire-gcs-compat",[T4]:"fire-fst",[A4]:"fire-fst-compat",[S4]:"fire-vertex","fire-js":"fire-js",[w4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new Map,I4=new Map,ay=new Map;function IT(t,e){try{t.container.addComponent(e)}catch(n){Ki.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ml(t){const e=t.name;if(ay.has(e))return Ki.debug(`There were multiple attempts to register component ${e}.`),!1;ay.set(e,t);for(const n of ih.values())IT(n,t);for(const n of I4.values())IT(n,t);return!0}function dv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function dr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qs=new Mc("app","Firebase",D4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Xa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=R4;function lR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:sy,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw qs.create("bad-app-name",{appName:String(a)});if(n||(n=iR()),!n)throw qs.create("no-options");const l=ih.get(a);if(l){if(Qa(n,l.options)&&Qa(i,l.config))return l;throw qs.create("duplicate-app",{appName:a})}const c=new VL(a);for(const p of ay.values())c.addComponent(p);const f=new O4(n,i,c);return ih.set(a,f),f}function uR(t=sy){const e=ih.get(t);if(!e&&t===sy&&iR())return lR();if(!e)throw qs.create("no-app",{appName:t});return e}function Gs(t,e,n){var i;let a=(i=C4[t])!==null&&i!==void 0?i:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ki.warn(f.join(" "));return}ml(new Xa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="firebase-heartbeat-database",N4=1,vc="firebase-heartbeat-store";let Og=null;function cR(){return Og||(Og=YL(x4,N4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vc)}catch(n){console.warn(n)}}}}).catch(t=>{throw qs.create("idb-open",{originalErrorMessage:t.message})})),Og}async function P4(t){try{const n=(await cR()).transaction(vc),i=await n.objectStore(vc).get(fR(t));return await n.done,i}catch(e){if(e instanceof Xi)Ki.warn(e.message);else{const n=qs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ki.warn(n.message)}}}async function DT(t,e){try{const i=(await cR()).transaction(vc,"readwrite");await i.objectStore(vc).put(e,fR(t)),await i.done}catch(n){if(n instanceof Xi)Ki.warn(n.message);else{const i=qs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ki.warn(i.message)}}}function fR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=1024,k4=30;class V4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new U4(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=OT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>k4){const c=B4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ki.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=OT(),{heartbeatsToSend:i,unsentEntries:a}=L4(this._heartbeatsCache.heartbeats),l=rh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Ki.warn(n),""}}}function OT(){return new Date().toISOString().substring(0,10)}function L4(t,e=M4){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),xT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),xT(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class U4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AL()?wL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await P4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return DT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return DT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function xT(t){return rh(JSON.stringify({version:2,heartbeats:t})).length}function B4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(t){ml(new Xa("platform-logger",e=>new ZL(e),"PRIVATE")),ml(new Xa("heartbeat",e=>new V4(e),"PRIVATE")),Gs(iy,CT,t),Gs(iy,CT,"esm2017"),Gs("fire-js","")}z4("");var F4="firebase",j4="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gs(F4,j4,"app");function hv(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n}function dR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const H4=dR,hR=new Mc("auth","Firebase",dR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=new cv("@firebase/auth");function q4(t,...e){sh.logLevel<=Ye.WARN&&sh.warn(`Auth (${Il}): ${t}`,...e)}function Od(t,...e){sh.logLevel<=Ye.ERROR&&sh.error(`Auth (${Il}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(t,...e){throw pv(t,...e)}function ri(t,...e){return pv(t,...e)}function pR(t,e,n){const i=Object.assign(Object.assign({},H4()),{[e]:n});return new Mc("auth","Firebase",i).create(e,{appName:t.name})}function ji(t){return pR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pv(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return hR.create(t,...e)}function xe(t,e,...n){if(!t)throw pv(e,...n)}function Li(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Od(e),new Error(e)}function Wi(t,e){t||Li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function G4(){return NT()==="http:"||NT()==="https:"}function NT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(G4()||EL()||"connection"in navigator)?navigator.onLine:!0}function K4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wi(n>e,"Short delay should be less than long delay!"),this.isMobile=yL()||bL()}get(){return $4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(t,e){Wi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=new Vc(3e4,6e4);function ra(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ia(t,e,n,i,a={}){return gR(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const f=kc(Object.assign({key:t.config.apiKey},c)).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:p},l);return _L()||(m.referrerPolicy="no-referrer"),mR.fetch()(yR(t,t.config.apiHost,n,f),m)})}async function gR(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},W4),e);try{const a=new X4(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw vd(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[p,m]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw vd(t,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw vd(t,"email-already-in-use",c);if(p==="USER_DISABLED")throw vd(t,"user-disabled",c);const y=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw pR(t,y,m);xr(t,y)}}catch(a){if(a instanceof Xi)throw a;xr(t,"network-request-failed",{message:String(a)})}}async function Lc(t,e,n,i,a={}){const l=await ia(t,e,n,i,a);return"mfaPendingCredential"in l&&xr(t,"multi-factor-auth-required",{_serverResponse:l}),l}function yR(t,e,n,i){const a=`${e}${n}?${i}`;return t.config.emulator?mv(t.config,a):`${t.config.apiScheme}://${a}`}function Q4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class X4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ri(this.auth,"network-request-failed")),Y4.get())})}}function vd(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=ri(t,e,i);return a.customData._tokenResponse=n,a}function PT(t){return t!==void 0&&t.enterprise!==void 0}class Z4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Q4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function J4(t,e){return ia(t,"GET","/v2/recaptchaConfig",ra(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eU(t,e){return ia(t,"POST","/v1/accounts:delete",e)}async function vR(t,e){return ia(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tU(t,e=!1){const n=vr(t),i=await n.getIdToken(e),a=gv(i);xe(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:ec(xg(a.auth_time)),issuedAtTime:ec(xg(a.iat)),expirationTime:ec(xg(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function xg(t){return Number(t)*1e3}function gv(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Od("JWT malformed, contained fewer than 3 sections"),null;try{const a=nR(n);return a?JSON.parse(a):(Od("Failed to decode base64 JWT payload"),null)}catch(a){return Od("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function MT(t){const e=gv(t);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _c(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Xi&&nU(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function nU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ec(this.lastLoginAt),this.creationTime=ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ah(t){var e;const n=t.auth,i=await t.getIdToken(),a=await _c(t,vR(n,{idToken:i}));xe(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?_R(l.providerUserInfo):[],f=sU(t.providerData,c),p=t.isAnonymous,m=!(t.email&&l.passwordHash)&&!(f!=null&&f.length),y=p?m:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new ly(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(t,_)}async function iU(t){const e=vr(t);await ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sU(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function _R(t){return t.map(e=>{var{providerId:n}=e,i=hv(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aU(t,e){const n=await gR(t,{},async()=>{const i=kc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=yR(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",mR.fetch()(c,{method:"POST",headers:f,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function oU(t,e){return ia(t,"POST","/v2/accounts:revokeToken",ra(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):MT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=MT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await aU(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new ol;return i&&(xe(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(xe(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(xe(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ol,this.toJSON())}_performRefresh(){return Li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(t,e){xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ui{constructor(e){var{uid:n,auth:i,stsTokenManager:a}=e,l=hv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ly(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await _c(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tU(this,e)}reload(){return iU(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ui(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await ah(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dr(this.auth.app))return Promise.reject(ji(this.auth));const e=await this.getIdToken();return await _c(this,eU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,a,l,c,f,p,m,y;const _=(i=n.displayName)!==null&&i!==void 0?i:void 0,E=(a=n.email)!==null&&a!==void 0?a:void 0,S=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,w=(c=n.photoURL)!==null&&c!==void 0?c:void 0,M=(f=n.tenantId)!==null&&f!==void 0?f:void 0,D=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,z=(m=n.createdAt)!==null&&m!==void 0?m:void 0,F=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:q,emailVerified:Z,isAnonymous:X,providerData:se,stsTokenManager:P}=n;xe(q&&P,e,"internal-error");const I=ol.fromJSON(this.name,P);xe(typeof q=="string",e,"internal-error"),Ps(_,e.name),Ps(E,e.name),xe(typeof Z=="boolean",e,"internal-error"),xe(typeof X=="boolean",e,"internal-error"),Ps(S,e.name),Ps(w,e.name),Ps(M,e.name),Ps(D,e.name),Ps(z,e.name),Ps(F,e.name);const C=new Ui({uid:q,auth:e,email:E,emailVerified:Z,displayName:_,isAnonymous:X,photoURL:w,phoneNumber:S,tenantId:M,stsTokenManager:I,createdAt:z,lastLoginAt:F});return se&&Array.isArray(se)&&(C.providerData=se.map(O=>Object.assign({},O))),D&&(C._redirectEventId=D),C}static async _fromIdTokenResponse(e,n,i=!1){const a=new ol;a.updateFromServerResponse(n);const l=new Ui({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await ah(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];xe(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?_R(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new ol;f.updateFromIdToken(i);const p=new Ui({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new ly(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=new Map;function Bi(t){Wi(t instanceof Function,"Expected a class definition");let e=kT.get(t);return e?(Wi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ER.type="NONE";const VT=ER;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(t,e,n){return`firebase:${t}:${e}:${n}`}class ll{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=xd(this.userKey,a.apiKey,l),this.fullPersistenceKey=xd("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ui._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new ll(Bi(VT),e,i);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Bi(VT);const c=xd(i,e.config.apiKey,e.name);let f=null;for(const m of n)try{const y=await m._get(c);if(y){const _=Ui._fromJSON(e,y);m!==l&&(f=_),l=m;break}}catch{}const p=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new ll(l,e,i):(l=p[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new ll(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RR(e))return"Blackberry";if(CR(e))return"Webos";if(TR(e))return"Safari";if((e.includes("chrome/")||SR(e))&&!e.includes("edge/"))return"Chrome";if(wR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function bR(t=Sn()){return/firefox\//i.test(t)}function TR(t=Sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SR(t=Sn()){return/crios\//i.test(t)}function AR(t=Sn()){return/iemobile/i.test(t)}function wR(t=Sn()){return/android/i.test(t)}function RR(t=Sn()){return/blackberry/i.test(t)}function CR(t=Sn()){return/webos/i.test(t)}function yv(t=Sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function lU(t=Sn()){var e;return yv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uU(){return TL()&&document.documentMode===10}function IR(t=Sn()){return yv(t)||wR(t)||CR(t)||RR(t)||/windows phone/i.test(t)||AR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(t,e=[]){let n;switch(t){case"Browser":n=LT(Sn());break;case"Worker":n=`${LT(Sn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Il}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,f)=>{try{const p=e(l);c(p)}catch(p){f(p)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fU(t,e={}){return ia(t,"GET","/v2/passwordPolicy",ra(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU=6;class hU{constructor(e){var n,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:dU,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,a,l,c,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UT(this),this.idTokenSubscription=new UT(this),this.beforeStateQueue=new cU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bi(n)),this._initializationPromise=this.queue(async()=>{var i,a;if(!this._deleted&&(this.persistenceManager=await ll.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vR(this,{idToken:e}),i=await Ui._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(dr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===f)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ah(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=K4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dr(this.app))return Promise.reject(ji(this));const n=e?vr(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dr(this.app)?Promise.reject(ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dr(this.app)?Promise.reject(ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fU(this),n=new hU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Mc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await oU(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bi(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await ll.create(this,[Bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,i,a);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&q4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ro(t){return vr(t)}class UT{constructor(e){this.auth=e,this.observer=null,this.addObserver=OL(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mU(t){Fh=t}function OR(t){return Fh.loadJS(t)}function gU(){return Fh.recaptchaEnterpriseScript}function yU(){return Fh.gapiScript}function vU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class _U{constructor(){this.enterprise=new EU}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class EU{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const bU="recaptcha-enterprise",xR="NO_RECAPTCHA";class TU{constructor(e){this.type=bU,this.auth=ro(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{J4(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const m=new Z4(p);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,c(m.siteKey)}}).catch(p=>{f(p)})})}function a(l,c,f){const p=window.grecaptcha;PT(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(m=>{c(m)}).catch(()=>{c(xR)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _U().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(f=>{if(!n&&PT(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=gU();p.length!==0&&(p+=f),OR(p).then(()=>{a(f,l,c)}).catch(m=>{c(m)})}}).catch(f=>{c(f)})})}}async function BT(t,e,n,i=!1,a=!1){const l=new TU(t);let c;if(a)c=xR;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const f=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,m=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function uy(t,e,n,i,a){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await BT(t,e,n,n==="getOobCode");return i(t,c)}else return i(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await BT(t,e,n,n==="getOobCode");return i(t,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SU(t,e){const n=dv(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Qa(l,e??{}))return a;xr(a,"already-initialized")}return n.initialize({options:e})}function AU(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Bi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function wU(t,e,n){const i=ro(t);xe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=NR(e),{host:c,port:f}=RU(e),p=f===null?"":`:${f}`,m={url:`${l}//${c}${p}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){xe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),xe(Qa(m,i.config.emulator)&&Qa(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,CU()}function NR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function RU(t){const e=NR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:zT(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:zT(c)}}}function zT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function CU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Li("not implemented")}_getIdTokenResponse(e){return Li("not implemented")}_linkToIdToken(e,n){return Li("not implemented")}_getReauthenticationResolver(e){return Li("not implemented")}}async function IU(t,e){return ia(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DU(t,e){return Lc(t,"POST","/v1/accounts:signInWithPassword",ra(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OU(t,e){return Lc(t,"POST","/v1/accounts:signInWithEmailLink",ra(t,e))}async function xU(t,e){return Lc(t,"POST","/v1/accounts:signInWithEmailLink",ra(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends vv{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Ec(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Ec(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uy(e,n,"signInWithPassword",DU);case"emailLink":return OU(e,{email:this._email,oobCode:this._password});default:xr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uy(e,i,"signUpPassword",IU);case"emailLink":return xU(e,{idToken:n,email:this._email,oobCode:this._password});default:xr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(t,e){return Lc(t,"POST","/v1/accounts:signInWithIdp",ra(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU="http://localhost";class Za extends vv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Za(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):xr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=n,l=hv(n,["providerId","signInMethod"]);if(!i||!a)return null;const c=new Za(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return ul(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ul(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ul(e,n)}buildRequest(){const e={requestUri:NU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function MU(t){const e=Ku(Wu(t)).link,n=e?Ku(Wu(e)).deep_link_id:null,i=Ku(Wu(t)).deep_link_id;return(i?Ku(Wu(i)).link:null)||i||n||e||t}class _v{constructor(e){var n,i,a,l,c,f;const p=Ku(Wu(e)),m=(n=p.apiKey)!==null&&n!==void 0?n:null,y=(i=p.oobCode)!==null&&i!==void 0?i:null,_=PU((a=p.mode)!==null&&a!==void 0?a:null);xe(m&&y&&_,"argument-error"),this.apiKey=m,this.operation=_,this.code=y,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const n=MU(e);try{return new _v(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(){this.providerId=Dl.PROVIDER_ID}static credential(e,n){return Ec._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=_v.parseLink(n);return xe(i,"argument-error"),Ec._fromEmailAndCode(e,i.code,i.tenantId)}}Dl.PROVIDER_ID="password";Dl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Dl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc extends PR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends Uc{constructor(){super("facebook.com")}static credential(e){return Za._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";ks.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends Uc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Za._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Vs.credential(n,i)}catch{return null}}}Vs.GOOGLE_SIGN_IN_METHOD="google.com";Vs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends Uc{constructor(){super("github.com")}static credential(e){return Za._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ls.credential(e.oauthAccessToken)}catch{return null}}}Ls.GITHUB_SIGN_IN_METHOD="github.com";Ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends Uc{constructor(){super("twitter.com")}static credential(e,n){return Za._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Us.credential(n,i)}catch{return null}}}Us.TWITTER_SIGN_IN_METHOD="twitter.com";Us.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kU(t,e){return Lc(t,"POST","/v1/accounts:signUp",ra(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await Ui._fromIdTokenResponse(e,i,a),c=FT(i);return new Ja({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=FT(i);return new Ja({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function FT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh extends Xi{constructor(e,n,i,a){var l;super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,oh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new oh(e,n,i,a)}}function MR(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?oh._fromErrorAndOperation(t,l,e,i):l})}async function VU(t,e,n=!1){const i=await _c(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ja._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LU(t,e,n=!1){const{auth:i}=t;if(dr(i.app))return Promise.reject(ji(i));const a="reauthenticate";try{const l=await _c(t,MR(i,a,e,t),n);xe(l.idToken,i,"internal-error");const c=gv(l.idToken);xe(c,i,"internal-error");const{sub:f}=c;return xe(t.uid===f,i,"user-mismatch"),Ja._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&xr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(t,e,n=!1){if(dr(t.app))return Promise.reject(ji(t));const i="signIn",a=await MR(t,i,e),l=await Ja._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}async function UU(t,e){return kR(ro(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(t){const e=ro(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function BU(t,e,n){if(dr(t.app))return Promise.reject(ji(t));const i=ro(t),c=await uy(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kU).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&VR(t),p}),f=await Ja._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(f.user),f}function zU(t,e,n){return dr(t.app)?Promise.reject(ji(t)):UU(vr(t),Dl.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&VR(t),i})}function FU(t,e,n,i){return vr(t).onIdTokenChanged(e,n,i)}function jU(t,e,n){return vr(t).beforeAuthStateChanged(e,n)}function HU(t,e,n,i){return vr(t).onAuthStateChanged(e,n,i)}const lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qU=1e3,GU=10;class UR extends LR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,p)=>{this.notifyListeners(c,p)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);uU()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,GU):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},qU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}UR.type="LOCAL";const $U=UR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR extends LR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BR.type="SESSION";const zR=BR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new jh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(c).map(async m=>m(n.origin,l)),p=await KU(f);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,p)=>{const m=Ev("",20);a.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(E.data.response);break;default:clearTimeout(y),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(){return window}function YU(t){ii().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(){return typeof ii().WorkerGlobalScope<"u"&&typeof ii().importScripts=="function"}async function QU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ZU(){return FR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="firebaseLocalStorageDb",JU=1,uh="firebaseLocalStorage",HR="fbase_key";class Bc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hh(t,e){return t.transaction([uh],e?"readwrite":"readonly").objectStore(uh)}function e3(){const t=indexedDB.deleteDatabase(jR);return new Bc(t).toPromise()}function cy(){const t=indexedDB.open(jR,JU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(uh,{keyPath:HR})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(uh)?e(i):(i.close(),await e3(),e(await cy()))})})}async function jT(t,e,n){const i=Hh(t,!0).put({[HR]:e,value:n});return new Bc(i).toPromise()}async function t3(t,e){const n=Hh(t,!1).get(e),i=await new Bc(n).toPromise();return i===void 0?null:i.value}function HT(t,e){const n=Hh(t,!0).delete(e);return new Bc(n).toPromise()}const n3=800,r3=3;class qR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>r3)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jh._getInstance(ZU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await QU(),!this.activeServiceWorker)return;this.sender=new WU(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cy();return await jT(e,lh,"1"),await HT(e,lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>jT(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>t3(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>HT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Hh(a,!1).getAll();return new Bc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),n3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qR.type="LOCAL";const i3=qR;new Vc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(t,e){return e?Bi(e):(xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv extends vv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ul(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ul(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function a3(t){return kR(t.auth,new bv(t),t.bypassAuthState)}function o3(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),LU(n,new bv(t),t.bypassAuthState)}async function l3(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),VU(n,new bv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return a3;case"linkViaPopup":case"linkViaRedirect":return l3;case"reauthViaPopup":case"reauthViaRedirect":return o3;default:xr(this.auth,"internal-error")}}resolve(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=new Vc(2e3,1e4);class al extends GR{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,al.currentPopupAction&&al.currentPopupAction.cancel(),al.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const e=Ev();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,al.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,u3.get())};e()}}al.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3="pendingRedirect",Nd=new Map;class f3 extends GR{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Nd.get(this.auth._key());if(!e){try{const i=await d3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Nd.set(this.auth._key(),e)}return this.bypassAuthState||Nd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function d3(t,e){const n=m3(e),i=p3(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function h3(t,e){Nd.set(t._key(),e)}function p3(t){return Bi(t._redirectPersistence)}function m3(t){return xd(c3,t.config.apiKey,t.name)}async function g3(t,e,n=!1){if(dr(t.app))return Promise.reject(ji(t));const i=ro(t),a=s3(i,e),c=await new f3(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=10*60*1e3;class v3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!$R(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(ri(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=y3&&this.cachedEventUids.clear(),this.cachedEventUids.has(qT(e))}saveEventToCache(e){this.cachedEventUids.add(qT(e)),this.lastProcessedEventTime=Date.now()}}function qT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $R({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $R(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E3(t,e={}){return ia(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T3=/^https?/;async function S3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await E3(t);for(const n of e)try{if(A3(n))return}catch{}xr(t,"unauthorized-domain")}function A3(t){const e=oy(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!T3.test(n))return!1;if(b3.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=new Vc(3e4,6e4);function GT(){const t=ii().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function R3(t){return new Promise((e,n)=>{var i,a,l;function c(){GT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GT(),n(ri(t,"network-request-failed"))},timeout:w3.get()})}if(!((a=(i=ii().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=ii().gapi)===null||l===void 0)&&l.load)c();else{const f=vU("iframefcb");return ii()[f]=()=>{gapi.load?c():n(ri(t,"network-request-failed"))},OR(`${yU()}?onload=${f}`).catch(p=>n(p))}}).catch(e=>{throw Pd=null,e})}let Pd=null;function C3(t){return Pd=Pd||R3(t),Pd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=new Vc(5e3,15e3),D3="__/auth/iframe",O3="emulator/auth/iframe",x3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function P3(t){const e=t.config;xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?mv(e,O3):`https://${t.config.authDomain}/${D3}`,i={apiKey:e.apiKey,appName:t.name,v:Il},a=N3.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${kc(i).slice(1)}`}async function M3(t){const e=await C3(t),n=ii().gapi;return xe(n,t,"internal-error"),e.open({where:document.body,url:P3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:x3,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=ri(t,"network-request-failed"),f=ii().setTimeout(()=>{l(c)},I3.get());function p(){ii().clearTimeout(f),a(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},V3=500,L3=600,U3="_blank",B3="http://localhost";class $T{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function z3(t,e,n,i=V3,a=L3){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p=Object.assign(Object.assign({},k3),{width:i.toString(),height:a.toString(),top:l,left:c}),m=Sn().toLowerCase();n&&(f=SR(m)?U3:n),bR(m)&&(e=e||B3,p.scrollbars="yes");const y=Object.entries(p).reduce((E,[S,w])=>`${E}${S}=${w},`,"");if(lU(m)&&f!=="_self")return F3(e||"",f),new $T(null);const _=window.open(e||"",f,y);xe(_,t,"popup-blocked");try{_.focus()}catch{}return new $T(_)}function F3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3="__/auth/handler",H3="emulator/auth/handler",q3=encodeURIComponent("fac");async function KT(t,e,n,i,a,l){xe(t.config.authDomain,t,"auth-domain-config-required"),xe(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Il,eventId:a};if(e instanceof PR){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",DL(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof Uc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const p=await t._getAppCheckToken(),m=p?`#${q3}=${encodeURIComponent(p)}`:"";return`${G3(t)}?${kc(f).slice(1)}${m}`}function G3({config:t}){return t.emulator?mv(t,H3):`https://${t.authDomain}/${j3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="webStorageSupport";class $3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zR,this._completeRedirectFn=g3,this._overrideRedirectResult=h3}async _openPopup(e,n,i,a){var l;Wi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await KT(e,n,i,oy(),a);return z3(e,c,Ev())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await KT(e,n,i,oy(),a);return YU(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Wi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await M3(e),i=new v3(e);return n.register("authEvent",a=>(xe(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ng,{type:Ng},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Ng];c!==void 0&&n(!!c),xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=S3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return IR()||TR()||yv()}}const K3=$3;var WT="@firebase/auth",YT="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Q3(t){ml(new Xa("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;xe(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DR(t)},m=new pU(i,a,l,p);return AU(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ml(new Xa("auth-internal",e=>{const n=ro(e.getProvider("auth").getImmediate());return(i=>new W3(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gs(WT,YT,Y3(t)),Gs(WT,YT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=5*60,Z3=sR("authIdTokenMaxAge")||X3;let QT=null;const J3=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Z3)return;const a=n==null?void 0:n.token;QT!==a&&(QT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Tv(t=uR()){const e=dv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=SU(t,{popupRedirectResolver:K3,persistence:[i3,$U,zR]}),i=sR("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=J3(l.toString());jU(n,c,()=>c(n.currentUser)),FU(n,f=>c(f))}}const a=rR("auth");return a&&wU(n,`http://${a}`),n}function eB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}mU({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=ri("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",eB().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Q3("Browser");var XT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $s,KR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,I){function C(){}C.prototype=I.prototype,P.D=I.prototype,P.prototype=new C,P.prototype.constructor=P,P.C=function(O,V,L){for(var x=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)x[Ue-2]=arguments[Ue];return I.prototype[V].apply(O,x)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,I,C){C||(C=0);var O=Array(16);if(typeof I=="string")for(var V=0;16>V;++V)O[V]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(V=0;16>V;++V)O[V]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=P.g[0],C=P.g[1],V=P.g[2];var L=P.g[3],x=I+(L^C&(V^L))+O[0]+3614090360&4294967295;I=C+(x<<7&4294967295|x>>>25),x=L+(V^I&(C^V))+O[1]+3905402710&4294967295,L=I+(x<<12&4294967295|x>>>20),x=V+(C^L&(I^C))+O[2]+606105819&4294967295,V=L+(x<<17&4294967295|x>>>15),x=C+(I^V&(L^I))+O[3]+3250441966&4294967295,C=V+(x<<22&4294967295|x>>>10),x=I+(L^C&(V^L))+O[4]+4118548399&4294967295,I=C+(x<<7&4294967295|x>>>25),x=L+(V^I&(C^V))+O[5]+1200080426&4294967295,L=I+(x<<12&4294967295|x>>>20),x=V+(C^L&(I^C))+O[6]+2821735955&4294967295,V=L+(x<<17&4294967295|x>>>15),x=C+(I^V&(L^I))+O[7]+4249261313&4294967295,C=V+(x<<22&4294967295|x>>>10),x=I+(L^C&(V^L))+O[8]+1770035416&4294967295,I=C+(x<<7&4294967295|x>>>25),x=L+(V^I&(C^V))+O[9]+2336552879&4294967295,L=I+(x<<12&4294967295|x>>>20),x=V+(C^L&(I^C))+O[10]+4294925233&4294967295,V=L+(x<<17&4294967295|x>>>15),x=C+(I^V&(L^I))+O[11]+2304563134&4294967295,C=V+(x<<22&4294967295|x>>>10),x=I+(L^C&(V^L))+O[12]+1804603682&4294967295,I=C+(x<<7&4294967295|x>>>25),x=L+(V^I&(C^V))+O[13]+4254626195&4294967295,L=I+(x<<12&4294967295|x>>>20),x=V+(C^L&(I^C))+O[14]+2792965006&4294967295,V=L+(x<<17&4294967295|x>>>15),x=C+(I^V&(L^I))+O[15]+1236535329&4294967295,C=V+(x<<22&4294967295|x>>>10),x=I+(V^L&(C^V))+O[1]+4129170786&4294967295,I=C+(x<<5&4294967295|x>>>27),x=L+(C^V&(I^C))+O[6]+3225465664&4294967295,L=I+(x<<9&4294967295|x>>>23),x=V+(I^C&(L^I))+O[11]+643717713&4294967295,V=L+(x<<14&4294967295|x>>>18),x=C+(L^I&(V^L))+O[0]+3921069994&4294967295,C=V+(x<<20&4294967295|x>>>12),x=I+(V^L&(C^V))+O[5]+3593408605&4294967295,I=C+(x<<5&4294967295|x>>>27),x=L+(C^V&(I^C))+O[10]+38016083&4294967295,L=I+(x<<9&4294967295|x>>>23),x=V+(I^C&(L^I))+O[15]+3634488961&4294967295,V=L+(x<<14&4294967295|x>>>18),x=C+(L^I&(V^L))+O[4]+3889429448&4294967295,C=V+(x<<20&4294967295|x>>>12),x=I+(V^L&(C^V))+O[9]+568446438&4294967295,I=C+(x<<5&4294967295|x>>>27),x=L+(C^V&(I^C))+O[14]+3275163606&4294967295,L=I+(x<<9&4294967295|x>>>23),x=V+(I^C&(L^I))+O[3]+4107603335&4294967295,V=L+(x<<14&4294967295|x>>>18),x=C+(L^I&(V^L))+O[8]+1163531501&4294967295,C=V+(x<<20&4294967295|x>>>12),x=I+(V^L&(C^V))+O[13]+2850285829&4294967295,I=C+(x<<5&4294967295|x>>>27),x=L+(C^V&(I^C))+O[2]+4243563512&4294967295,L=I+(x<<9&4294967295|x>>>23),x=V+(I^C&(L^I))+O[7]+1735328473&4294967295,V=L+(x<<14&4294967295|x>>>18),x=C+(L^I&(V^L))+O[12]+2368359562&4294967295,C=V+(x<<20&4294967295|x>>>12),x=I+(C^V^L)+O[5]+4294588738&4294967295,I=C+(x<<4&4294967295|x>>>28),x=L+(I^C^V)+O[8]+2272392833&4294967295,L=I+(x<<11&4294967295|x>>>21),x=V+(L^I^C)+O[11]+1839030562&4294967295,V=L+(x<<16&4294967295|x>>>16),x=C+(V^L^I)+O[14]+4259657740&4294967295,C=V+(x<<23&4294967295|x>>>9),x=I+(C^V^L)+O[1]+2763975236&4294967295,I=C+(x<<4&4294967295|x>>>28),x=L+(I^C^V)+O[4]+1272893353&4294967295,L=I+(x<<11&4294967295|x>>>21),x=V+(L^I^C)+O[7]+4139469664&4294967295,V=L+(x<<16&4294967295|x>>>16),x=C+(V^L^I)+O[10]+3200236656&4294967295,C=V+(x<<23&4294967295|x>>>9),x=I+(C^V^L)+O[13]+681279174&4294967295,I=C+(x<<4&4294967295|x>>>28),x=L+(I^C^V)+O[0]+3936430074&4294967295,L=I+(x<<11&4294967295|x>>>21),x=V+(L^I^C)+O[3]+3572445317&4294967295,V=L+(x<<16&4294967295|x>>>16),x=C+(V^L^I)+O[6]+76029189&4294967295,C=V+(x<<23&4294967295|x>>>9),x=I+(C^V^L)+O[9]+3654602809&4294967295,I=C+(x<<4&4294967295|x>>>28),x=L+(I^C^V)+O[12]+3873151461&4294967295,L=I+(x<<11&4294967295|x>>>21),x=V+(L^I^C)+O[15]+530742520&4294967295,V=L+(x<<16&4294967295|x>>>16),x=C+(V^L^I)+O[2]+3299628645&4294967295,C=V+(x<<23&4294967295|x>>>9),x=I+(V^(C|~L))+O[0]+4096336452&4294967295,I=C+(x<<6&4294967295|x>>>26),x=L+(C^(I|~V))+O[7]+1126891415&4294967295,L=I+(x<<10&4294967295|x>>>22),x=V+(I^(L|~C))+O[14]+2878612391&4294967295,V=L+(x<<15&4294967295|x>>>17),x=C+(L^(V|~I))+O[5]+4237533241&4294967295,C=V+(x<<21&4294967295|x>>>11),x=I+(V^(C|~L))+O[12]+1700485571&4294967295,I=C+(x<<6&4294967295|x>>>26),x=L+(C^(I|~V))+O[3]+2399980690&4294967295,L=I+(x<<10&4294967295|x>>>22),x=V+(I^(L|~C))+O[10]+4293915773&4294967295,V=L+(x<<15&4294967295|x>>>17),x=C+(L^(V|~I))+O[1]+2240044497&4294967295,C=V+(x<<21&4294967295|x>>>11),x=I+(V^(C|~L))+O[8]+1873313359&4294967295,I=C+(x<<6&4294967295|x>>>26),x=L+(C^(I|~V))+O[15]+4264355552&4294967295,L=I+(x<<10&4294967295|x>>>22),x=V+(I^(L|~C))+O[6]+2734768916&4294967295,V=L+(x<<15&4294967295|x>>>17),x=C+(L^(V|~I))+O[13]+1309151649&4294967295,C=V+(x<<21&4294967295|x>>>11),x=I+(V^(C|~L))+O[4]+4149444226&4294967295,I=C+(x<<6&4294967295|x>>>26),x=L+(C^(I|~V))+O[11]+3174756917&4294967295,L=I+(x<<10&4294967295|x>>>22),x=V+(I^(L|~C))+O[2]+718787259&4294967295,V=L+(x<<15&4294967295|x>>>17),x=C+(L^(V|~I))+O[9]+3951481745&4294967295,P.g[0]=P.g[0]+I&4294967295,P.g[1]=P.g[1]+(V+(x<<21&4294967295|x>>>11))&4294967295,P.g[2]=P.g[2]+V&4294967295,P.g[3]=P.g[3]+L&4294967295}i.prototype.u=function(P,I){I===void 0&&(I=P.length);for(var C=I-this.blockSize,O=this.B,V=this.h,L=0;L<I;){if(V==0)for(;L<=C;)a(this,P,L),L+=this.blockSize;if(typeof P=="string"){for(;L<I;)if(O[V++]=P.charCodeAt(L++),V==this.blockSize){a(this,O),V=0;break}}else for(;L<I;)if(O[V++]=P[L++],V==this.blockSize){a(this,O),V=0;break}}this.h=V,this.o+=I},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var I=1;I<P.length-8;++I)P[I]=0;var C=8*this.o;for(I=P.length-8;I<P.length;++I)P[I]=C&255,C/=256;for(this.u(P),P=Array(16),I=C=0;4>I;++I)for(var O=0;32>O;O+=8)P[C++]=this.g[I]>>>O&255;return P};function l(P,I){var C=f;return Object.prototype.hasOwnProperty.call(C,P)?C[P]:C[P]=I(P)}function c(P,I){this.h=I;for(var C=[],O=!0,V=P.length-1;0<=V;V--){var L=P[V]|0;O&&L==I||(C[V]=L,O=!1)}this.g=C}var f={};function p(P){return-128<=P&&128>P?l(P,function(I){return new c([I|0],0>I?-1:0)}):new c([P|0],0>P?-1:0)}function m(P){if(isNaN(P)||!isFinite(P))return _;if(0>P)return D(m(-P));for(var I=[],C=1,O=0;P>=C;O++)I[O]=P/C|0,C*=4294967296;return new c(I,0)}function y(P,I){if(P.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(P.charAt(0)=="-")return D(y(P.substring(1),I));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=m(Math.pow(I,8)),O=_,V=0;V<P.length;V+=8){var L=Math.min(8,P.length-V),x=parseInt(P.substring(V,V+L),I);8>L?(L=m(Math.pow(I,L)),O=O.j(L).add(m(x))):(O=O.j(C),O=O.add(m(x)))}return O}var _=p(0),E=p(1),S=p(16777216);t=c.prototype,t.m=function(){if(M(this))return-D(this).m();for(var P=0,I=1,C=0;C<this.g.length;C++){var O=this.i(C);P+=(0<=O?O:4294967296+O)*I,I*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(w(this))return"0";if(M(this))return"-"+D(this).toString(P);for(var I=m(Math.pow(P,6)),C=this,O="";;){var V=Z(C,I).g;C=z(C,V.j(I));var L=((0<C.g.length?C.g[0]:C.h)>>>0).toString(P);if(C=V,w(C))return L+O;for(;6>L.length;)L="0"+L;O=L+O}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function w(P){if(P.h!=0)return!1;for(var I=0;I<P.g.length;I++)if(P.g[I]!=0)return!1;return!0}function M(P){return P.h==-1}t.l=function(P){return P=z(this,P),M(P)?-1:w(P)?0:1};function D(P){for(var I=P.g.length,C=[],O=0;O<I;O++)C[O]=~P.g[O];return new c(C,~P.h).add(E)}t.abs=function(){return M(this)?D(this):this},t.add=function(P){for(var I=Math.max(this.g.length,P.g.length),C=[],O=0,V=0;V<=I;V++){var L=O+(this.i(V)&65535)+(P.i(V)&65535),x=(L>>>16)+(this.i(V)>>>16)+(P.i(V)>>>16);O=x>>>16,L&=65535,x&=65535,C[V]=x<<16|L}return new c(C,C[C.length-1]&-2147483648?-1:0)};function z(P,I){return P.add(D(I))}t.j=function(P){if(w(this)||w(P))return _;if(M(this))return M(P)?D(this).j(D(P)):D(D(this).j(P));if(M(P))return D(this.j(D(P)));if(0>this.l(S)&&0>P.l(S))return m(this.m()*P.m());for(var I=this.g.length+P.g.length,C=[],O=0;O<2*I;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<P.g.length;V++){var L=this.i(O)>>>16,x=this.i(O)&65535,Ue=P.i(V)>>>16,Ne=P.i(V)&65535;C[2*O+2*V]+=x*Ne,F(C,2*O+2*V),C[2*O+2*V+1]+=L*Ne,F(C,2*O+2*V+1),C[2*O+2*V+1]+=x*Ue,F(C,2*O+2*V+1),C[2*O+2*V+2]+=L*Ue,F(C,2*O+2*V+2)}for(O=0;O<I;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=I;O<2*I;O++)C[O]=0;return new c(C,0)};function F(P,I){for(;(P[I]&65535)!=P[I];)P[I+1]+=P[I]>>>16,P[I]&=65535,I++}function q(P,I){this.g=P,this.h=I}function Z(P,I){if(w(I))throw Error("division by zero");if(w(P))return new q(_,_);if(M(P))return I=Z(D(P),I),new q(D(I.g),D(I.h));if(M(I))return I=Z(P,D(I)),new q(D(I.g),I.h);if(30<P.g.length){if(M(P)||M(I))throw Error("slowDivide_ only works with positive integers.");for(var C=E,O=I;0>=O.l(P);)C=X(C),O=X(O);var V=se(C,1),L=se(O,1);for(O=se(O,2),C=se(C,2);!w(O);){var x=L.add(O);0>=x.l(P)&&(V=V.add(C),L=x),O=se(O,1),C=se(C,1)}return I=z(P,V.j(I)),new q(V,I)}for(V=_;0<=P.l(I);){for(C=Math.max(1,Math.floor(P.m()/I.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),L=m(C),x=L.j(I);M(x)||0<x.l(P);)C-=O,L=m(C),x=L.j(I);w(L)&&(L=E),V=V.add(L),P=z(P,x)}return new q(V,P)}t.A=function(P){return Z(this,P).h},t.and=function(P){for(var I=Math.max(this.g.length,P.g.length),C=[],O=0;O<I;O++)C[O]=this.i(O)&P.i(O);return new c(C,this.h&P.h)},t.or=function(P){for(var I=Math.max(this.g.length,P.g.length),C=[],O=0;O<I;O++)C[O]=this.i(O)|P.i(O);return new c(C,this.h|P.h)},t.xor=function(P){for(var I=Math.max(this.g.length,P.g.length),C=[],O=0;O<I;O++)C[O]=this.i(O)^P.i(O);return new c(C,this.h^P.h)};function X(P){for(var I=P.g.length+1,C=[],O=0;O<I;O++)C[O]=P.i(O)<<1|P.i(O-1)>>>31;return new c(C,P.h)}function se(P,I){var C=I>>5;I%=32;for(var O=P.g.length-C,V=[],L=0;L<O;L++)V[L]=0<I?P.i(L+C)>>>I|P.i(L+C+1)<<32-I:P.i(L+C);return new c(V,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,KR=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,$s=c}).apply(typeof XT<"u"?XT:typeof self<"u"?self:typeof window<"u"?window:{});var _d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WR,Yu,YR,Md,fy,QR,XR,ZR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,b){return d==Array.prototype||d==Object.prototype||(d[v]=b.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof _d=="object"&&_d];for(var v=0;v<d.length;++v){var b=d[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=n(this);function a(d,v){if(v)e:{var b=i;d=d.split(".");for(var R=0;R<d.length-1;R++){var $=d[R];if(!($ in b))break e;b=b[$]}d=d[d.length-1],R=b[d],v=v(R),v!=R&&v!=null&&e(b,d,{configurable:!0,writable:!0,value:v})}}function l(d,v){d instanceof String&&(d+="");var b=0,R=!1,$={next:function(){if(!R&&b<d.length){var J=b++;return{value:v(J,d[J]),done:!1}}return R=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}a("Array.prototype.values",function(d){return d||function(){return l(this,function(v,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function m(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function y(d,v,b){return d.call.apply(d.bind,arguments)}function _(d,v,b){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,R),d.apply(v,$)}}return function(){return d.apply(v,arguments)}}function E(d,v,b){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,E.apply(null,arguments)}function S(d,v){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function w(d,v){function b(){}b.prototype=v.prototype,d.aa=v.prototype,d.prototype=new b,d.prototype.constructor=d,d.Qb=function(R,$,J){for(var fe=Array(arguments.length-2),et=2;et<arguments.length;et++)fe[et-2]=arguments[et];return v.prototype[$].apply(R,fe)}}function M(d){const v=d.length;if(0<v){const b=Array(v);for(let R=0;R<v;R++)b[R]=d[R];return b}return[]}function D(d,v){for(let b=1;b<arguments.length;b++){const R=arguments[b];if(p(R)){const $=d.length||0,J=R.length||0;d.length=$+J;for(let fe=0;fe<J;fe++)d[$+fe]=R[fe]}else d.push(R)}}class z{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function F(d){return/^[\s\xa0]*$/.test(d)}function q(){var d=f.navigator;return d&&(d=d.userAgent)?d:""}function Z(d){return Z[" "](d),d}Z[" "]=function(){};var X=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function se(d,v,b){for(const R in d)v.call(b,d[R],R,d)}function P(d,v){for(const b in d)v.call(void 0,d[b],b,d)}function I(d){const v={};for(const b in d)v[b]=d[b];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(d,v){let b,R;for(let $=1;$<arguments.length;$++){R=arguments[$];for(b in R)d[b]=R[b];for(let J=0;J<C.length;J++)b=C[J],Object.prototype.hasOwnProperty.call(R,b)&&(d[b]=R[b])}}function V(d){var v=1;d=d.split(":");const b=[];for(;0<v&&d.length;)b.push(d.shift()),v--;return d.length&&b.push(d.join(":")),b}function L(d){f.setTimeout(()=>{throw d},0)}function x(){var d=je;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class Ue{constructor(){this.h=this.g=null}add(v,b){const R=Ne.get();R.set(v,b),this.h?this.h.next=R:this.g=R,this.h=R}}var Ne=new z(()=>new ue,d=>d.reset());class ue{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,ve=!1,je=new Ue,B=()=>{const d=f.Promise.resolve(void 0);Ee=()=>{d.then(oe)}};var oe=()=>{for(var d;d=x();){try{d.h.call(d.g)}catch(b){L(b)}var v=Ne;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}ve=!1};function be(){this.s=this.s,this.C=this.C}be.prototype.s=!1,be.prototype.ma=function(){this.s||(this.s=!0,this.N())},be.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const b=()=>{};f.addEventListener("test",b,v),f.removeEventListener("test",b,v)}catch{}return d}();function Me(d,v){if(me.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var b=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(X){e:{try{Z(v.nodeName);var $=!0;break e}catch{}$=!1}$||(v=null)}}else b=="mouseover"?v=d.fromElement:b=="mouseout"&&(v=d.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Oe[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Me.aa.h.call(this)}}w(Me,me);var Oe={2:"touch",3:"pen",4:"mouse"};Me.prototype.h=function(){Me.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var mt="closure_listenable_"+(1e6*Math.random()|0),qe=0;function lt(d,v,b,R,$){this.listener=d,this.proxy=null,this.src=v,this.type=b,this.capture=!!R,this.ha=$,this.key=++qe,this.da=this.fa=!1}function Xe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ft(d){this.src=d,this.g={},this.h=0}Ft.prototype.add=function(d,v,b,R,$){var J=d.toString();d=this.g[J],d||(d=this.g[J]=[],this.h++);var fe=Ot(d,v,R,$);return-1<fe?(v=d[fe],b||(v.fa=!1)):(v=new lt(v,this.src,J,!!R,$),v.fa=b,d.push(v)),v};function _t(d,v){var b=v.type;if(b in d.g){var R=d.g[b],$=Array.prototype.indexOf.call(R,v,void 0),J;(J=0<=$)&&Array.prototype.splice.call(R,$,1),J&&(Xe(v),d.g[b].length==0&&(delete d.g[b],d.h--))}}function Ot(d,v,b,R){for(var $=0;$<d.length;++$){var J=d[$];if(!J.da&&J.listener==v&&J.capture==!!b&&J.ha==R)return $}return-1}var _r="closure_lm_"+(1e6*Math.random()|0),ui={};function Mr(d,v,b,R,$){if(Array.isArray(v)){for(var J=0;J<v.length;J++)Mr(d,v[J],b,R,$);return null}return b=Be(b),d&&d[mt]?d.K(v,b,m(R)?!!R.capture:!1,$):lo(d,v,b,!1,R,$)}function lo(d,v,b,R,$,J){if(!v)throw Error("Invalid event type");var fe=m($)?!!$.capture:!!$,et=ce(d);if(et||(d[_r]=et=new Ft(d)),b=et.add(v,b,R,fe,J),b.proxy)return b;if(R=U(),b.proxy=R,R.src=d,R.listener=b,d.addEventListener)ge||($=fe),$===void 0&&($=!1),d.addEventListener(v.toString(),R,$);else if(d.attachEvent)d.attachEvent(pe(v.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function U(){function d(b){return v.call(d.src,d.listener,b)}const v=he;return d}function W(d,v,b,R,$){if(Array.isArray(v))for(var J=0;J<v.length;J++)W(d,v[J],b,R,$);else R=m(R)?!!R.capture:!!R,b=Be(b),d&&d[mt]?(d=d.i,v=String(v).toString(),v in d.g&&(J=d.g[v],b=Ot(J,b,R,$),-1<b&&(Xe(J[b]),Array.prototype.splice.call(J,b,1),J.length==0&&(delete d.g[v],d.h--)))):d&&(d=ce(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Ot(v,b,R,$)),(b=-1<d?v[d]:null)&&ee(b))}function ee(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[mt])_t(v.i,d);else{var b=d.type,R=d.proxy;v.removeEventListener?v.removeEventListener(b,R,d.capture):v.detachEvent?v.detachEvent(pe(b),R):v.addListener&&v.removeListener&&v.removeListener(R),(b=ce(v))?(_t(b,d),b.h==0&&(b.src=null,v[_r]=null)):Xe(d)}}}function pe(d){return d in ui?ui[d]:ui[d]="on"+d}function he(d,v){if(d.da)d=!0;else{v=new Me(v,this);var b=d.listener,R=d.ha||d.src;d.fa&&ee(d),d=b.call(R,v)}return d}function ce(d){return d=d[_r],d instanceof Ft?d:null}var _e="__closure_events_fn_"+(1e9*Math.random()>>>0);function Be(d){return typeof d=="function"?d:(d[_e]||(d[_e]=function(v){return d.handleEvent(v)}),d[_e])}function Ge(){be.call(this),this.i=new Ft(this),this.M=this,this.F=null}w(Ge,be),Ge.prototype[mt]=!0,Ge.prototype.removeEventListener=function(d,v,b,R){W(this,d,v,b,R)};function Ke(d,v){var b,R=d.F;if(R)for(b=[];R;R=R.F)b.push(R);if(d=d.M,R=v.type||v,typeof v=="string")v=new me(v,d);else if(v instanceof me)v.target=v.target||d;else{var $=v;v=new me(R,d),O(v,$)}if($=!0,b)for(var J=b.length-1;0<=J;J--){var fe=v.g=b[J];$=Xt(fe,R,!0,v)&&$}if(fe=v.g=d,$=Xt(fe,R,!0,v)&&$,$=Xt(fe,R,!1,v)&&$,b)for(J=0;J<b.length;J++)fe=v.g=b[J],$=Xt(fe,R,!1,v)&&$}Ge.prototype.N=function(){if(Ge.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var b=d.g[v],R=0;R<b.length;R++)Xe(b[R]);delete d.g[v],d.h--}}this.F=null},Ge.prototype.K=function(d,v,b,R){return this.i.add(String(d),v,!1,b,R)},Ge.prototype.L=function(d,v,b,R){return this.i.add(String(d),v,!0,b,R)};function Xt(d,v,b,R){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var $=!0,J=0;J<v.length;++J){var fe=v[J];if(fe&&!fe.da&&fe.capture==b){var et=fe.listener,Ht=fe.ha||fe.src;fe.fa&&_t(d.i,fe),$=et.call(Ht,R)!==!1&&$}}return $&&!R.defaultPrevented}function uo(d,v,b){if(typeof d=="function")b&&(d=E(d,b));else if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(d,v||0)}function ci(d){d.g=uo(()=>{d.g=null,d.i&&(d.i=!1,ci(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class sa extends be{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ci(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fi(d){be.call(this),this.h=d,this.g={}}w(fi,be);var Er=[];function Zt(d){se(d.g,function(v,b){this.g.hasOwnProperty(b)&&ee(v)},d),d.g={}}fi.prototype.N=function(){fi.aa.N.call(this),Zt(this)},fi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zi=f.JSON.stringify,kr=f.JSON.parse,An=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function Ml(){}Ml.prototype.h=null;function Gc(d){return d.h||(d.h=d.i())}function $c(){}var Vr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ji(){me.call(this,"d")}w(Ji,me);function br(){me.call(this,"c")}w(br,me);var Wn={},es=null;function co(){return es=es||new Ge}Wn.La="serverreachability";function kl(d){me.call(this,Wn.La,d)}w(kl,me);function ts(d){const v=co();Ke(v,new kl(v))}Wn.STAT_EVENT="statevent";function fo(d,v){me.call(this,Wn.STAT_EVENT,d),this.stat=v}w(fo,me);function xt(d){const v=co();Ke(v,new fo(v,d))}Wn.Ma="timingevent";function Kc(d,v){me.call(this,Wn.Ma,d),this.size=v}w(Kc,me);function ns(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},v)}function rs(){this.g=!0}rs.prototype.xa=function(){this.g=!1};function Wc(d,v,b,R,$,J){d.info(function(){if(d.g)if(J)for(var fe="",et=J.split("&"),Ht=0;Ht<et.length;Ht++){var tt=et[Ht].split("=");if(1<tt.length){var tn=tt[0];tt=tt[1];var qt=tn.split("_");fe=2<=qt.length&&qt[1]=="type"?fe+(tn+"="+tt+"&"):fe+(tn+"=redacted&")}}else fe=null;else fe=J;return"XMLHTTP REQ ("+R+") [attempt "+$+"]: "+v+`
`+b+`
`+fe})}function Yc(d,v,b,R,$,J,fe){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+$+"]: "+v+`
`+b+`
`+J+" "+fe})}function is(d,v,b,R){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Jt(d,b)+(R?" "+R:"")})}function Lr(d,v){d.info(function(){return"TIMEOUT: "+v})}rs.prototype.info=function(){};function Jt(d,v){if(!d.g)return v;if(!v)return null;try{var b=JSON.parse(v);if(b){for(d=0;d<b.length;d++)if(Array.isArray(b[d])){var R=b[d];if(!(2>R.length)){var $=R[1];if(Array.isArray($)&&!(1>$.length)){var J=$[0];if(J!="noop"&&J!="stop"&&J!="close")for(var fe=1;fe<$.length;fe++)$[fe]=""}}}}return Zi(b)}catch{return v}}var jt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},aa;function ho(){}w(ho,Ml),ho.prototype.g=function(){return new XMLHttpRequest},ho.prototype.i=function(){return{}},aa=new ho;function Ur(d,v,b,R){this.j=d,this.i=v,this.l=b,this.R=R||1,this.U=new fi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vl}function Vl(){this.i=null,this.g="",this.h=!1}var ss={},oa={};function Tr(d,v,b){d.L=1,d.v=ca(wt(v)),d.m=b,d.P=!0,hi(d,null)}function hi(d,v){d.F=Date.now(),bt(d),d.A=wt(d.v);var b=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),gi(b.i,"t",R),d.C=0,b=d.j.J,d.h=new Vl,d.g=cf(d.j,b?v:null,!d.m),0<d.O&&(d.M=new sa(E(d.Y,d,d.g),d.O)),v=d.U,b=d.g,R=d.ca;var $="readystatechange";Array.isArray($)||($&&(Er[0]=$.toString()),$=Er);for(var J=0;J<$.length;J++){var fe=Mr(b,$[J],R||v.handleEvent,!1,v.h||v);if(!fe)break;v.g[fe.key]=fe}v=d.H?I(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),ts(),Wc(d.i,d.u,d.A,d.l,d.R,d.m)}Ur.prototype.ca=function(d){d=d.target;const v=this.M;v&&Jn(d)==3?v.j():this.Y(d)},Ur.prototype.Y=function(d){try{if(d==this.g)e:{const qt=Jn(this.g);var v=this.g.Ba();const Ei=this.g.Z();if(!(3>qt)&&(qt!=3||this.g&&(this.h.h||this.g.oa()||tf(this.g)))){this.J||qt!=4||v==7||(v==8||0>=Ei?ts(3):ts(2)),po(this);var b=this.g.Z();this.X=b;t:if(as(this)){var R=tf(this.g);d="";var $=R.length,J=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xn(this),Vn(this);var fe="";break t}this.h.i=new f.TextDecoder}for(v=0;v<$;v++)this.h.h=!0,d+=this.h.i.decode(R[v],{stream:!(J&&v==$-1)});R.length=0,this.h.g+=d,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=b==200,Yc(this.i,this.u,this.A,this.l,this.R,qt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var et,Ht=this.g;if((et=Ht.g?Ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(et)){var tt=et;break t}}tt=null}if(b=tt)is(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ln(this,b);else{this.o=!1,this.s=3,xt(12),xn(this),Vn(this);break e}}if(this.P){b=!0;let cn;for(;!this.J&&this.C<fe.length;)if(cn=os(this,fe),cn==oa){qt==4&&(this.s=4,xt(14),b=!1),is(this.i,this.l,null,"[Incomplete Response]");break}else if(cn==ss){this.s=4,xt(15),is(this.i,this.l,fe,"[Invalid Chunk]"),b=!1;break}else is(this.i,this.l,cn,null),Ln(this,cn);if(as(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qt!=4||fe.length!=0||this.h.h||(this.s=1,xt(16),b=!1),this.o=this.o&&b,!b)is(this.i,this.l,fe,"[Invalid Chunked Response]"),xn(this),Vn(this);else if(0<fe.length&&!this.W){this.W=!0;var tn=this.j;tn.g==this&&tn.ba&&!tn.M&&(tn.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),ya(tn),tn.M=!0,xt(11))}}else is(this.i,this.l,fe,null),Ln(this,fe);qt==4&&xn(this),this.o&&!this.J&&(qt==4?of(this.j,this):(this.o=!1,bt(this)))}else up(this.g),b==400&&0<fe.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),xn(this),Vn(this)}}}catch{}finally{}};function as(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function os(d,v){var b=d.C,R=v.indexOf(`
`,b);return R==-1?oa:(b=Number(v.substring(b,R)),isNaN(b)?ss:(R+=1,R+b>v.length?oa:(v=v.slice(R,R+b),d.C=R+b,v)))}Ur.prototype.cancel=function(){this.J=!0,xn(this)};function bt(d){d.S=Date.now()+d.I,Ll(d,d.I)}function Ll(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=ns(E(d.ba,d),v)}function po(d){d.B&&(f.clearTimeout(d.B),d.B=null)}Ur.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Lr(this.i,this.A),this.L!=2&&(ts(),xt(17)),xn(this),this.s=2,Vn(this)):Ll(this,this.S-d)};function Vn(d){d.j.G==0||d.J||of(d.j,d)}function xn(d){po(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,Zt(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Ln(d,v){try{var b=d.j;if(b.G!=0&&(b.g==d||ls(b.h,d))){if(!d.K&&ls(b.h,d)&&b.G==3){try{var R=b.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var $=R;if($[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<d.F)Ao(b),To(b);else break e;Wl(b),xt(18)}}else b.za=$[1],0<b.za-b.T&&37500>$[2]&&b.F&&b.v==0&&!b.C&&(b.C=ns(E(b.Za,b),6e3));if(1>=Qc(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else _i(b,11)}else if((d.K||b.g==d)&&Ao(b),!F(v))for($=b.Da.g.parse(v),v=0;v<$.length;v++){let tt=$[v];if(b.T=tt[0],tt=tt[1],b.G==2)if(tt[0]=="c"){b.K=tt[1],b.ia=tt[2];const tn=tt[3];tn!=null&&(b.la=tn,b.j.info("VER="+b.la));const qt=tt[4];qt!=null&&(b.Aa=qt,b.j.info("SVER="+b.Aa));const Ei=tt[5];Ei!=null&&typeof Ei=="number"&&0<Ei&&(R=1.5*Ei,b.L=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const cn=d.g;if(cn){const Gr=cn.g?cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gr){var J=R.h;J.g||Gr.indexOf("spdy")==-1&&Gr.indexOf("quic")==-1&&Gr.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(us(J,J.h),J.h=null))}if(R.D){const Ql=cn.g?cn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ql&&(R.ya=Ql,st(R.I,R.D,Ql))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-d.F,b.j.info("Handshake RTT: "+b.R+"ms")),R=b;var fe=d;if(R.qa=uf(R,R.J?R.ia:null,R.W),fe.K){Yn(R.h,fe);var et=fe,Ht=R.L;Ht&&(et.I=Ht),et.B&&(po(et),bt(et)),R.g=fe}else sf(R);0<b.i.length&&So(b)}else tt[0]!="stop"&&tt[0]!="close"||_i(b,7);else b.G==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?_i(b,7):$l(b):tt[0]!="noop"&&b.l&&b.l.ta(tt),b.v=0)}}ts(4)}catch{}}var ip=class{constructor(d,v){this.g=d,this.map=v}};function Ul(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Qc(d){return d.h?1:d.g?d.g.size:0}function ls(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function us(d,v){d.g?d.g.add(v):d.h=v}function Yn(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Ul.prototype.cancel=function(){if(this.i=wn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function wn(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const b of d.g.values())v=v.concat(b.D);return v}return M(d.i)}function Xc(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(p(d)){for(var v=[],b=d.length,R=0;R<b;R++)v.push(d[R]);return v}v=[],b=0;for(R in d)v[b++]=d[R];return v}function sp(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(p(d)||typeof d=="string"){var v=[];d=d.length;for(var b=0;b<d;b++)v.push(b);return v}v=[],b=0;for(const R in d)v[b++]=R;return v}}}function la(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(p(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var b=sp(d),R=Xc(d),$=R.length,J=0;J<$;J++)v.call(void 0,R[J],b&&b[J],d)}var zl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mo(d,v){if(d){d=d.split("&");for(var b=0;b<d.length;b++){var R=d[b].indexOf("="),$=null;if(0<=R){var J=d[b].substring(0,R);$=d[b].substring(R+1)}else J=d[b];v(J,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function pi(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof pi){this.h=d.h,cs(this,d.j),this.o=d.o,this.g=d.g,ua(this,d.s),this.l=d.l;var v=d.i,b=new Br;b.i=v.i,v.g&&(b.g=new Map(v.g),b.h=v.h),go(this,b),this.m=d.m}else d&&(v=String(d).match(zl))?(this.h=!1,cs(this,v[1]||"",!0),this.o=fs(v[2]||""),this.g=fs(v[3]||"",!0),ua(this,v[4]),this.l=fs(v[5]||"",!0),go(this,v[6]||"",!0),this.m=fs(v[7]||"")):(this.h=!1,this.i=new Br(null,this.h))}pi.prototype.toString=function(){var d=[],v=this.j;v&&d.push(Qn(v,Fl,!0),":");var b=this.g;return(b||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Qn(v,Fl,!0),"@"),d.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&d.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&d.push("/"),d.push(Qn(b,b.charAt(0)=="/"?jl:Zc,!0))),(b=this.i.toString())&&d.push("?",b),(b=this.m)&&d.push("#",Qn(b,lp)),d.join("")};function wt(d){return new pi(d)}function cs(d,v,b){d.j=b?fs(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function ua(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function go(d,v,b){v instanceof Br?(d.i=v,Hl(d.i,d.h)):(b||(v=Qn(v,op)),d.i=new Br(v,d.h))}function st(d,v,b){d.i.set(v,b)}function ca(d){return st(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function fs(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Qn(d,v,b){return typeof d=="string"?(d=encodeURI(d).replace(v,ap),b&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function ap(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Fl=/[#\/\?@]/g,Zc=/[#\?:]/g,jl=/[#\?]/g,op=/[#\?@]/g,lp=/#/g;function Br(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Xn(d){d.g||(d.g=new Map,d.h=0,d.i&&mo(d.i,function(v,b){d.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}t=Br.prototype,t.add=function(d,v){Xn(this),this.i=null,d=yi(this,d);var b=this.g.get(d);return b||this.g.set(d,b=[]),b.push(v),this.h+=1,this};function yo(d,v){Xn(d),v=yi(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function mi(d,v){return Xn(d),v=yi(d,v),d.g.has(v)}t.forEach=function(d,v){Xn(this),this.g.forEach(function(b,R){b.forEach(function($){d.call(v,$,R,this)},this)},this)},t.na=function(){Xn(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),b=[];for(let R=0;R<v.length;R++){const $=d[R];for(let J=0;J<$.length;J++)b.push(v[R])}return b},t.V=function(d){Xn(this);let v=[];if(typeof d=="string")mi(this,d)&&(v=v.concat(this.g.get(yi(this,d))));else{d=Array.from(this.g.values());for(let b=0;b<d.length;b++)v=v.concat(d[b])}return v},t.set=function(d,v){return Xn(this),this.i=null,d=yi(this,d),mi(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},t.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function gi(d,v,b){yo(d,v),0<b.length&&(d.i=null,d.g.set(yi(d,v),M(b)),d.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var b=0;b<v.length;b++){var R=v[b];const J=encodeURIComponent(String(R)),fe=this.V(R);for(R=0;R<fe.length;R++){var $=J;fe[R]!==""&&($+="="+encodeURIComponent(String(fe[R]))),d.push($)}}return this.i=d.join("&")};function yi(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Hl(d,v){v&&!d.j&&(Xn(d),d.i=null,d.g.forEach(function(b,R){var $=R.toLowerCase();R!=$&&(yo(this,R),gi(this,$,b))},d)),d.j=v}function Jc(d,v){const b=new rs;if(f.Image){const R=new Image;R.onload=S(Zn,b,"TestLoadImage: loaded",!0,v,R),R.onerror=S(Zn,b,"TestLoadImage: error",!1,v,R),R.onabort=S(Zn,b,"TestLoadImage: abort",!1,v,R),R.ontimeout=S(Zn,b,"TestLoadImage: timeout",!1,v,R),f.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else v(!1)}function fa(d,v){const b=new rs,R=new AbortController,$=setTimeout(()=>{R.abort(),Zn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:R.signal}).then(J=>{clearTimeout($),J.ok?Zn(b,"TestPingServer: ok",!0,v):Zn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout($),Zn(b,"TestPingServer: error",!1,v)})}function Zn(d,v,b,R,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),R(b)}catch{}}function da(){this.g=new An}function zr(d,v,b){const R=b||"";try{la(d,function($,J){let fe=$;m($)&&(fe=Zi($)),v.push(R+J+"="+encodeURIComponent(fe))})}catch($){throw v.push(R+"type="+encodeURIComponent("_badmap")),$}}function ds(d){this.l=d.Ub||null,this.j=d.eb||!1}w(ds,Ml),ds.prototype.g=function(){return new vi(this.l,this.j)},ds.prototype.i=function(d){return function(){return d}}({});function vi(d,v){Ge.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(vi,Ge),t=vi.prototype,t.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,jr(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fr(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,jr(this)),this.g&&(this.readyState=3,jr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ql(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function ql(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Fr(this):jr(this),this.readyState==3&&ql(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Fr(this))},t.Qa=function(d){this.g&&(this.response=d,Fr(this))},t.ga=function(){this.g&&Fr(this)};function Fr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,jr(d)}t.setRequestHeader=function(d,v){this.u.append(d,v)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,d.push(b[0]+": "+b[1]),b=v.next();return d.join(`\r
`)};function jr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Gl(d){let v="";return se(d,function(b,R){v+=R,v+=":",v+=b,v+=`\r
`}),v}function en(d,v,b){e:{for(R in b){var R=!1;break e}R=!0}R||(b=Gl(b),typeof d=="string"?b!=null&&encodeURIComponent(String(b)):st(d,v,b))}function ut(d){Ge.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(ut,Ge);var vo=/^https?$/i,ha=["POST","PUT"];t=ut.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,v,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():aa.g(),this.v=this.o?Gc(this.o):Gc(aa),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(J){ef(this,J);return}if(d=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var $ in R)b.set($,R[$]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const J of R.keys())b.set(J,R.get(J));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find(J=>J.toLowerCase()=="content-type"),$=f.FormData&&d instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ha,v,void 0))||R||$||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,fe]of b)this.g.setRequestHeader(J,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pa(this),this.u=!0,this.g.send(d),this.u=!1}catch(J){ef(this,J)}};function ef(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,_o(d),Hr(d)}function _o(d){d.A||(d.A=!0,Ke(d,"complete"),Ke(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ke(this,"complete"),Ke(this,"abort"),Hr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hr(this,!0)),ut.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Eo(this):this.bb())},t.bb=function(){Eo(this)};function Eo(d){if(d.h&&typeof c<"u"&&(!d.v[1]||Jn(d)!=4||d.Z()!=2)){if(d.u&&Jn(d)==4)uo(d.Ea,0,d);else if(Ke(d,"readystatechange"),Jn(d)==4){d.h=!1;try{const fe=d.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var R;if(R=fe===0){var $=String(d.D).match(zl)[1]||null;!$&&f.self&&f.self.location&&($=f.self.location.protocol.slice(0,-1)),R=!vo.test($?$.toLowerCase():"")}b=R}if(b)Ke(d,"complete"),Ke(d,"success");else{d.m=6;try{var J=2<Jn(d)?d.g.statusText:""}catch{J=""}d.l=J+" ["+d.Z()+"]",_o(d)}}finally{Hr(d)}}}}function Hr(d,v){if(d.g){pa(d);const b=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||Ke(d,"ready");try{b.onreadystatechange=R}catch{}}}function pa(d){d.I&&(f.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Jn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),kr(v)}};function tf(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function up(d){const v={};d=(d.g&&2<=Jn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(F(d[R]))continue;var b=V(d[R]);const $=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const J=v[$]||[];v[$]=J,J.push(b)}P(v,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ma(d,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[d]||v}function bo(d){this.Aa=0,this.i=[],this.j=new rs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ma("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ma("baseRetryDelayMs",5e3,d),this.cb=ma("retryDelaySeedMs",1e4,d),this.Wa=ma("forwardChannelMaxRetries",2,d),this.wa=ma("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Ul(d&&d.concurrentRequestLimit),this.Da=new da,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=bo.prototype,t.la=8,t.G=1,t.connect=function(d,v,b,R){xt(0),this.W=d,this.H=v||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.I=uf(this,null,this.W),So(this)};function $l(d){if(nf(d),d.G==3){var v=d.U++,b=wt(d.I);if(st(b,"SID",d.K),st(b,"RID",v),st(b,"TYPE","terminate"),ga(d,b),v=new Ur(d,d.j,v),v.L=2,v.v=ca(wt(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!b&&f.Image&&(new Image().src=v.v,b=!0),b||(v.g=cf(v.j,null),v.g.ea(v.v)),v.F=Date.now(),bt(v)}lf(d)}function To(d){d.g&&(ya(d),d.g.cancel(),d.g=null)}function nf(d){To(d),d.u&&(f.clearTimeout(d.u),d.u=null),Ao(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&f.clearTimeout(d.s),d.s=null)}function So(d){if(!Bl(d.h)&&!d.s){d.s=!0;var v=d.Ga;Ee||B(),ve||(Ee(),ve=!0),je.add(v,d),d.B=0}}function cp(d,v){return Qc(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=ns(E(d.Ga,d,v),Yl(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const $=new Ur(this,this.j,d);let J=this.o;if(this.S&&(J?(J=I(J),O(J,this.S)):J=this.S),this.m!==null||this.O||($.H=J,J=null),this.P)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=rf(this,$,v),b=wt(this.I),st(b,"RID",d),st(b,"CVER",22),this.D&&st(b,"X-HTTP-Session-Id",this.D),ga(this,b),J&&(this.O?v="headers="+encodeURIComponent(String(Gl(J)))+"&"+v:this.m&&en(b,this.m,J)),us(this.h,$),this.Ua&&st(b,"TYPE","init"),this.P?(st(b,"$req",v),st(b,"SID","null"),$.T=!0,Tr($,b,null)):Tr($,b,v),this.G=2}}else this.G==3&&(d?Kl(this,d):this.i.length==0||Bl(this.h)||Kl(this))};function Kl(d,v){var b;v?b=v.l:b=d.U++;const R=wt(d.I);st(R,"SID",d.K),st(R,"RID",b),st(R,"AID",d.T),ga(d,R),d.m&&d.o&&en(R,d.m,d.o),b=new Ur(d,d.j,b,d.B+1),d.m===null&&(b.H=d.o),v&&(d.i=v.D.concat(d.i)),v=rf(d,b,1e3),b.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),us(d.h,b),Tr(b,R,v)}function ga(d,v){d.H&&se(d.H,function(b,R){st(v,R,b)}),d.l&&la({},function(b,R){st(v,R,b)})}function rf(d,v,b){b=Math.min(d.i.length,b);var R=d.l?E(d.l.Na,d.l,d):null;e:{var $=d.i;let J=-1;for(;;){const fe=["count="+b];J==-1?0<b?(J=$[0].g,fe.push("ofs="+J)):J=0:fe.push("ofs="+J);let et=!0;for(let Ht=0;Ht<b;Ht++){let tt=$[Ht].g;const tn=$[Ht].map;if(tt-=J,0>tt)J=Math.max(0,$[Ht].g-100),et=!1;else try{zr(tn,fe,"req"+tt+"_")}catch{R&&R(tn)}}if(et){R=fe.join("&");break e}}}return d=d.i.splice(0,b),v.D=d,R}function sf(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;Ee||B(),ve||(Ee(),ve=!0),je.add(v,d),d.v=0}}function Wl(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=ns(E(d.Fa,d),Yl(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,af(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=ns(E(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xt(10),To(this),af(this))};function ya(d){d.A!=null&&(f.clearTimeout(d.A),d.A=null)}function af(d){d.g=new Ur(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=wt(d.qa);st(v,"RID","rpc"),st(v,"SID",d.K),st(v,"AID",d.T),st(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&st(v,"TO",d.ja),st(v,"TYPE","xmlhttp"),ga(d,v),d.m&&d.o&&en(v,d.m,d.o),d.L&&(d.g.I=d.L);var b=d.g;d=d.ia,b.L=1,b.v=ca(wt(v)),b.m=null,b.P=!0,hi(b,d)}t.Za=function(){this.C!=null&&(this.C=null,To(this),Wl(this),xt(19))};function Ao(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function of(d,v){var b=null;if(d.g==v){Ao(d),ya(d),d.g=null;var R=2}else if(ls(d.h,v))b=v.D,Yn(d.h,v),R=1;else return;if(d.G!=0){if(v.o)if(R==1){b=v.m?v.m.length:0,v=Date.now()-v.F;var $=d.B;R=co(),Ke(R,new Kc(R,b)),So(d)}else sf(d);else if($=v.s,$==3||$==0&&0<v.X||!(R==1&&cp(d,v)||R==2&&Wl(d)))switch(b&&0<b.length&&(v=d.h,v.i=v.i.concat(b)),$){case 1:_i(d,5);break;case 4:_i(d,10);break;case 3:_i(d,6);break;default:_i(d,2)}}}function Yl(d,v){let b=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(b*=2),b*v}function _i(d,v){if(d.j.info("Error code "+v),v==2){var b=E(d.fb,d),R=d.Xa;const $=!R;R=new pi(R||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||cs(R,"https"),ca(R),$?Jc(R.toString(),b):fa(R.toString(),b)}else xt(2);d.G=0,d.l&&d.l.sa(v),lf(d),nf(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function lf(d){if(d.G=0,d.ka=[],d.l){const v=wn(d.h);(v.length!=0||d.i.length!=0)&&(D(d.ka,v),D(d.ka,d.i),d.h.i.length=0,M(d.i),d.i.length=0),d.l.ra()}}function uf(d,v,b){var R=b instanceof pi?wt(b):new pi(b);if(R.g!="")v&&(R.g=v+"."+R.g),ua(R,R.s);else{var $=f.location;R=$.protocol,v=v?v+"."+$.hostname:$.hostname,$=+$.port;var J=new pi(null);R&&cs(J,R),v&&(J.g=v),$&&ua(J,$),b&&(J.l=b),R=J}return b=d.D,v=d.ya,b&&v&&st(R,b,v),st(R,"VER",d.la),ga(d,R),R}function cf(d,v,b){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new ut(new ds({eb:b})):new ut(d.pa),v.Ha(d.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ff(){}t=ff.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function wo(){}wo.prototype.g=function(d,v){return new Rn(d,v)};function Rn(d,v){Ge.call(this),this.g=new bo(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!F(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!F(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new qr(this)}w(Rn,Ge),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){$l(this.g)},Rn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var b={};b.__data__=d,d=b}else this.u&&(b={},b.__data__=Zi(d),d=b);v.i.push(new ip(v.Ya++,d)),v.G==3&&So(v)},Rn.prototype.N=function(){this.g.l=null,delete this.j,$l(this.g),delete this.g,Rn.aa.N.call(this)};function df(d){Ji.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const b in v){d=b;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}w(df,Ji);function hf(){br.call(this),this.status=1}w(hf,br);function qr(d){this.g=d}w(qr,ff),qr.prototype.ua=function(){Ke(this.g,"a")},qr.prototype.ta=function(d){Ke(this.g,new df(d))},qr.prototype.sa=function(d){Ke(this.g,new hf)},qr.prototype.ra=function(){Ke(this.g,"b")},wo.prototype.createWebChannel=wo.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,ZR=function(){return new wo},XR=function(){return co()},QR=Wn,fy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jt.NO_ERROR=0,jt.TIMEOUT=8,jt.HTTP_ERROR=6,Md=jt,di.COMPLETE="complete",YR=di,$c.EventType=Vr,Vr.OPEN="a",Vr.CLOSE="b",Vr.ERROR="c",Vr.MESSAGE="d",Ge.prototype.listen=Ge.prototype.K,Yu=$c,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,WR=ut}).apply(typeof _d<"u"?_d:typeof self<"u"?self:typeof window<"u"?window:{});const ZT="@firebase/firestore",JT="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ol="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=new cv("@firebase/firestore");function nl(){return eo.logLevel}function ye(t,...e){if(eo.logLevel<=Ye.DEBUG){const n=e.map(Sv);eo.debug(`Firestore (${Ol}): ${t}`,...n)}}function Yi(t,...e){if(eo.logLevel<=Ye.ERROR){const n=e.map(Sv);eo.error(`Firestore (${Ol}): ${t}`,...n)}}function gl(t,...e){if(eo.logLevel<=Ye.WARN){const n=e.map(Sv);eo.warn(`Firestore (${Ol}): ${t}`,...n)}}function Sv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(t="Unexpected state"){const e=`FIRESTORE (${Ol}) INTERNAL ASSERTION FAILED: `+t;throw Yi(e),new Error(e)}function ft(t,e){t||Pe()}function Le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends Xi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bn.UNAUTHENTICATED))}shutdown(){}}class nB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class rB{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ft(this.o===void 0);let i=this.i;const a=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let l=new Ks;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ks,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},f=p=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ks)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ft(typeof i.accessToken=="string"),new JR(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string"),new bn(e)}}class iB{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class sB{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new iB(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class eS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aB{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,dr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){ft(this.o===void 0);const i=l=>{l.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new eS(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ft(typeof n.token=="string"),this.R=n.token,new eS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=oB(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function Je(t,e){return t<e?-1:t>e?1:0}function yl(t,e,n){return t.length===e.length&&t.every((i,a)=>n(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=-62135596800,nS=1e6;class Yt{static now(){return Yt.fromMillis(Date.now())}static fromDate(e){return Yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*nS);return new Yt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ce(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ce(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<tS)throw new Ce(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nS}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-tS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Yt(0,0))}static max(){return new ke(new Yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="__name__";class Jr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Pe(),i===void 0?i=e.length-n:i>e.length-n&&Pe(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Jr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=Jr.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Math.sign(e.length-n.length)}static compareSegments(e,n){const i=Jr.isNumericId(e),a=Jr.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Jr.extractNumericId(e).compare(Jr.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $s.fromString(e.substring(4,e.length-2))}}class Dt extends Jr{construct(e,n,i){return new Dt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ce(le.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(a=>a.length>0))}return new Dt(n)}static emptyPath(){return new Dt([])}}const lB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends Jr{construct(e,n,i){return new mn(e,n,i)}static isValidIdentifier(e){return lB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rS}static keyField(){return new mn([rS])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new Ce(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new Ce(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ce(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(i+=f,a++):(l(),a++)}if(l(),c)throw new Ce(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(n)}static emptyPath(){return new mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Dt.fromString(e))}static fromName(e){return new Ie(Dt.fromString(e).popFirst(5))}static empty(){return new Ie(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Dt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=-1;function uB(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=ke.fromTimestamp(i===1e9?new Yt(n+1,0):new Yt(n,i));return new Ys(a,Ie.empty(),e)}function cB(t){return new Ys(t.readTime,t.key,bc)}class Ys{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ys(ke.min(),Ie.empty(),bc)}static max(){return new Ys(ke.max(),Ie.empty(),bc)}}function fB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:Je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==dB)throw t;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.reject(n)}static resolve(e){return new ie((n,i)=>{n(e)})}static reject(e){return new ie((n,i)=>{i(e)})}static waitFor(e){return new ie((n,i)=>{let a=0,l=0,c=!1;e.forEach(f=>{++a,f.next(()=>{++l,c&&l===a&&n()},p=>i(p))}),c=!0,l===a&&n()})}static or(e){let n=ie.resolve(!1);for(const i of e)n=n.next(a=>a?ie.resolve(a):i());return n}static forEach(e,n){const i=[];return e.forEach((a,l)=>{i.push(n.call(this,a,l))}),this.waitFor(i)}static mapArray(e,n){return new ie((i,a)=>{const l=e.length,c=new Array(l);let f=0;for(let p=0;p<l;p++){const m=p;n(e[m]).next(y=>{c[m]=y,++f,f===l&&i(c)},y=>a(y))}})}static doWhile(e,n){return new ie((i,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):i()};l()})}}function pB(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Nl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}qh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=-1;function Gh(t){return t==null}function ch(t){return t===0&&1/t==-1/0}function mB(t){return typeof t=="number"&&Number.isInteger(t)&&!ch(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="";function gB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=iS(e)),e=yB(t.get(n),e);return iS(e)}function yB(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case tC:n+="";break;default:n+=l}}return n}function iS(t){return t+tC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function io(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new At(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ed(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ed(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ed(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ed(this.root,e,this.comparator,!0)}}class Ed{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??pn.RED,this.left=a??pn.EMPTY,this.right=l??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new pn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return pn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pe();const e=this.left.check();if(e!==this.right.check())throw Pe();return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe()}get value(){throw Pe()}get color(){throw Pe()}get left(){throw Pe()}get right(){throw Pe()}copy(e,n,i,a,l){return this}insert(e,n,i){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new aS(this.data.getIterator())}getIteratorFrom(e){return new aS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qt(this.comparator);return n.data=e,n}}class aS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new Or([])}unionWith(e){let n=new Qt(mn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Or(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yl(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new rC("Invalid base64 string: "+l):l}}(e);return new yn(n)}static fromUint8Array(e){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const vB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qs(t){if(ft(!!t),typeof t=="string"){let e=0;const n=vB.exec(t);if(ft(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Pt(t.seconds),nanos:Pt(t.nanos)}}function Pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xs(t){return typeof t=="string"?yn.fromBase64String(t):yn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="server_timestamp",sC="__type__",aC="__previous_value__",oC="__local_write_time__";function wv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[sC])===null||n===void 0?void 0:n.stringValue)===iC}function $h(t){const e=t.mapValue.fields[aC];return wv(e)?$h(e):e}function Tc(t){const e=Qs(t.mapValue.fields[oC].timestampValue);return new Yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(e,n,i,a,l,c,f,p,m){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=m}}const fh="(default)";class Sc{constructor(e,n){this.projectId=e,this.database=n||fh}static empty(){return new Sc("","")}get isDefaultDatabase(){return this.database===fh}isEqual(e){return e instanceof Sc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="__type__",EB="__max__",bd={mapValue:{}},uC="__vector__",dh="value";function Zs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wv(t)?4:TB(t)?9007199254740991:bB(t)?10:11:Pe()}function oi(t,e){if(t===e)return!0;const n=Zs(t);if(n!==Zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tc(t).isEqual(Tc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Qs(a.timestampValue),f=Qs(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return Xs(a.bytesValue).isEqual(Xs(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return Pt(a.geoPointValue.latitude)===Pt(l.geoPointValue.latitude)&&Pt(a.geoPointValue.longitude)===Pt(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Pt(a.integerValue)===Pt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Pt(a.doubleValue),f=Pt(l.doubleValue);return c===f?ch(c)===ch(f):isNaN(c)&&isNaN(f)}return!1}(t,e);case 9:return yl(t.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(sS(c)!==sS(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!oi(c[p],f[p])))return!1;return!0}(t,e);default:return Pe()}}function Ac(t,e){return(t.values||[]).find(n=>oi(n,e))!==void 0}function vl(t,e){if(t===e)return 0;const n=Zs(t),i=Zs(e);if(n!==i)return Je(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return function(l,c){const f=Pt(l.integerValue||l.doubleValue),p=Pt(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(t,e);case 3:return oS(t.timestampValue,e.timestampValue);case 4:return oS(Tc(t),Tc(e));case 5:return Je(t.stringValue,e.stringValue);case 6:return function(l,c){const f=Xs(l),p=Xs(c);return f.compareTo(p)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),p=c.split("/");for(let m=0;m<f.length&&m<p.length;m++){const y=Je(f[m],p[m]);if(y!==0)return y}return Je(f.length,p.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const f=Je(Pt(l.latitude),Pt(c.latitude));return f!==0?f:Je(Pt(l.longitude),Pt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return lS(t.arrayValue,e.arrayValue);case 10:return function(l,c){var f,p,m,y;const _=l.fields||{},E=c.fields||{},S=(f=_[dh])===null||f===void 0?void 0:f.arrayValue,w=(p=E[dh])===null||p===void 0?void 0:p.arrayValue,M=Je(((m=S==null?void 0:S.values)===null||m===void 0?void 0:m.length)||0,((y=w==null?void 0:w.values)===null||y===void 0?void 0:y.length)||0);return M!==0?M:lS(S,w)}(t.mapValue,e.mapValue);case 11:return function(l,c){if(l===bd.mapValue&&c===bd.mapValue)return 0;if(l===bd.mapValue)return 1;if(c===bd.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),m=c.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let _=0;_<p.length&&_<y.length;++_){const E=Je(p[_],y[_]);if(E!==0)return E;const S=vl(f[p[_]],m[y[_]]);if(S!==0)return S}return Je(p.length,y.length)}(t.mapValue,e.mapValue);default:throw Pe()}}function oS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);const n=Qs(t),i=Qs(e),a=Je(n.seconds,i.seconds);return a!==0?a:Je(n.nanos,i.nanos)}function lS(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=vl(n[a],i[a]);if(l)return l}return Je(n.length,i.length)}function _l(t){return dy(t)}function dy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Qs(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Xs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=dy(l);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${dy(n.fields[c])}`;return a+"}"}(t.mapValue):Pe()}function kd(t){switch(Zs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$h(t);return e?16+kd(e):16;case 5:return 2*t.stringValue.length;case 6:return Xs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+kd(l),0)}(t.arrayValue);case 10:case 11:return function(i){let a=0;return io(i.fields,(l,c)=>{a+=l.length+kd(c)}),a}(t.mapValue);default:throw Pe()}}function hy(t){return!!t&&"integerValue"in t}function Rv(t){return!!t&&"arrayValue"in t}function uS(t){return!!t&&"nullValue"in t}function cS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vd(t){return!!t&&"mapValue"in t}function bB(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[lC])===null||n===void 0?void 0:n.stringValue)===uC}function tc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return io(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=tc(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function TB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===EB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.value=e}static empty(){return new hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Vd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tc(n)}setAll(e){let n=mn.emptyPath(),i={},a=[];e.forEach((c,f)=>{if(!n.isImmediateParentOf(f)){const p=this.getFieldsMap(n);this.applyChanges(p,i,a),i={},a=[],n=f.popLast()}c?i[f.lastSegment()]=tc(c):a.push(f.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Vd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Vd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){io(n,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new hr(tc(this.value))}}function cC(t){const e=[];return io(t.fields,(n,i)=>{const a=new mn([n]);if(Vd(i)){const l=cC(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,n,i,a,l,c,f){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Tn(e,0,ke.min(),ke.min(),ke.min(),hr.empty(),0)}static newFoundDocument(e,n,i,a){return new Tn(e,1,n,ke.min(),i,a,0)}static newNoDocument(e,n){return new Tn(e,2,n,ke.min(),ke.min(),hr.empty(),0)}static newUnknownDocument(e,n){return new Tn(e,3,n,ke.min(),ke.min(),hr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n){this.position=e,this.inclusive=n}}function fS(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=Ie.comparator(Ie.fromName(c.referenceValue),n.key):i=vl(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function dS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!oi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n="asc"){this.field=e,this.dir=n}}function SB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{}class Wt extends fC{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new wB(e,n,i):n==="array-contains"?new IB(e,i):n==="in"?new DB(e,i):n==="not-in"?new OB(e,i):n==="array-contains-any"?new xB(e,i):new Wt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new RB(e,i):new CB(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(vl(n,this.value)):n!==null&&Zs(this.value)===Zs(n)&&this.matchesComparison(vl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends fC{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new li(e,n)}matches(e){return dC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function dC(t){return t.op==="and"}function hC(t){return AB(t)&&dC(t)}function AB(t){for(const e of t.filters)if(e instanceof li)return!1;return!0}function py(t){if(t instanceof Wt)return t.field.canonicalString()+t.op.toString()+_l(t.value);if(hC(t))return t.filters.map(e=>py(e)).join(",");{const e=t.filters.map(n=>py(n)).join(",");return`${t.op}(${e})`}}function pC(t,e){return t instanceof Wt?function(i,a){return a instanceof Wt&&i.op===a.op&&i.field.isEqual(a.field)&&oi(i.value,a.value)}(t,e):t instanceof li?function(i,a){return a instanceof li&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,f)=>l&&pC(c,a.filters[f]),!0):!1}(t,e):void Pe()}function mC(t){return t instanceof Wt?function(n){return`${n.field.canonicalString()} ${n.op} ${_l(n.value)}`}(t):t instanceof li?function(n){return n.op.toString()+" {"+n.getFilters().map(mC).join(" ,")+"}"}(t):"Filter"}class wB extends Wt{constructor(e,n,i){super(e,n,i),this.key=Ie.fromName(i.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class RB extends Wt{constructor(e,n){super(e,"in",n),this.keys=gC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class CB extends Wt{constructor(e,n){super(e,"not-in",n),this.keys=gC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function gC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Ie.fromName(i.referenceValue))}class IB extends Wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rv(n)&&Ac(n.arrayValue,this.value)}}class DB extends Wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ac(this.value.arrayValue,n)}}class OB extends Wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ac(this.value.arrayValue,n)}}class xB extends Wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Ac(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e,n=null,i=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.le=null}}function hS(t,e=null,n=[],i=[],a=null,l=null,c=null){return new NB(t,e,n,i,a,l,c)}function Cv(t){const e=Le(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>py(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Gh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>_l(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>_l(i)).join(",")),e.le=n}return e.le}function Iv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!SB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!pC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!dS(t.startAt,e.startAt)&&dS(t.endAt,e.endAt)}function my(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n=null,i=[],a=[],l=null,c="F",f=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function PB(t,e,n,i,a,l,c,f){return new Kh(t,e,n,i,a,l,c,f)}function Dv(t){return new Kh(t)}function pS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function MB(t){return t.collectionGroup!==null}function nc(t){const e=Le(t);if(e.he===null){e.he=[];const n=new Set;for(const l of e.explicitOrderBy)e.he.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Qt(mn.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.he.push(new ph(l,i))}),n.has(mn.keyField().canonicalString())||e.he.push(new ph(mn.keyField(),i))}return e.he}function si(t){const e=Le(t);return e.Pe||(e.Pe=kB(e,nc(t))),e.Pe}function kB(t,e){if(t.limitType==="F")return hS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new ph(a.field,l)});const n=t.endAt?new hh(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new hh(t.startAt.position,t.startAt.inclusive):null;return hS(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function gy(t,e,n){return new Kh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wh(t,e){return Iv(si(t),si(e))&&t.limitType===e.limitType}function yC(t){return`${Cv(si(t))}|lt:${t.limitType}`}function rl(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(a=>mC(a)).join(", ")}]`),Gh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(a=>_l(a)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(a=>_l(a)).join(",")),`Target(${i})`}(si(t))}; limitType=${t.limitType})`}function Yh(t,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ie.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(t,e)&&function(i,a){for(const l of nc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(i,a){return!(i.startAt&&!function(c,f,p){const m=fS(c,f,p);return c.inclusive?m<=0:m<0}(i.startAt,nc(i),a)||i.endAt&&!function(c,f,p){const m=fS(c,f,p);return c.inclusive?m>=0:m>0}(i.endAt,nc(i),a))}(t,e)}function VB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vC(t){return(e,n)=>{let i=!1;for(const a of nc(t)){const l=LB(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function LB(t,e,n){const i=t.field.isKeyField()?Ie.comparator(e.key,n.key):function(l,c,f){const p=c.data.field(l),m=f.data.field(l);return p!==null&&m!==null?vl(p,m):Pe()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){io(this.inner,(n,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return nC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB=new At(Ie.comparator);function Qi(){return UB}const _C=new At(Ie.comparator);function Qu(...t){let e=_C;for(const n of t)e=e.insert(n.key,n);return e}function EC(t){let e=_C;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Ga(){return rc()}function bC(){return rc()}function rc(){return new so(t=>t.toString(),(t,e)=>t.isEqual(e))}const BB=new At(Ie.comparator),zB=new Qt(Ie.comparator);function Qe(...t){let e=zB;for(const n of t)e=e.add(n);return e}const FB=new Qt(Je);function jB(){return FB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function TC(t){return{integerValue:""+t}}function HB(t,e){return mB(e)?TC(e):Ov(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(){this._=void 0}}function qB(t,e,n){return t instanceof mh?function(a,l){const c={fields:{[sC]:{stringValue:iC},[oC]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&wv(l)&&(l=$h(l)),l&&(c.fields[aC]=l),{mapValue:c}}(n,e):t instanceof wc?AC(t,e):t instanceof Rc?wC(t,e):function(a,l){const c=SC(a,l),f=mS(c)+mS(a.Ie);return hy(c)&&hy(a.Ie)?TC(f):Ov(a.serializer,f)}(t,e)}function GB(t,e,n){return t instanceof wc?AC(t,e):t instanceof Rc?wC(t,e):n}function SC(t,e){return t instanceof gh?function(i){return hy(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class mh extends Qh{}class wc extends Qh{constructor(e){super(),this.elements=e}}function AC(t,e){const n=RC(e);for(const i of t.elements)n.some(a=>oi(a,i))||n.push(i);return{arrayValue:{values:n}}}class Rc extends Qh{constructor(e){super(),this.elements=e}}function wC(t,e){let n=RC(e);for(const i of t.elements)n=n.filter(a=>!oi(a,i));return{arrayValue:{values:n}}}class gh extends Qh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function mS(t){return Pt(t.integerValue||t.doubleValue)}function RC(t){return Rv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function $B(t,e){return t.field.isEqual(e.field)&&function(i,a){return i instanceof wc&&a instanceof wc||i instanceof Rc&&a instanceof Rc?yl(i.elements,a.elements,oi):i instanceof gh&&a instanceof gh?oi(i.Ie,a.Ie):i instanceof mh&&a instanceof mh}(t.transform,e.transform)}class KB{constructor(e,n){this.version=e,this.transformResults=n}}class Hi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hi}static exists(e){return new Hi(void 0,e)}static updateTime(e){return new Hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ld(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xh{}function CC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new DC(t.key,Hi.none()):new zc(t.key,t.data,Hi.none());{const n=t.data,i=hr.empty();let a=new Qt(mn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new ao(t.key,i,new Or(a.toArray()),Hi.none())}}function WB(t,e,n){t instanceof zc?function(a,l,c){const f=a.value.clone(),p=yS(a.fieldTransforms,l,c.transformResults);f.setAll(p),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(t,e,n):t instanceof ao?function(a,l,c){if(!Ld(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=yS(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(IC(a)),p.setAll(f),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(t,e,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function ic(t,e,n,i){return t instanceof zc?function(l,c,f,p){if(!Ld(l.precondition,c))return f;const m=l.value.clone(),y=vS(l.fieldTransforms,p,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(t,e,n,i):t instanceof ao?function(l,c,f,p){if(!Ld(l.precondition,c))return f;const m=vS(l.fieldTransforms,p,c),y=c.data;return y.setAll(IC(l)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(t,e,n,i):function(l,c,f){return Ld(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(t,e,n)}function YB(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=SC(i.transform,a||null);l!=null&&(n===null&&(n=hr.empty()),n.set(i.field,l))}return n||null}function gS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&yl(i,a,(l,c)=>$B(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zc extends Xh{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ao extends Xh{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function IC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function yS(t,e,n){const i=new Map;ft(t.length===n.length);for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,f=e.data.field(l.field);i.set(l.field,GB(c,f,n[a]))}return i}function vS(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,qB(l,c,e))}return i}class DC extends Xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QB extends Xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&WB(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=ic(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=ic(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=bC();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const p=CC(c,f);p!==null&&i.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(ke.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qe())}isEqual(e){return this.batchId===e.batchId&&yl(this.mutations,e.mutations,(n,i)=>gS(n,i))&&yl(this.baseMutations,e.baseMutations,(n,i)=>gS(n,i))}}class xv{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){ft(e.mutations.length===i.length);let a=function(){return BB}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new xv(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,rt;function e9(t){switch(t){case le.OK:return Pe();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Pe()}}function OC(t){if(t===void 0)return Yi("GRPC error has no .code"),le.UNKNOWN;switch(t){case Ut.OK:return le.OK;case Ut.CANCELLED:return le.CANCELLED;case Ut.UNKNOWN:return le.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return le.INTERNAL;case Ut.UNAVAILABLE:return le.UNAVAILABLE;case Ut.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Ut.NOT_FOUND:return le.NOT_FOUND;case Ut.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Ut.ABORTED:return le.ABORTED;case Ut.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Ut.DATA_LOSS:return le.DATA_LOSS;default:return Pe()}}(rt=Ut||(Ut={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9=new $s([4294967295,4294967295],0);function _S(t){const e=t9().encode(t),n=new KR;return n.update(e),new Uint8Array(n.digest())}function ES(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new $s([n,i],0),new $s([a,l],0)]}class Nv{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Xu(`Invalid padding: ${n}`);if(i<0)throw new Xu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Xu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Xu(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=$s.fromNumber(this.Ee)}Ae(e,n,i){let a=e.add(n.multiply($s.fromNumber(i)));return a.compare(n9)===1&&(a=new $s([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=_S(e),[i,a]=ES(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);if(!this.Re(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Nv(l,a,n);return i.forEach(f=>c.insert(f)),c}insert(e){if(this.Ee===0)return;const n=_S(e),[i,a]=ES(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);this.Ve(c)}}Ve(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Xu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Fc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Zh(ke.min(),a,new At(Je),Qi(),Qe())}}class Fc{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Fc(i,n,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n,i,a){this.me=e,this.removedTargetIds=n,this.key=i,this.fe=a}}class xC{constructor(e,n){this.targetId=e,this.ge=n}}class NC{constructor(e,n,i=yn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class bS{constructor(){this.pe=0,this.ye=TS(),this.we=yn.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Qe(),n=Qe(),i=Qe();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Pe()}}),new Fc(this.we,this.be,e,n,i)}Me(){this.Se=!1,this.ye=TS()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,ft(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class r9{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Qi(),this.$e=Td(),this.Ke=Td(),this.Ue=new At(Je)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const i=this.He(n);switch(e.state){case 0:this.Je(n)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(e.resumeToken));break;default:Pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((i,a)=>{this.Je(a)&&n(a)})}Ze(e){const n=e.targetId,i=e.ge.count,a=this.Xe(n);if(a){const l=a.target;if(my(l))if(i===0){const c=new Ie(l.path);this.ze(n,c,Tn.newNoDocument(c,ke.min()))}else ft(i===1);else{const c=this.et(n);if(c!==i){const f=this.tt(e),p=f?this.nt(f,e,c):1;if(p!==0){this.Ye(n);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,m)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=Xs(i).toUint8Array()}catch(p){if(p instanceof rC)return gl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Nv(c,a,l)}catch(p){return gl(p instanceof Xu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Ee===0?null:f}nt(e,n,i){return n.ge.count===i-this.st(e,n.targetId)?0:2}st(e,n){const i=this.ke.getRemoteKeysForTarget(n);let a=0;return i.forEach(l=>{const c=this.ke.it(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.ze(n,l,null),a++)}),a}ot(e){const n=new Map;this.qe.forEach((l,c)=>{const f=this.Xe(c);if(f){if(l.current&&my(f.target)){const p=new Ie(f.target.path);this._t(p).has(c)||this.ut(c,p)||this.ze(c,p,Tn.newNoDocument(p,e))}l.ve&&(n.set(c,l.Fe()),l.Me())}});let i=Qe();this.Ke.forEach((l,c)=>{let f=!0;c.forEachWhile(p=>{const m=this.Xe(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const a=new Zh(e,n,this.Ue,this.Qe,i);return this.Qe=Qi(),this.$e=Td(),this.Ke=Td(),this.Ue=new At(Je),a}Ge(e,n){if(!this.Je(e))return;const i=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,i){if(!this.Je(e))return;const a=this.He(e);this.ut(e,n)?a.xe(n,1):a.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new bS,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Qt(Je),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Qt(Je),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new bS),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Td(){return new At(Ie.comparator)}function TS(){return new At(Ie.comparator)}const i9={asc:"ASCENDING",desc:"DESCENDING"},s9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},a9={and:"AND",or:"OR"};class o9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yy(t,e){return t.useProto3Json||Gh(e)?e:{value:e}}function yh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function l9(t,e){return yh(t,e.toTimestamp())}function ai(t){return ft(!!t),ke.fromTimestamp(function(n){const i=Qs(n);return new Yt(i.seconds,i.nanos)}(t))}function Pv(t,e){return vy(t,e).canonicalString()}function vy(t,e){const n=function(a){return new Dt(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function MC(t){const e=Dt.fromString(t);return ft(BC(e)),e}function _y(t,e){return Pv(t.databaseId,e.path)}function Pg(t,e){const n=MC(e);if(n.get(1)!==t.databaseId.projectId)throw new Ce(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ce(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(VC(n))}function kC(t,e){return Pv(t.databaseId,e)}function u9(t){const e=MC(t);return e.length===4?Dt.emptyPath():VC(e)}function Ey(t){return new Dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function VC(t){return ft(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function SS(t,e,n){return{name:_y(t,e),fields:n.value.mapValue.fields}}function c9(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(m,y){return m.useProto3Json?(ft(y===void 0||typeof y=="string"),yn.fromBase64String(y||"")):(ft(y===void 0||y instanceof Buffer||y instanceof Uint8Array),yn.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(m){const y=m.code===void 0?le.UNKNOWN:OC(m.code);return new Ce(y,m.message||"")}(c);n=new NC(i,a,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Pg(t,i.document.name),l=ai(i.document.updateTime),c=i.document.createTime?ai(i.document.createTime):ke.min(),f=new hr({mapValue:{fields:i.document.fields}}),p=Tn.newFoundDocument(a,l,c,f),m=i.targetIds||[],y=i.removedTargetIds||[];n=new Ud(m,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Pg(t,i.document),l=i.readTime?ai(i.readTime):ke.min(),c=Tn.newNoDocument(a,l),f=i.removedTargetIds||[];n=new Ud([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Pg(t,i.document),l=i.removedTargetIds||[];n=new Ud([],l,a,null)}else{if(!("filter"in e))return Pe();{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new JB(a,l),f=i.targetId;n=new xC(f,c)}}return n}function f9(t,e){let n;if(e instanceof zc)n={update:SS(t,e.key,e.value)};else if(e instanceof DC)n={delete:_y(t,e.key)};else if(e instanceof ao)n={update:SS(t,e.key,e.data),updateMask:E9(e.fieldMask)};else{if(!(e instanceof QB))return Pe();n={verify:_y(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const f=c.transform;if(f instanceof mh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof wc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Rc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof gh)return{fieldPath:c.field.canonicalString(),increment:f.Ie};throw Pe()}(0,i))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:l9(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Pe()}(t,e.precondition)),n}function d9(t,e){return t&&t.length>0?(ft(e!==void 0),t.map(n=>function(a,l){let c=a.updateTime?ai(a.updateTime):ai(l);return c.isEqual(ke.min())&&(c=ai(l)),new KB(c,a.transformResults||[])}(n,e))):[]}function h9(t,e){return{documents:[kC(t,e.path)]}}function p9(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=kC(t,a);const l=function(m){if(m.length!==0)return UC(li.create(m,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const c=function(m){if(m.length!==0)return m.map(y=>function(E){return{field:il(E.field),direction:y9(E.dir)}}(y))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=yy(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:n,parent:a}}function m9(t){let e=u9(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){ft(i===1);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=function(_){const E=LC(_);return E instanceof li&&hC(E)?E.getFilters():[E]}(n.where));let c=[];n.orderBy&&(c=function(_){return _.map(E=>function(w){return new ph(sl(w.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(E))}(n.orderBy));let f=null;n.limit&&(f=function(_){let E;return E=typeof _=="object"?_.value:_,Gh(E)?null:E}(n.limit));let p=null;n.startAt&&(p=function(_){const E=!!_.before,S=_.values||[];return new hh(S,E)}(n.startAt));let m=null;return n.endAt&&(m=function(_){const E=!_.before,S=_.values||[];return new hh(S,E)}(n.endAt)),PB(e,a,c,l,f,"F",p,m)}function g9(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function LC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=sl(n.unaryFilter.field);return Wt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=sl(n.unaryFilter.field);return Wt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=sl(n.unaryFilter.field);return Wt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=sl(n.unaryFilter.field);return Wt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Pe()}}(t):t.fieldFilter!==void 0?function(n){return Wt.create(sl(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return li.create(n.compositeFilter.filters.map(i=>LC(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Pe()}}(n.compositeFilter.op))}(t):Pe()}function y9(t){return i9[t]}function v9(t){return s9[t]}function _9(t){return a9[t]}function il(t){return{fieldPath:t.canonicalString()}}function sl(t){return mn.fromServerFormat(t.fieldPath)}function UC(t){return t instanceof Wt?function(n){if(n.op==="=="){if(cS(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NAN"}};if(uS(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(cS(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NOT_NAN"}};if(uS(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:il(n.field),op:v9(n.op),value:n.value}}}(t):t instanceof li?function(n){const i=n.getFilters().map(a=>UC(a));return i.length===1?i[0]:{compositeFilter:{op:_9(n.op),filters:i}}}(t):Pe()}function E9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function BC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n,i,a,l=ke.min(),c=ke.min(),f=yn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e){this.Tt=e}}function T9(t){const e=m9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(){this.Tn=new A9}addToCollectionParentIndex(e,n){return this.Tn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Ys.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Ys.min())}updateCollectionGroup(e,n,i){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class A9{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Qt(Dt.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Qt(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zC=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(zC,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new El(0)}static Un(){return new El(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="LruGarbageCollector",w9=1048576;function RS([t,e],[n,i]){const a=Je(t,n);return a===0?Je(e,i):a}class R9{constructor(e){this.Hn=e,this.buffer=new Qt(RS),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();RS(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class C9{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ye(wS,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Nl(n)?ye(wS,"Ignoring IndexedDB error during garbage collection: ",n):await xl(n)}await this.er(3e5)})}}class I9{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(qh.ae);const i=new R9(n);return this.tr.forEachTarget(e,a=>i.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>i.Zn(a))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.tr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(AS)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AS):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let i,a,l,c,f,p,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(i=_,f=Date.now(),this.removeTargets(e,i,n))).next(_=>(l=_,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(_=>(m=Date.now(),nl()<=Ye.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${_} documents in `+(m-p)+`ms
Total Duration: ${m-y}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function D9(t,e){return new I9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(){this.changes=new so(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ie.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(i!==null&&ic(i.mutation,a,Or.empty(),Yt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Qe()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Qe()){const a=Ga();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,i).next(l=>{let c=Qu();return l.forEach((f,p)=>{c=c.insert(f,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const i=Ga();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Qe()))}populateOverlays(e,n,i){const a=[];return i.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,f)=>{n.set(c,f)})})}computeViews(e,n,i,a){let l=Qi();const c=rc(),f=function(){return rc()}();return n.forEach((p,m)=>{const y=i.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof ao)?l=l.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),ic(y.mutation,m,y.mutation.getFieldMask(),Yt.now())):c.set(m.key,Or.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((m,y)=>c.set(m,y)),n.forEach((m,y)=>{var _;return f.set(m,new x9(y,(_=c.get(m))!==null&&_!==void 0?_:null))}),f))}recalculateAndSaveOverlays(e,n){const i=rc();let a=new At((c,f)=>c-f),l=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const f of c)f.keys().forEach(p=>{const m=n.get(p);if(m===null)return;let y=i.get(p)||Or.empty();y=f.applyToLocalView(m,y),i.set(p,y);const _=(a.get(f.batchId)||Qe()).add(p);a=a.insert(f.batchId,_)})}).next(()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),m=p.key,y=p.value,_=bC();y.forEach(E=>{if(!l.has(E)){const S=CC(n.get(E),i.get(E));S!==null&&_.set(E,S),l=l.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,_))}return ie.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,a){return function(c){return Ie.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):MB(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):ie.resolve(Ga());let f=bc,p=l;return c.next(m=>ie.forEach(m,(y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(y)?ie.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{p=p.insert(y,E)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,p,m,Qe())).next(y=>({batchId:f,changes:EC(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next(i=>{let a=Qu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=Qu();return this.indexManager.getCollectionParents(e,l).next(f=>ie.forEach(f,p=>{const m=function(_,E){return new Kh(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,a).next(y=>{y.forEach((_,E)=>{c=c.insert(_,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a))).next(c=>{l.forEach((p,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,Tn.newInvalidDocument(y)))});let f=Qu();return c.forEach((p,m)=>{const y=l.get(p);y!==void 0&&ic(y.mutation,m,Or.empty(),Yt.now()),Yh(n,m)&&(f=f.insert(p,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ie.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:ai(a.createTime)}}(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(a){return{name:a.name,query:T9(a.bundledQuery),readTime:ai(a.readTime)}}(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(){this.overlays=new At(Ie.comparator),this.Rr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ga();return ie.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((a,l)=>{this.Et(e,n,l)}),ie.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Rr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),ie.resolve()}getOverlaysForCollection(e,n,i){const a=Ga(),l=n.length+1,c=new Ie(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,m=p.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return ie.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new At((m,y)=>m-y);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let y=l.get(m.largestBatchId);y===null&&(y=Ga(),l=l.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const f=Ga(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,y)=>f.set(m,y)),!(f.size()>=a)););return ie.resolve(f)}Et(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(i.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new ZB(n,i));let l=this.Rr.get(n);l===void 0&&(l=Qe(),this.Rr.set(n,l)),this.Rr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(){this.Vr=new Qt(on.mr),this.gr=new Qt(on.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const i=new on(e,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.wr(new on(e,n))}br(e,n){e.forEach(i=>this.removeReference(i,n))}Sr(e){const n=new Ie(new Dt([])),i=new on(n,e),a=new on(n,e+1),l=[];return this.gr.forEachInRange([i,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Ie(new Dt([])),i=new on(n,e),a=new on(n,e+1);let l=Qe();return this.gr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new on(e,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class on{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Ie.comparator(e.key,n.key)||Je(e.Cr,n.Cr)}static pr(e,n){return Je(e.Cr,n.Cr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Qt(on.mr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new XB(l,n,i,a);this.mutationQueue.push(c);for(const f of a)this.Mr=this.Mr.add(new on(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ie.resolve(c)}lookupMutationBatch(e,n){return ie.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Nr(i),l=a<0?0:a;return ie.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Av:this.Fr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new on(n,0),a=new on(n,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,a],c=>{const f=this.Or(c.Cr);l.push(f)}),ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Qt(Je);return n.forEach(a=>{const l=new on(a,0),c=new on(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],f=>{i=i.add(f.Cr)})}),ie.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Ie.isDocumentKey(l)||(l=l.child(""));const c=new on(new Ie(l),0);let f=new Qt(Je);return this.Mr.forEachWhile(p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(f=f.add(p.Cr)),!0)},c),ie.resolve(this.Br(f))}Br(e){const n=[];return e.forEach(i=>{const a=this.Or(i);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){ft(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ie.forEach(n.mutations,a=>{const l=new on(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,n){const i=new on(n,0),a=this.Mr.firstAfterOrEqual(i);return ie.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e){this.kr=e,this.docs=function(){return new At(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ie.resolve(i?i.document.mutableCopy():Tn.newInvalidDocument(n))}getEntries(e,n){let i=Qi();return n.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():Tn.newInvalidDocument(a))}),ie.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=Qi();const c=n.path,f=new Ie(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:m,value:{document:y}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||fB(cB(y),i)<=0||(a.has(y.key)||Yh(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ie.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Pe()}qr(e,n){return ie.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new U9(this)}getSize(e){return ie.resolve(this.size)}}class U9 extends O9{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?n.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(i)}),ie.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e){this.persistence=e,this.Qr=new so(n=>Cv(n),Iv),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Mv,this.targetCount=0,this.Ur=El.Kn()}forEachTarget(e,n){return this.Qr.forEach((i,a)=>n(a)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),ie.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new El(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.zn(n),ie.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.Qr.forEach((c,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),ie.waitFor(l).next(()=>a)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const i=this.Qr.get(n)||null;return ie.resolve(i)}addMatchingKeys(e,n,i){return this.Kr.yr(n,i),ie.resolve()}removeMatchingKeys(e,n,i){this.Kr.br(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ie.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Kr.vr(n);return ie.resolve(i)}containsKey(e,n){return ie.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new qh(0),this.zr=!1,this.zr=!0,this.jr=new k9,this.referenceDelegate=e(this),this.Hr=new B9(this),this.indexManager=new S9,this.remoteDocumentCache=function(a){return new L9(a)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new b9(n),this.Yr=new P9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new M9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Wr[e.toKey()];return i||(i=new V9(n,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,i){ye("MemoryPersistence","Starting transaction:",e);const a=new z9(this.Gr.next());return this.referenceDelegate.Zr(),i(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,n){return ie.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,n)))}}class z9 extends hB{constructor(e){super(),this.currentSequenceNumber=e}}class kv{constructor(e){this.persistence=e,this.ti=new Mv,this.ni=null}static ri(e){return new kv(e)}get ii(){if(this.ni)return this.ni;throw Pe()}addReference(e,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),ie.resolve()}removeReference(e,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ie.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(a=>this.ii.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.ii,i=>{const a=Ie.fromPath(i);return this.si(e,a).next(l=>{l||n.removeEntry(a,ke.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ie.or([()=>ie.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class vh{constructor(e,n){this.persistence=e,this.oi=new so(i=>gB(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=D9(this,n)}static ri(e,n){return new vh(e,n)}Zr(){}Xr(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(a=>i+a))}sr(e){let n=0;return this.rr(e,i=>{n++}).next(()=>n)}rr(e,n){return ie.forEach(this.oi,(i,a)=>this.ar(e,i,a).next(l=>l?ie.resolve():n(a)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,c=>this.ar(e,c,n).next(f=>{f||(i++,l.removeEntry(c,ke.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ie.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=kd(e.data.value)),n}ar(e,n,i){return ie.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.oi.get(n);return ie.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Hi=i,this.Ji=a}static Yi(e,n){let i=Qe(),a=Qe();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Vv(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return SL()?8:pB(Sn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.rs(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,n,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new F9;return this._s(e,n,c).next(f=>{if(l.result=f,this.Xi)return this.us(e,n,c,f.size)})}).next(()=>l.result)}us(e,n,i,a){return i.documentReadCount<this.es?(nl()<=Ye.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",rl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ie.resolve()):(nl()<=Ye.DEBUG&&ye("QueryEngine","Query:",rl(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ts*a?(nl()<=Ye.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",rl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,si(n))):ie.resolve())}rs(e,n){if(pS(n))return ie.resolve(null);let i=si(n);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=gy(n,null,"F"),i=si(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Qe(...l);return this.ns.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const m=this.cs(n,f);return this.ls(n,m,c,p.readTime)?this.rs(e,gy(n,null,"F")):this.hs(e,m,n,p)}))})))}ss(e,n,i,a){return pS(n)||a.isEqual(ke.min())?ie.resolve(null):this.ns.getDocuments(e,i).next(l=>{const c=this.cs(n,l);return this.ls(n,c,i,a)?ie.resolve(null):(nl()<=Ye.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),rl(n)),this.hs(e,c,n,uB(a,bc)).next(f=>f))})}cs(e,n){let i=new Qt(vC(e));return n.forEach((a,l)=>{Yh(e,l)&&(i=i.add(l))}),i}ls(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,n,i){return nl()<=Ye.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",rl(n)),this.ns.getDocumentsMatchingQuery(e,n,Ys.min(),i)}hs(e,n,i,a){return this.ns.getDocumentsMatchingQuery(e,i,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="LocalStore",H9=3e8;class q9{constructor(e,n,i,a){this.persistence=e,this.Ps=n,this.serializer=a,this.Ts=new At(Je),this.Is=new so(l=>Cv(l),Iv),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new N9(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function G9(t,e,n,i){return new q9(t,e,n,i)}async function jC(t,e){const n=Le(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,n.As(e),n.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],f=[];let p=Qe();for(const m of a){c.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}for(const m of l){f.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(i,p).next(m=>({Rs:m,removedBatchIds:c,addedBatchIds:f}))})})}function $9(t,e){const n=Le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=n.ds.newChangeBuffer({trackRemovals:!0});return function(f,p,m,y){const _=m.batch,E=_.keys();let S=ie.resolve();return E.forEach(w=>{S=S.next(()=>y.getEntry(p,w)).next(M=>{const D=m.docVersions.get(w);ft(D!==null),M.version.compareTo(D)<0&&(_.applyToRemoteDocument(M,m),M.isValidDocument()&&(M.setReadTime(m.commitVersion),y.addEntry(M)))})}),S.next(()=>f.mutationQueue.removeMutationBatch(p,_))}(n,i,e,l).next(()=>l.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let p=Qe();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(p=p.add(f.batch.mutations[m].key));return p}(e))).next(()=>n.localDocuments.getDocuments(i,a))})}function HC(t){const e=Le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function K9(t,e){const n=Le(t),i=e.snapshotVersion;let a=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.ds.newChangeBuffer({trackRemovals:!0});a=n.Ts;const f=[];e.targetChanges.forEach((y,_)=>{const E=a.get(_);if(!E)return;f.push(n.Hr.removeMatchingKeys(l,y.removedDocuments,_).next(()=>n.Hr.addMatchingKeys(l,y.addedDocuments,_)));let S=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(yn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,i)),a=a.insert(_,S),function(M,D,z){return M.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=H9?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(E,S,y)&&f.push(n.Hr.updateTargetData(l,S))});let p=Qi(),m=Qe();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),f.push(W9(l,c,e.documentUpdates).next(y=>{p=y.Vs,m=y.fs})),!i.isEqual(ke.min())){const y=n.Hr.getLastRemoteSnapshotVersion(l).next(_=>n.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(y)}return ie.waitFor(f).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,p,m)).next(()=>p)}).then(l=>(n.Ts=a,l))}function W9(t,e,n){let i=Qe(),a=Qe();return n.forEach(l=>i=i.add(l)),e.getEntries(t,i).next(l=>{let c=Qi();return n.forEach((f,p)=>{const m=l.get(f);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(f)),p.isNoDocument()&&p.version.isEqual(ke.min())?(e.removeEntry(f,p.readTime),c=c.insert(f,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(f,p)):ye(Lv,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",p.version)}),{Vs:c,fs:a}})}function Y9(t,e){const n=Le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Av),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Q9(t,e){const n=Le(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return n.Hr.getTargetData(i,e).next(l=>l?(a=l,ie.resolve(a)):n.Hr.allocateTargetId(i).next(c=>(a=new zs(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=n.Ts.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(e,i.targetId)),i})}async function by(t,e,n){const i=Le(t),a=i.Ts.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Nl(c))throw c;ye(Lv,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(a.target)}function CS(t,e,n){const i=Le(t);let a=ke.min(),l=Qe();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,m,y){const _=Le(p),E=_.Is.get(y);return E!==void 0?ie.resolve(_.Ts.get(E)):_.Hr.getTargetData(m,y)}(i,c,si(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,f.targetId).next(p=>{l=p})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,n?a:ke.min(),n?l:Qe())).next(f=>(X9(i,VB(e),f),{documents:f,gs:l})))}function X9(t,e,n){let i=t.Es.get(e)||ke.min();n.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),t.Es.set(e,i)}class IS{constructor(){this.activeTargetIds=jB()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Z9{constructor(){this.ho=new IS,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,i){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new IS,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="ConnectivityMonitor";class OS{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ye(DS,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ye(DS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sd=null;function Ty(){return Sd===null?Sd=function(){return 268435456+Math.round(2147483648*Math.random())}():Sd++,"0x"+Sd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="RestConnection",e6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class t6{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${i}/databases/${a}`,this.wo=this.databaseId.database===fh?`project_id=${i}`:`project_id=${i}&database_id=${a}`}bo(e,n,i,a,l){const c=Ty(),f=this.So(e,n.toUriEncodedString());ye(Mg,`Sending RPC '${e}' ${c}:`,f,i);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,a,l),this.vo(e,f,p,i).then(m=>(ye(Mg,`Received RPC '${e}' ${c}: `,m),m),m=>{throw gl(Mg,`RPC '${e}' ${c} failed with error: `,m,"url: ",f,"request:",i),m})}Co(e,n,i,a,l,c){return this.bo(e,n,i,a,l)}Do(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ol}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}So(e,n){const i=e6[e];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En="WebChannelConnection";class r6 extends t6{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,i,a){const l=Ty();return new Promise((c,f)=>{const p=new WR;p.setWithCredentials(!0),p.listenOnce(YR.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Md.NO_ERROR:const y=p.getResponseJson();ye(En,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case Md.TIMEOUT:ye(En,`RPC '${e}' ${l} timed out`),f(new Ce(le.DEADLINE_EXCEEDED,"Request time out"));break;case Md.HTTP_ERROR:const _=p.getStatus();if(ye(En,`RPC '${e}' ${l} failed with status:`,_,"response text:",p.getResponseText()),_>0){let E=p.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E==null?void 0:E.error;if(S&&S.status&&S.message){const w=function(D){const z=D.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(z)>=0?z:le.UNKNOWN}(S.status);f(new Ce(w,S.message))}else f(new Ce(le.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new Ce(le.UNAVAILABLE,"Connection failed."));break;default:Pe()}}finally{ye(En,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(a);ye(En,`RPC '${e}' ${l} sending request:`,a),p.send(n,"POST",m,i,15)})}Wo(e,n,i){const a=Ty(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=ZR(),f=XR(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const y=l.join("");ye(En,`Creating RPC '${e}' stream ${a}: ${y}`,p);const _=c.createWebChannel(y,p);let E=!1,S=!1;const w=new n6({Fo:D=>{S?ye(En,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(E||(ye(En,`Opening RPC '${e}' stream ${a} transport.`),_.open(),E=!0),ye(En,`RPC '${e}' stream ${a} sending:`,D),_.send(D))},Mo:()=>_.close()}),M=(D,z,F)=>{D.listen(z,q=>{try{F(q)}catch(Z){setTimeout(()=>{throw Z},0)}})};return M(_,Yu.EventType.OPEN,()=>{S||(ye(En,`RPC '${e}' stream ${a} transport opened.`),w.Qo())}),M(_,Yu.EventType.CLOSE,()=>{S||(S=!0,ye(En,`RPC '${e}' stream ${a} transport closed`),w.Ko())}),M(_,Yu.EventType.ERROR,D=>{S||(S=!0,gl(En,`RPC '${e}' stream ${a} transport errored:`,D),w.Ko(new Ce(le.UNAVAILABLE,"The operation could not be completed")))}),M(_,Yu.EventType.MESSAGE,D=>{var z;if(!S){const F=D.data[0];ft(!!F);const q=F,Z=(q==null?void 0:q.error)||((z=q[0])===null||z===void 0?void 0:z.error);if(Z){ye(En,`RPC '${e}' stream ${a} received error:`,Z);const X=Z.status;let se=function(C){const O=Ut[C];if(O!==void 0)return OC(O)}(X),P=Z.message;se===void 0&&(se=le.INTERNAL,P="Unknown error status: "+X+" with message "+Z.message),S=!0,w.Ko(new Ce(se,P)),_.close()}else ye(En,`RPC '${e}' stream ${a} received:`,F),w.Uo(F)}}),M(f,QR.STAT_EVENT,D=>{D.stat===fy.PROXY?ye(En,`RPC '${e}' stream ${a} detected buffering proxy`):D.stat===fy.NOPROXY&&ye(En,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{w.$o()},0),w}}function kg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(t){return new o9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=n,this.Go=i,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),a=Math.max(0,n-i);a>0&&ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="PersistentStream";class GC{constructor(e,n,i,a,l,c,f,p){this.Ti=e,this.n_=i,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new qC(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(Yi(n.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.i_===n&&this.V_(i,a)},i=>{e(()=>{const a=new Ce(le.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(a)})})}V_(e,n){const i=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{i(()=>this.m_(a))}),this.stream.onMessage(a=>{i(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ye(xS,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ye(xS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class i6 extends GC{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=c9(this.serializer,e),i=function(l){if(!("targetChange"in l))return ke.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ke.min():c.readTime?ai(c.readTime):ke.min()}(e);return this.listener.p_(n,i)}y_(e){const n={};n.database=Ey(this.serializer),n.addTarget=function(l,c){let f;const p=c.target;if(f=my(p)?{documents:h9(l,p)}:{query:p9(l,p).ht},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=PC(l,c.resumeToken);const m=yy(l,c.expectedCount);m!==null&&(f.expectedCount=m)}else if(c.snapshotVersion.compareTo(ke.min())>0){f.readTime=yh(l,c.snapshotVersion.toTimestamp());const m=yy(l,c.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const i=g9(this.serializer,e);i&&(n.labels=i),this.I_(n)}w_(e){const n={};n.database=Ey(this.serializer),n.removeTarget=e,this.I_(n)}}class s6 extends GC{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return ft(!!e.streamToken),this.lastStreamToken=e.streamToken,ft(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=d9(e.writeResults,e.commitTime),i=ai(e.commitTime);return this.listener.v_(i,n)}C_(){const e={};e.database=Ey(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>f9(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{}class o6 extends a6{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new Ce(le.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.bo(e,vy(n,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ce(le.UNKNOWN,l.toString())})}Co(e,n,i,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Co(e,vy(n,i),a,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ce(le.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class l6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Yi(n),this.N_=!1):ye("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="RemoteStore";class u6{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{i.enqueueAndForget(async()=>{oo(this)&&(ye(to,"Restarting streams for network reachability change."),await async function(p){const m=Le(p);m.W_.add(4),await jc(m),m.j_.set("Unknown"),m.W_.delete(4),await ep(m)}(this))})}),this.j_=new l6(i,a)}}async function ep(t){if(oo(t))for(const e of t.G_)await e(!0)}async function jc(t){for(const e of t.G_)await e(!1)}function $C(t,e){const n=Le(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Fv(n)?zv(n):Pl(n).c_()&&Bv(n,e))}function Uv(t,e){const n=Le(t),i=Pl(n);n.U_.delete(e),i.c_()&&KC(n,e),n.U_.size===0&&(i.c_()?i.P_():oo(n)&&n.j_.set("Unknown"))}function Bv(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Pl(t).y_(e)}function KC(t,e){t.H_.Ne(e),Pl(t).w_(e)}function zv(t){t.H_=new r9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Pl(t).start(),t.j_.B_()}function Fv(t){return oo(t)&&!Pl(t).u_()&&t.U_.size>0}function oo(t){return Le(t).W_.size===0}function WC(t){t.H_=void 0}async function c6(t){t.j_.set("Online")}async function f6(t){t.U_.forEach((e,n)=>{Bv(t,e)})}async function d6(t,e){WC(t),Fv(t)?(t.j_.q_(e),zv(t)):t.j_.set("Unknown")}async function h6(t,e,n){if(t.j_.set("Online"),e instanceof NC&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const f of l.targetIds)a.U_.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.U_.delete(f),a.H_.removeTarget(f))}(t,e)}catch(i){ye(to,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await _h(t,i)}else if(e instanceof Ud?t.H_.We(e):e instanceof xC?t.H_.Ze(e):t.H_.je(e),!n.isEqual(ke.min()))try{const i=await HC(t.localStore);n.compareTo(i)>=0&&await function(l,c){const f=l.H_.ot(c);return f.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const y=l.U_.get(m);y&&l.U_.set(m,y.withResumeToken(p.resumeToken,c))}}),f.targetMismatches.forEach((p,m)=>{const y=l.U_.get(p);if(!y)return;l.U_.set(p,y.withResumeToken(yn.EMPTY_BYTE_STRING,y.snapshotVersion)),KC(l,p);const _=new zs(y.target,p,m,y.sequenceNumber);Bv(l,_)}),l.remoteSyncer.applyRemoteEvent(f)}(t,n)}catch(i){ye(to,"Failed to raise snapshot:",i),await _h(t,i)}}async function _h(t,e,n){if(!Nl(e))throw e;t.W_.add(1),await jc(t),t.j_.set("Offline"),n||(n=()=>HC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ye(to,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await ep(t)})}function YC(t,e){return e().catch(n=>_h(t,n,e))}async function tp(t){const e=Le(t),n=Js(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:Av;for(;p6(e);)try{const a=await Y9(e.localStore,i);if(a===null){e.K_.length===0&&n.P_();break}i=a.batchId,m6(e,a)}catch(a){await _h(e,a)}QC(e)&&XC(e)}function p6(t){return oo(t)&&t.K_.length<10}function m6(t,e){t.K_.push(e);const n=Js(t);n.c_()&&n.b_&&n.S_(e.mutations)}function QC(t){return oo(t)&&!Js(t).u_()&&t.K_.length>0}function XC(t){Js(t).start()}async function g6(t){Js(t).C_()}async function y6(t){const e=Js(t);for(const n of t.K_)e.S_(n.mutations)}async function v6(t,e,n){const i=t.K_.shift(),a=xv.from(i,e,n);await YC(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await tp(t)}async function _6(t,e){e&&Js(t).b_&&await async function(i,a){if(function(c){return e9(c)&&c!==le.ABORTED}(a.code)){const l=i.K_.shift();Js(i).h_(),await YC(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await tp(i)}}(t,e),QC(t)&&XC(t)}async function NS(t,e){const n=Le(t);n.asyncQueue.verifyOperationInProgress(),ye(to,"RemoteStore received new credentials");const i=oo(n);n.W_.add(3),await jc(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await ep(n)}async function E6(t,e){const n=Le(t);e?(n.W_.delete(2),await ep(n)):e||(n.W_.add(2),await jc(n),n.j_.set("Unknown"))}function Pl(t){return t.J_||(t.J_=function(n,i,a){const l=Le(n);return l.M_(),new i6(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{xo:c6.bind(null,t),No:f6.bind(null,t),Lo:d6.bind(null,t),p_:h6.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),Fv(t)?zv(t):t.j_.set("Unknown")):(await t.J_.stop(),WC(t))})),t.J_}function Js(t){return t.Y_||(t.Y_=function(n,i,a){const l=Le(n);return l.M_(),new s6(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:g6.bind(null,t),Lo:_6.bind(null,t),D_:y6.bind(null,t),v_:v6.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await tp(t)):(await t.Y_.stop(),t.K_.length>0&&(ye(to,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,f=new jv(e,n,c,a,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hv(t,e){if(Yi("AsyncQueue",`${e}: ${t}`),Nl(t))return new Ce(le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{static emptySet(e){return new cl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ie.comparator(n.key,i.key):(n,i)=>Ie.comparator(n.key,i.key),this.keyedMap=Qu(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof cl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new cl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(){this.Z_=new At(Ie.comparator)}track(e){const n=e.doc.key,i=this.Z_.get(n);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(n):e.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Pe():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,i)=>{e.push(i)}),e}}class bl{constructor(e,n,i,a,l,c,f,p,m){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach(f=>{c.push({type:0,doc:f})}),new bl(e,n,cl.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class T6{constructor(){this.queries=MS(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const a=Le(n),l=a.queries;a.queries=MS(),l.forEach((c,f)=>{for(const p of f.ta)p.onError(i)})})(this,new Ce(le.ABORTED,"Firestore shutting down"))}}function MS(){return new so(t=>yC(t),Wh)}async function S6(t,e){const n=Le(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.na()&&e.ra()&&(i=2):(l=new b6,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await n.onListen(a,!0);break;case 1:l.ea=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=Hv(c,`Initialization of query '${rl(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.ta.push(e),e.sa(n.onlineState),l.ea&&e.oa(l.ea)&&qv(n)}async function A6(t,e){const n=Le(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function w6(t,e){const n=Le(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.ta)f.oa(a)&&(i=!0);c.ea=a}}i&&qv(n)}function R6(t,e,n){const i=Le(t),a=i.queries.get(e);if(a)for(const l of a.ta)l.onError(n);i.queries.delete(e)}function qv(t){t.ia.forEach(e=>{e.next()})}var Sy,kS;(kS=Sy||(Sy={}))._a="default",kS.Cache="cache";class C6{constructor(e,n,i){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new bl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Sy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.key=e}}class JC{constructor(e){this.key=e}}class I6{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Qe(),this.mutatedKeys=Qe(),this.ya=vC(e),this.wa=new cl(this.ya)}get ba(){return this.fa}Sa(e,n){const i=n?n.Da:new PS,a=n?n.wa:this.wa;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,_)=>{const E=a.get(y),S=Yh(this.query,_)?_:null,w=!!E&&this.mutatedKeys.has(E.key),M=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let D=!1;E&&S?E.data.isEqual(S.data)?w!==M&&(i.track({type:3,doc:S}),D=!0):this.va(E,S)||(i.track({type:2,doc:S}),D=!0,(p&&this.ya(S,p)>0||m&&this.ya(S,m)<0)&&(f=!0)):!E&&S?(i.track({type:0,doc:S}),D=!0):E&&!S&&(i.track({type:1,doc:E}),D=!0,(p||m)&&(f=!0)),D&&(S?(c=c.add(S),l=M?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{wa:c,Da:i,ls:f,mutatedKeys:l}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((y,_)=>function(S,w){const M=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe()}};return M(S)-M(w)}(y.type,_.type)||this.ya(y.doc,_.doc)),this.Ca(i),a=a!=null&&a;const f=n&&!a?this.Fa():[],p=this.pa.size===0&&this.current&&!a?1:0,m=p!==this.ga;return this.ga=p,c.length!==0||m?{snapshot:new bl(this.query,e.wa,l,c,e.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new PS,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Qe(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return e.forEach(i=>{this.pa.has(i)||n.push(new JC(i))}),this.pa.forEach(i=>{e.has(i)||n.push(new ZC(i))}),n}Oa(e){this.fa=e.gs,this.pa=Qe();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return bl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Gv="SyncEngine";class D6{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class O6{constructor(e){this.key=e,this.Ba=!1}}class x6{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new so(f=>yC(f),Wh),this.qa=new Map,this.Qa=new Set,this.$a=new At(Ie.comparator),this.Ka=new Map,this.Ua=new Mv,this.Wa={},this.Ga=new Map,this.za=El.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function N6(t,e,n=!0){const i=sI(t);let a;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await eI(i,e,n,!0),a}async function P6(t,e){const n=sI(t);await eI(n,e,!0,!1)}async function eI(t,e,n,i){const a=await Q9(t.localStore,si(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let f;return i&&(f=await M6(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&$C(t.remoteStore,a),f}async function M6(t,e,n,i,a){t.Ha=(_,E,S)=>async function(M,D,z,F){let q=D.view.Sa(z);q.ls&&(q=await CS(M.localStore,D.query,!1).then(({documents:P})=>D.view.Sa(P,q)));const Z=F&&F.targetChanges.get(D.targetId),X=F&&F.targetMismatches.get(D.targetId)!=null,se=D.view.applyChanges(q,M.isPrimaryClient,Z,X);return LS(M,D.targetId,se.Ma),se.snapshot}(t,_,E,S);const l=await CS(t.localStore,e,!0),c=new I6(e,l.gs),f=c.Sa(l.documents),p=Fc.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),m=c.applyChanges(f,t.isPrimaryClient,p);LS(t,n,m.Ma);const y=new D6(e,n,c);return t.ka.set(e,y),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),m.snapshot}async function k6(t,e,n){const i=Le(t),a=i.ka.get(e),l=i.qa.get(a.targetId);if(l.length>1)return i.qa.set(a.targetId,l.filter(c=>!Wh(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await by(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),n&&Uv(i.remoteStore,a.targetId),Ay(i,a.targetId)}).catch(xl)):(Ay(i,a.targetId),await by(i.localStore,a.targetId,!0))}async function V6(t,e){const n=Le(t),i=n.ka.get(e),a=n.qa.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Uv(n.remoteStore,i.targetId))}async function L6(t,e,n){const i=q6(t);try{const a=await function(c,f){const p=Le(c),m=Yt.now(),y=f.reduce((S,w)=>S.add(w.key),Qe());let _,E;return p.persistence.runTransaction("Locally write mutations","readwrite",S=>{let w=Qi(),M=Qe();return p.ds.getEntries(S,y).next(D=>{w=D,w.forEach((z,F)=>{F.isValidDocument()||(M=M.add(z))})}).next(()=>p.localDocuments.getOverlayedDocuments(S,w)).next(D=>{_=D;const z=[];for(const F of f){const q=YB(F,_.get(F.key).overlayedDocument);q!=null&&z.push(new ao(F.key,q,cC(q.value.mapValue),Hi.exists(!0)))}return p.mutationQueue.addMutationBatch(S,m,z,f)}).next(D=>{E=D;const z=D.applyToLocalDocumentSet(_,M);return p.documentOverlayCache.saveOverlays(S,D.batchId,z)})}).then(()=>({batchId:E.batchId,changes:EC(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,f,p){let m=c.Wa[c.currentUser.toKey()];m||(m=new At(Je)),m=m.insert(f,p),c.Wa[c.currentUser.toKey()]=m}(i,a.batchId,n),await Hc(i,a.changes),await tp(i.remoteStore)}catch(a){const l=Hv(a,"Failed to persist write");n.reject(l)}}async function tI(t,e){const n=Le(t);try{const i=await K9(n.localStore,e);e.targetChanges.forEach((a,l)=>{const c=n.Ka.get(l);c&&(ft(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?ft(c.Ba):a.removedDocuments.size>0&&(ft(c.Ba),c.Ba=!1))}),await Hc(n,i,e)}catch(i){await xl(i)}}function VS(t,e,n){const i=Le(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.ka.forEach((l,c)=>{const f=c.view.sa(e);f.snapshot&&a.push(f.snapshot)}),function(c,f){const p=Le(c);p.onlineState=f;let m=!1;p.queries.forEach((y,_)=>{for(const E of _.ta)E.sa(f)&&(m=!0)}),m&&qv(p)}(i.eventManager,e),a.length&&i.La.p_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function U6(t,e,n){const i=Le(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Ka.get(e),l=a&&a.key;if(l){let c=new At(Ie.comparator);c=c.insert(l,Tn.newNoDocument(l,ke.min()));const f=Qe().add(l),p=new Zh(ke.min(),new Map,new At(Je),c,f);await tI(i,p),i.$a=i.$a.remove(l),i.Ka.delete(e),$v(i)}else await by(i.localStore,e,!1).then(()=>Ay(i,e,n)).catch(xl)}async function B6(t,e){const n=Le(t),i=e.batch.batchId;try{const a=await $9(n.localStore,e);rI(n,i,null),nI(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Hc(n,a)}catch(a){await xl(a)}}async function z6(t,e,n){const i=Le(t);try{const a=await function(c,f){const p=Le(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return p.mutationQueue.lookupMutationBatch(m,f).next(_=>(ft(_!==null),y=_.keys(),p.mutationQueue.removeMutationBatch(m,_))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,y,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>p.localDocuments.getDocuments(m,y))})}(i.localStore,e);rI(i,e,n),nI(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Hc(i,a)}catch(a){await xl(a)}}function nI(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function rI(t,e,n){const i=Le(t);let a=i.Wa[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.Wa[i.currentUser.toKey()]=a}}function Ay(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.qa.get(e))t.ka.delete(i),n&&t.La.Ja(i,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.Sr(e).forEach(i=>{t.Ua.containsKey(i)||iI(t,i)})}function iI(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(Uv(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),$v(t))}function LS(t,e,n){for(const i of n)i instanceof ZC?(t.Ua.addReference(i.key,e),F6(t,i)):i instanceof JC?(ye(Gv,"Document no longer in limbo: "+i.key),t.Ua.removeReference(i.key,e),t.Ua.containsKey(i.key)||iI(t,i.key)):Pe()}function F6(t,e){const n=e.key,i=n.path.canonicalString();t.$a.get(n)||t.Qa.has(i)||(ye(Gv,"New document in limbo: "+n),t.Qa.add(i),$v(t))}function $v(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Ie(Dt.fromString(e)),i=t.za.next();t.Ka.set(i,new O6(n)),t.$a=t.$a.insert(n,i),$C(t.remoteStore,new zs(si(Dv(n.path)),i,"TargetPurposeLimboResolution",qh.ae))}}async function Hc(t,e,n){const i=Le(t),a=[],l=[],c=[];i.ka.isEmpty()||(i.ka.forEach((f,p)=>{c.push(i.Ha(p,e,n).then(m=>{var y;if((m||n)&&i.isPrimaryClient){const _=m?!m.fromCache:(y=n==null?void 0:n.targetChanges.get(p.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(m){a.push(m);const _=Vv.Yi(p.targetId,m);l.push(_)}}))}),await Promise.all(c),i.La.p_(a),await async function(p,m){const y=Le(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ie.forEach(m,E=>ie.forEach(E.Hi,S=>y.persistence.referenceDelegate.addReference(_,E.targetId,S)).next(()=>ie.forEach(E.Ji,S=>y.persistence.referenceDelegate.removeReference(_,E.targetId,S)))))}catch(_){if(!Nl(_))throw _;ye(Lv,"Failed to update sequence numbers: "+_)}for(const _ of m){const E=_.targetId;if(!_.fromCache){const S=y.Ts.get(E),w=S.snapshotVersion,M=S.withLastLimboFreeSnapshotVersion(w);y.Ts=y.Ts.insert(E,M)}}}(i.localStore,l))}async function j6(t,e){const n=Le(t);if(!n.currentUser.isEqual(e)){ye(Gv,"User change. New user:",e.toKey());const i=await jC(n.localStore,e);n.currentUser=e,function(l,c){l.Ga.forEach(f=>{f.forEach(p=>{p.reject(new Ce(le.CANCELLED,c))})}),l.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Hc(n,i.Rs)}}function H6(t,e){const n=Le(t),i=n.Ka.get(e);if(i&&i.Ba)return Qe().add(i.key);{let a=Qe();const l=n.qa.get(e);if(!l)return a;for(const c of l){const f=n.ka.get(c);a=a.unionWith(f.view.ba)}return a}}function sI(t){const e=Le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=H6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=U6.bind(null,e),e.La.p_=w6.bind(null,e.eventManager),e.La.Ja=R6.bind(null,e.eventManager),e}function q6(t){const e=Le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=B6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=z6.bind(null,e),e}class Eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return G9(this.persistence,new j9,e.initialUser,this.serializer)}Xa(e){return new FC(kv.ri,this.serializer)}Za(e){return new Z9}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eh.provider={build:()=>new Eh};class G6 extends Eh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){ft(this.persistence.referenceDelegate instanceof vh);const i=this.persistence.referenceDelegate.garbageCollector;return new C9(i,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new FC(i=>vh.ri(i,n),this.serializer)}}class wy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>VS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=j6.bind(null,this.syncEngine),await E6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new T6}()}createDatastore(e){const n=Jh(e.databaseInfo.databaseId),i=function(l){return new r6(l)}(e.databaseInfo);return function(l,c,f,p){return new o6(l,c,f,p)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,a,l,c,f){return new u6(i,a,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,n=>VS(this.syncEngine,n,0),function(){return OS.D()?new OS:new J9}())}createSyncEngine(e,n){return function(a,l,c,f,p,m,y){const _=new x6(a,l,c,f,p,m);return y&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const l=Le(a);ye(to,"RemoteStore shutting down."),l.W_.add(5),await jc(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}wy.provider={build:()=>new wy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Yi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="FirestoreClient";class K6{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=bn.UNAUTHENTICATED,this.clientId=eC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{ye(ea,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ye(ea,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Hv(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Vg(t,e){t.asyncQueue.verifyOperationInProgress(),ye(ea,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async a=>{i.isEqual(a)||(await jC(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function US(t,e){t.asyncQueue.verifyOperationInProgress();const n=await W6(t);ye(ea,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>NS(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,a)=>NS(e.remoteStore,a)),t._onlineComponents=e}async function W6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye(ea,"Using user provided OfflineComponentProvider");try{await Vg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===le.FAILED_PRECONDITION||a.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;gl("Error using user provided cache. Falling back to memory cache: "+n),await Vg(t,new Eh)}}else ye(ea,"Using default OfflineComponentProvider"),await Vg(t,new G6(void 0));return t._offlineComponents}async function aI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye(ea,"Using user provided OnlineComponentProvider"),await US(t,t._uninitializedComponentsProvider._online)):(ye(ea,"Using default OnlineComponentProvider"),await US(t,new wy))),t._onlineComponents}function Y6(t){return aI(t).then(e=>e.syncEngine)}async function Q6(t){const e=await aI(t),n=e.eventManager;return n.onListen=N6.bind(null,e.syncEngine),n.onUnlisten=k6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=P6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=V6.bind(null,e.syncEngine),n}function X6(t,e,n={}){const i=new Ks;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,f,p,m){const y=new $6({next:E=>{y.su(),c.enqueueAndForget(()=>A6(l,_));const S=E.docs.has(f);!S&&E.fromCache?m.reject(new Ce(le.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&p&&p.source==="server"?m.reject(new Ce(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),_=new C6(Dv(f.path),y,{includeMetadataChanges:!0,Ta:!0});return S6(l,_)}(await Q6(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(t,e,n){if(!n)throw new Ce(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function J6(t,e,n,i){if(e===!0&&i===!0)throw new Ce(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function zS(t){if(!Ie.isDocumentKey(t))throw new Ce(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Kv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pe()}function Cc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ce(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kv(t);throw new Ce(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="firestore.googleapis.com",FS=!0;class jS{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lI,this.ssl=FS}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:FS;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<w9)throw new Ce(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}J6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oI((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wv{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new tB;switch(i.type){case"firstParty":return new sB(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ce(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=BS.get(n);i&&(ye("ComponentProvider","Removing Datastore"),BS.delete(n),i.terminate())}(this),Promise.resolve()}}function e5(t,e,n,i={}){var a;const l=(t=Cc(t,Wv))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),f=`${e}:${n}`;l.host!==lI&&l.host!==f&&gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:f,ssl:!1,emulatorOptions:i});if(!Qa(p,c)&&(t._setSettings(p),i.mockUserToken)){let m,y;if(typeof i.mockUserToken=="string")m=i.mockUserToken,y=bn.MOCK_USER;else{m=gL(i.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Ce(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new bn(_)}t._authCredentials=new nB(new JR(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Yv(this.firestore,e,this._query)}}class gr{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ic(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gr(this.firestore,e,this._key)}}class Ic extends Yv{constructor(e,n,i){super(e,n,Dv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gr(this.firestore,null,new Ie(e))}withConverter(e){return new Ic(this.firestore,e,this._path)}}function uI(t,e,...n){if(t=vr(t),arguments.length===1&&(e=eC.newId()),Z6("doc","path",e),t instanceof Wv){const i=Dt.fromString(e,...n);return zS(i),new gr(t,null,new Ie(i))}{if(!(t instanceof gr||t instanceof Ic))throw new Ce(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Dt.fromString(e,...n));return zS(i),new gr(t.firestore,t instanceof Ic?t.converter:null,new Ie(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="AsyncQueue";class qS{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new qC(this,"async_queue_retry"),this.bu=()=>{const i=kg();i&&ye(HS,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.Su=e;const n=kg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=kg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Ks;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Nl(e))throw e;ye(HS,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const a=function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),f}(i);throw Yi("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.pu=!1,i))));return this.Su=n,n}enqueueAfterDelay(e,n,i){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const a=jv.createAndSchedule(this,e,n,i,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&Pe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Qv extends Wv{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new qS,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qS(e),this._firestoreClient=void 0,await e}}}function t5(t,e){const n=typeof t=="object"?t:uR(),i=typeof t=="string"?t:fh,a=dv(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=pL("firestore");l&&e5(a,...l)}return a}function cI(t){if(t._terminated)throw new Ce(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||n5(t),t._firestoreClient}function n5(t){var e,n,i;const a=t._freezeSettings(),l=function(f,p,m,y){return new _B(f,p,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,oI(y.experimentalLongPollingOptions),y.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new K6(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tl(yn.fromBase64String(e))}catch(n){throw new Ce(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Tl(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ce(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ce(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ce(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5=/^__.*__$/;class i5{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ao(e,this.data,this.fieldMask,n,this.fieldTransforms):new zc(e,this.data,n,this.fieldTransforms)}}function dI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe()}}class e_{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new e_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:i,Qu:!1});return a.$u(e),a}Ku(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:i,Qu:!1});return a.Bu(),a}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return bh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(dI(this.Lu)&&r5.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class s5{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Jh(e)}ju(e,n,i,a=!1){return new e_({Lu:e,methodName:n,zu:i,path:mn.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function a5(t){const e=t._freezeSettings(),n=Jh(t._databaseId);return new s5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function o5(t,e,n,i,a,l={}){const c=t.ju(l.merge||l.mergeFields?2:0,e,n,a);gI("Data must be an object, but it was:",c,i);const f=pI(i,c);let p,m;if(l.merge)p=new Or(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const E=l5(e,_,n);if(!c.contains(E))throw new Ce(le.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);c5(y,E)||y.push(E)}p=new Or(y),m=c.fieldTransforms.filter(_=>p.covers(_.field))}else p=null,m=c.fieldTransforms;return new i5(new hr(f),p,m)}function hI(t,e){if(mI(t=vr(t)))return gI("Unsupported field value:",e,t),pI(t,e);if(t instanceof fI)return function(i,a){if(!dI(a.Lu))throw a.Wu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const f of i){let p=hI(f,a.Uu(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(t,e)}return function(i,a){if((i=vr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return HB(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Yt.fromDate(i);return{timestampValue:yh(a.serializer,l)}}if(i instanceof Yt){const l=new Yt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:yh(a.serializer,l)}}if(i instanceof Zv)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Tl)return{bytesValue:PC(a.serializer,i._byteString)};if(i instanceof gr){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Pv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Jv)return function(c,f){return{mapValue:{fields:{[lC]:{stringValue:uC},[dh]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw f.Wu("VectorValues must only contain numeric values.");return Ov(f.serializer,m)})}}}}}}(i,a);throw a.Wu(`Unsupported field value: ${Kv(i)}`)}(t,e)}function pI(t,e){const n={};return nC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):io(t,(i,a)=>{const l=hI(a,e.qu(i));l!=null&&(n[i]=l)}),{mapValue:{fields:n}}}function mI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Yt||t instanceof Zv||t instanceof Tl||t instanceof gr||t instanceof fI||t instanceof Jv)}function gI(t,e,n){if(!mI(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const i=Kv(n);throw i==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+i)}}function l5(t,e,n){if((e=vr(e))instanceof Xv)return e._internalPath;if(typeof e=="string")return yI(t,e);throw bh("Field path arguments must be of type string or ",t,!1,void 0,n)}const u5=new RegExp("[~\\*/\\[\\]]");function yI(t,e,n){if(e.search(u5)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xv(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bh(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${a}`),p+=")"),new Ce(le.INVALID_ARGUMENT,f+t+p)}function c5(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new gr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new f5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_I("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class f5 extends vI{data(){return super.data()}}function _I(t,e){return typeof e=="string"?yI(t,e):e instanceof Xv?e._internalPath:e._delegate._internalPath}class d5{convertValue(e,n="none"){switch(Zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return io(e,(a,l)=>{i[a]=this.convertValue(l,n)}),i}convertVectorValue(e){var n,i,a;const l=(a=(i=(n=e.fields)===null||n===void 0?void 0:n[dh].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>Pt(c.doubleValue));return new Jv(l)}convertGeoPoint(e){return new Zv(Pt(e.latitude),Pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=$h(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Tc(e));default:return null}}convertTimestamp(e){const n=Qs(e);return new Yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Dt.fromString(e);ft(BC(i));const a=new Sc(i.get(1),i.get(3)),l=new Ie(i.popFirst(5));return a.isEqual(n)||Yi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(t,e,n){let i;return i=t?t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class EI extends vI{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new m5(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(_I("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class m5 extends EI{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g5(t){t=Cc(t,gr);const e=Cc(t.firestore,Qv);return X6(cI(e),t._key).then(n=>E5(e,t,n))}class y5 extends d5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gr(this.firestore,null,n)}}function v5(t,e,n){t=Cc(t,gr);const i=Cc(t.firestore,Qv),a=h5(t.converter,e);return _5(i,[o5(a5(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Hi.none())])}function _5(t,e){return function(i,a){const l=new Ks;return i.asyncQueue.enqueueAndForget(async()=>L6(await Y6(i),a,l)),l.promise}(cI(t),e)}function E5(t,e,n){const i=n.docs.get(e._key),a=new y5(t);return new EI(t,a,e._key,i,new p5(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Ol=a})(Il),ml(new Xa("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new Qv(new rB(i.getProvider("auth-internal")),new aB(c,i.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ce(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sc(m.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:n},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Gs(ZT,JT,e),Gs(ZT,JT,"esm2017")})();const b5={apiKey:"AIzaSyCyYfGLigE8BsrmJevN90AdHu7q6UvWIOY",authDomain:"mytrello-8c451.firebaseapp.com",projectId:"mytrello-8c451",storageBucket:"mytrello-8c451.firebasestorage.app",messagingSenderId:"334811594809",appId:"1:334811594809:web:f2a276ffc4e8f980930de8"},bI=lR(b5),t_=Tv(bI),TI=t5(bI),T5=async t=>{const e=uI(TI,"boards",t),n=await g5(e);if(n.exists()){const i=n.data();if(i.columns&&i.columnOrder&&Array.isArray(i.columnOrder))return i}else console.log("Документ не найден для пользователя:",t);return null},S5=async(t,e)=>{const n=uI(TI,"boards",t);try{await v5(n,e),console.log("Состояние доски успешно сохранено в Firebase!")}catch(i){console.error("Ошибка при сохранении состояния в Firebase:",i)}};function A5(){const[t,e]=k.useState(null),[n,i]=k.useState(!0);return k.useEffect(()=>{const a=HU(t_,l=>{e(l),i(!1)});return()=>a()},[]),{user:t,loading:n}}const w5=t=>{k.useEffect(()=>{if(!t)return;const e=cc.subscribe(()=>{const n=cc.getState().board;S5(t,n)});return()=>e()},[t])},R5="_loader_ogt3o_1",C5="_spinner_ogt3o_13",GS={loader:R5,spinner:C5},np=()=>{const{theme:t}=zt(e=>e.board);return Y.jsx("div",{className:`${GS.loader} ${t==="dark"?"dark":"light"}`,children:Y.jsx("div",{className:GS.spinner})})},I5="_board_r32ym_1",D5="_dark_r32ym_7",O5="_boardContainer_r32ym_43",x5="_addColumnButton_r32ym_50",Ad={board:I5,dark:D5,boardContainer:O5,addColumnButton:x5};function N5(){const{columns:t,columnOrder:e,tasks:n,theme:i}=zt(m=>m.board),a=zt(m=>m.board),l=kn(),{user:c}=A5(),[f,p]=k.useState(!0);return k.useEffect(()=>{(async()=>{if(c!=null&&c.uid)try{p(!0);const y=await T5(c.uid);y&&JSON.stringify(y)!==JSON.stringify(a)&&(l(yN(y)),p(!1))}catch(y){console.error("Ошибка загрузки состояния доски:",y),p(!1)}})()},[c,l]),w5(c==null?void 0:c.uid),f?Y.jsx(np,{}):Y.jsx("div",{className:`${Ad.board} ${i==="dark"?Ad.dark:""}`,children:Y.jsx(Yw,{droppableId:"board",type:"column",direction:"horizontal",children:m=>Y.jsxs("div",{...m.droppableProps,ref:m.innerRef,className:Ad.boardContainer,children:[e.map((y,_)=>{const E=t[y],S=E.taskIds.map(w=>n[w]);return Y.jsx(sL,{column:E,tasks:S,index:_},E.id)}),m.placeholder,Y.jsxs("button",{className:Ad.addColumnButton,onClick:()=>{l(ON())},children:[Y.jsx(Zw,{})," Добавить колонку"]})]})})})}const P5=()=>{const t=kn(),e=n=>{const{destination:i,source:a,draggableId:l,type:c}=n;if(i&&!(i.droppableId===a.droppableId&&i.index===a.index)){if(c==="column"){t(AN({sourceIndex:a.index,destIndex:i.index}));return}c==="task"&&t(bN({sourceColId:a.droppableId,destColId:i.droppableId,sourceIndex:a.index,destIndex:i.index,taskId:l}))}};return Y.jsx(dk,{onDragEnd:e,children:Y.jsx(N5,{})})},M5="/mytrello/logo.svg",k5="/mytrello/logo_dark.svg",V5="_header_1tiqz_1",L5="_dark_1tiqz_11",U5="_img_1tiqz_15",B5="_controls_1tiqz_39",z5="_themeButton_1tiqz_45",el={header:V5,dark:L5,img:U5,controls:B5,themeButton:z5},F5="_userMenu_1gccw_1",j5="_userButton_1gccw_5",H5="_dark_1gccw_19",q5="_userIcon_1gccw_23",G5="_dropdownMenu_1gccw_37",$5="_open_1gccw_58",K5="_logoutButton_1gccw_64",Ms={userMenu:F5,userButton:j5,dark:H5,userIcon:q5,dropdownMenu:G5,open:$5,logoutButton:K5};function W5(){const{theme:t}=zt(p=>p.board),{isAuthenticated:e,user:n}=zt(p=>p.auth),i=kn(),[a,l]=k.useState(!1),c=k.useRef(null);k.useEffect(()=>{const p=m=>{c.current&&!c.current.contains(m.target)&&l(!1)};return a?document.addEventListener("mousedown",p):document.removeEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[a]);const f=async()=>{try{await t_.signOut(),i(GA()),l(!1)}catch(p){console.error("Ошибка при выходе:",p)}};return e?Y.jsxs("div",{ref:c,className:`${Ms.userMenu} ${t==="dark"?Ms.dark:""}`,children:[Y.jsxs("button",{className:Ms.userButton,onClick:()=>l(!a),children:[Y.jsx(MV,{className:Ms.userIcon}),Y.jsx("span",{className:Ms.userEmail,children:n.email})]}),Y.jsx("div",{className:`${Ms.dropdownMenu} ${a?Ms.open:""}`,children:Y.jsxs("button",{className:Ms.logoutButton,onClick:f,children:[Y.jsx(NV,{})," Выйти"]})})]}):null}function Y5(){const{theme:t}=zt(n=>n.board),e=kn();return Y.jsxs("div",{className:`${el.header} ${t==="dark"?el.dark:""}`,children:[t==="dark"?Y.jsx("img",{className:el.img,src:k5,alt:"Логотип"}):Y.jsx("img",{className:el.img,src:M5,alt:"Логотип"}),Y.jsxs("div",{className:el.controls,children:[Y.jsx(W5,{}),Y.jsx("button",{onClick:()=>e(CN()),className:el.themeButton,children:t==="light"?Y.jsx(xV,{}):Y.jsx(PV,{})})]})]})}var qc=t=>t.type==="checkbox",$a=t=>t instanceof Date,On=t=>t==null;const SI=t=>typeof t=="object";var Mt=t=>!On(t)&&!Array.isArray(t)&&SI(t)&&!$a(t),Q5=t=>Mt(t)&&t.target?qc(t.target)?t.target.checked:t.target.value:t,X5=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Z5=(t,e)=>t.has(X5(e)),J5=t=>{const e=t.constructor&&t.constructor.prototype;return Mt(e)&&e.hasOwnProperty("isPrototypeOf")},n_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function fr(t){let e;const n=Array.isArray(t),i=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(n_&&(t instanceof Blob||i))&&(n||Mt(t)))if(e=n?[]:{},!n&&!J5(t))e=t;else for(const a in t)t.hasOwnProperty(a)&&(e[a]=fr(t[a]));else return t;return e}var rp=t=>Array.isArray(t)?t.filter(Boolean):[],Bt=t=>t===void 0,Se=(t,e,n)=>{if(!e||!Mt(t))return n;const i=rp(e.split(/[,[\].]+?/)).reduce((a,l)=>On(a)?a:a[l],t);return Bt(i)||i===t?Bt(t[e])?n:t[e]:i},ei=t=>typeof t=="boolean",r_=t=>/^\w*$/.test(t),AI=t=>rp(t.replace(/["|']|\]/g,"").split(/\.|\[/)),vt=(t,e,n)=>{let i=-1;const a=r_(e)?[e]:AI(e),l=a.length,c=l-1;for(;++i<l;){const f=a[i];let p=n;if(i!==c){const m=t[f];p=Mt(m)||Array.isArray(m)?m:isNaN(+a[i+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;t[f]=p,t=t[f]}return t};const $S={BLUR:"blur",FOCUS_OUT:"focusout"},Ir={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Vi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Fe.createContext(null);var ez=(t,e,n,i=!0)=>{const a={defaultValues:e._defaultValues};for(const l in t)Object.defineProperty(a,l,{get:()=>{const c=l;return e._proxyFormState[c]!==Ir.all&&(e._proxyFormState[c]=!i||Ir.all),t[c]}});return a},Pn=t=>Mt(t)&&!Object.keys(t).length,tz=(t,e,n,i)=>{n(t);const{name:a,...l}=t;return Pn(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(c=>e[c]===Ir.all)},Bd=t=>Array.isArray(t)?t:[t];function nz(t){const e=Fe.useRef(t);e.current=t,Fe.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var ni=t=>typeof t=="string",rz=(t,e,n,i,a)=>ni(t)?(i&&e.watch.add(t),Se(n,t,a)):Array.isArray(t)?t.map(l=>(i&&e.watch.add(l),Se(n,l))):(i&&(e.watchAll=!0),n),iz=(t,e,n,i,a)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[i]:a||!0}}:{},KS=t=>({isOnSubmit:!t||t===Ir.onSubmit,isOnBlur:t===Ir.onBlur,isOnChange:t===Ir.onChange,isOnAll:t===Ir.all,isOnTouch:t===Ir.onTouched}),WS=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(i=>t.startsWith(i)&&/^\.\w+/.test(t.slice(i.length))));const sc=(t,e,n,i)=>{for(const a of n||Object.keys(t)){const l=Se(t,a);if(l){const{_f:c,...f}=l;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],a)&&!i)return!0;if(c.ref&&e(c.ref,c.name)&&!i)return!0;if(sc(f,e))break}else if(Mt(f)&&sc(f,e))break}}};var sz=(t,e,n)=>{const i=Bd(Se(t,n));return vt(i,"root",e[n]),vt(t,n,i),t},i_=t=>t.type==="file",ti=t=>typeof t=="function",Th=t=>{if(!n_)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},zd=t=>ni(t),s_=t=>t.type==="radio",Sh=t=>t instanceof RegExp;const YS={value:!1,isValid:!1},QS={value:!0,isValid:!0};var wI=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Bt(t[0].attributes.value)?Bt(t[0].value)||t[0].value===""?QS:{value:t[0].value,isValid:!0}:QS:YS}return YS};const XS={isValid:!1,value:null};var RI=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,XS):XS;function ZS(t,e,n="validate"){if(zd(t)||Array.isArray(t)&&t.every(zd)||ei(t)&&!t)return{type:n,message:zd(t)?t:"",ref:e}}var tl=t=>Mt(t)&&!Sh(t)?t:{value:t,message:""},JS=async(t,e,n,i,a,l)=>{const{ref:c,refs:f,required:p,maxLength:m,minLength:y,min:_,max:E,pattern:S,validate:w,name:M,valueAsNumber:D,mount:z}=t._f,F=Se(n,M);if(!z||e.has(M))return{};const q=f?f[0]:c,Z=L=>{a&&q.reportValidity&&(q.setCustomValidity(ei(L)?"":L||""),q.reportValidity())},X={},se=s_(c),P=qc(c),I=se||P,C=(D||i_(c))&&Bt(c.value)&&Bt(F)||Th(c)&&c.value===""||F===""||Array.isArray(F)&&!F.length,O=iz.bind(null,M,i,X),V=(L,x,Ue,Ne=Vi.maxLength,ue=Vi.minLength)=>{const Ee=L?x:Ue;X[M]={type:L?Ne:ue,message:Ee,ref:c,...O(L?Ne:ue,Ee)}};if(l?!Array.isArray(F)||!F.length:p&&(!I&&(C||On(F))||ei(F)&&!F||P&&!wI(f).isValid||se&&!RI(f).isValid)){const{value:L,message:x}=zd(p)?{value:!!p,message:p}:tl(p);if(L&&(X[M]={type:Vi.required,message:x,ref:q,...O(Vi.required,x)},!i))return Z(x),X}if(!C&&(!On(_)||!On(E))){let L,x;const Ue=tl(E),Ne=tl(_);if(!On(F)&&!isNaN(F)){const ue=c.valueAsNumber||F&&+F;On(Ue.value)||(L=ue>Ue.value),On(Ne.value)||(x=ue<Ne.value)}else{const ue=c.valueAsDate||new Date(F),Ee=B=>new Date(new Date().toDateString()+" "+B),ve=c.type=="time",je=c.type=="week";ni(Ue.value)&&F&&(L=ve?Ee(F)>Ee(Ue.value):je?F>Ue.value:ue>new Date(Ue.value)),ni(Ne.value)&&F&&(x=ve?Ee(F)<Ee(Ne.value):je?F<Ne.value:ue<new Date(Ne.value))}if((L||x)&&(V(!!L,Ue.message,Ne.message,Vi.max,Vi.min),!i))return Z(X[M].message),X}if((m||y)&&!C&&(ni(F)||l&&Array.isArray(F))){const L=tl(m),x=tl(y),Ue=!On(L.value)&&F.length>+L.value,Ne=!On(x.value)&&F.length<+x.value;if((Ue||Ne)&&(V(Ue,L.message,x.message),!i))return Z(X[M].message),X}if(S&&!C&&ni(F)){const{value:L,message:x}=tl(S);if(Sh(L)&&!F.match(L)&&(X[M]={type:Vi.pattern,message:x,ref:c,...O(Vi.pattern,x)},!i))return Z(x),X}if(w){if(ti(w)){const L=await w(F,n),x=ZS(L,q);if(x&&(X[M]={...x,...O(Vi.validate,x.message)},!i))return Z(x.message),X}else if(Mt(w)){let L={};for(const x in w){if(!Pn(L)&&!i)break;const Ue=ZS(await w[x](F,n),q,x);Ue&&(L={...Ue,...O(x,Ue.message)},Z(Ue.message),i&&(X[M]=L))}if(!Pn(L)&&(X[M]={ref:q,...L},!i))return X}}return Z(!0),X};function az(t,e){const n=e.slice(0,-1).length;let i=0;for(;i<n;)t=Bt(t)?i++:t[e[i++]];return t}function oz(t){for(const e in t)if(t.hasOwnProperty(e)&&!Bt(t[e]))return!1;return!0}function Kt(t,e){const n=Array.isArray(e)?e:r_(e)?[e]:AI(e),i=n.length===1?t:az(t,n),a=n.length-1,l=n[a];return i&&delete i[l],a!==0&&(Mt(i)&&Pn(i)||Array.isArray(i)&&oz(i))&&Kt(t,n.slice(0,-1)),t}var Lg=()=>{let t=[];return{get observers(){return t},next:a=>{for(const l of t)l.next&&l.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(l=>l!==a)}}),unsubscribe:()=>{t=[]}}},Ry=t=>On(t)||!SI(t);function Bs(t,e){if(Ry(t)||Ry(e))return t===e;if($a(t)&&$a(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(const a of n){const l=t[a];if(!i.includes(a))return!1;if(a!=="ref"){const c=e[a];if($a(l)&&$a(c)||Mt(l)&&Mt(c)||Array.isArray(l)&&Array.isArray(c)?!Bs(l,c):l!==c)return!1}}return!0}var CI=t=>t.type==="select-multiple",lz=t=>s_(t)||qc(t),Ug=t=>Th(t)&&t.isConnected,II=t=>{for(const e in t)if(ti(t[e]))return!0;return!1};function Ah(t,e={}){const n=Array.isArray(t);if(Mt(t)||n)for(const i in t)Array.isArray(t[i])||Mt(t[i])&&!II(t[i])?(e[i]=Array.isArray(t[i])?[]:{},Ah(t[i],e[i])):On(t[i])||(e[i]=!0);return e}function DI(t,e,n){const i=Array.isArray(t);if(Mt(t)||i)for(const a in t)Array.isArray(t[a])||Mt(t[a])&&!II(t[a])?Bt(e)||Ry(n[a])?n[a]=Array.isArray(t[a])?Ah(t[a],[]):{...Ah(t[a])}:DI(t[a],On(e)?{}:e[a],n[a]):n[a]=!Bs(t[a],e[a]);return n}var Hu=(t,e)=>DI(t,e,Ah(e)),OI=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:i})=>Bt(t)?t:e?t===""?NaN:t&&+t:n&&ni(t)?new Date(t):i?i(t):t;function Bg(t){const e=t.ref;return i_(e)?e.files:s_(e)?RI(t.refs).value:CI(e)?[...e.selectedOptions].map(({value:n})=>n):qc(e)?wI(t.refs).value:OI(Bt(e.value)?t.ref.value:e.value,t)}var uz=(t,e,n,i)=>{const a={};for(const l of t){const c=Se(e,l);c&&vt(a,l,c._f)}return{criteriaMode:n,names:[...t],fields:a,shouldUseNativeValidation:i}},qu=t=>Bt(t)?t:Sh(t)?t.source:Mt(t)?Sh(t.value)?t.value.source:t.value:t;const eA="AsyncFunction";var cz=t=>!!t&&!!t.validate&&!!(ti(t.validate)&&t.validate.constructor.name===eA||Mt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===eA)),fz=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function tA(t,e,n){const i=Se(t,n);if(i||r_(n))return{error:i,name:n};const a=n.split(".");for(;a.length;){const l=a.join("."),c=Se(e,l),f=Se(t,l);if(c&&!Array.isArray(c)&&n!==l)return{name:n};if(f&&f.type)return{name:l,error:f};a.pop()}return{name:n}}var dz=(t,e,n,i,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(e||t):(n?i.isOnBlur:a.isOnBlur)?!t:(n?i.isOnChange:a.isOnChange)?t:!0,hz=(t,e)=>!rp(Se(t,e)).length&&Kt(t,e);const pz={mode:Ir.onSubmit,reValidateMode:Ir.onChange,shouldFocusError:!0};function mz(t={}){let e={...pz,...t},n={submitCount:0,isDirty:!1,isLoading:ti(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},i={},a=Mt(e.defaultValues)||Mt(e.values)?fr(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:fr(a),c={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,m=0;const y={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},_={values:Lg(),array:Lg(),state:Lg()},E=KS(e.mode),S=KS(e.reValidateMode),w=e.criteriaMode===Ir.all,M=U=>W=>{clearTimeout(m),m=setTimeout(U,W)},D=async U=>{if(!e.disabled&&(y.isValid||U)){const W=e.resolver?Pn((await I()).errors):await O(i,!0);W!==n.isValid&&_.state.next({isValid:W})}},z=(U,W)=>{!e.disabled&&(y.isValidating||y.validatingFields)&&((U||Array.from(f.mount)).forEach(ee=>{ee&&(W?vt(n.validatingFields,ee,W):Kt(n.validatingFields,ee))}),_.state.next({validatingFields:n.validatingFields,isValidating:!Pn(n.validatingFields)}))},F=(U,W=[],ee,pe,he=!0,ce=!0)=>{if(pe&&ee&&!e.disabled){if(c.action=!0,ce&&Array.isArray(Se(i,U))){const _e=ee(Se(i,U),pe.argA,pe.argB);he&&vt(i,U,_e)}if(ce&&Array.isArray(Se(n.errors,U))){const _e=ee(Se(n.errors,U),pe.argA,pe.argB);he&&vt(n.errors,U,_e),hz(n.errors,U)}if(y.touchedFields&&ce&&Array.isArray(Se(n.touchedFields,U))){const _e=ee(Se(n.touchedFields,U),pe.argA,pe.argB);he&&vt(n.touchedFields,U,_e)}y.dirtyFields&&(n.dirtyFields=Hu(a,l)),_.state.next({name:U,isDirty:L(U,W),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else vt(l,U,W)},q=(U,W)=>{vt(n.errors,U,W),_.state.next({errors:n.errors})},Z=U=>{n.errors=U,_.state.next({errors:n.errors,isValid:!1})},X=(U,W,ee,pe)=>{const he=Se(i,U);if(he){const ce=Se(l,U,Bt(ee)?Se(a,U):ee);Bt(ce)||pe&&pe.defaultChecked||W?vt(l,U,W?ce:Bg(he._f)):Ne(U,ce),c.mount&&D()}},se=(U,W,ee,pe,he)=>{let ce=!1,_e=!1;const Be={name:U};if(!e.disabled){const Ge=!!(Se(i,U)&&Se(i,U)._f&&Se(i,U)._f.disabled);if(!ee||pe){y.isDirty&&(_e=n.isDirty,n.isDirty=Be.isDirty=L(),ce=_e!==Be.isDirty);const Ke=Ge||Bs(Se(a,U),W);_e=!!(!Ge&&Se(n.dirtyFields,U)),Ke||Ge?Kt(n.dirtyFields,U):vt(n.dirtyFields,U,!0),Be.dirtyFields=n.dirtyFields,ce=ce||y.dirtyFields&&_e!==!Ke}if(ee){const Ke=Se(n.touchedFields,U);Ke||(vt(n.touchedFields,U,ee),Be.touchedFields=n.touchedFields,ce=ce||y.touchedFields&&Ke!==ee)}ce&&he&&_.state.next(Be)}return ce?Be:{}},P=(U,W,ee,pe)=>{const he=Se(n.errors,U),ce=y.isValid&&ei(W)&&n.isValid!==W;if(e.delayError&&ee?(p=M(()=>q(U,ee)),p(e.delayError)):(clearTimeout(m),p=null,ee?vt(n.errors,U,ee):Kt(n.errors,U)),(ee?!Bs(he,ee):he)||!Pn(pe)||ce){const _e={...pe,...ce&&ei(W)?{isValid:W}:{},errors:n.errors,name:U};n={...n,..._e},_.state.next(_e)}},I=async U=>{z(U,!0);const W=await e.resolver(l,e.context,uz(U||f.mount,i,e.criteriaMode,e.shouldUseNativeValidation));return z(U),W},C=async U=>{const{errors:W}=await I(U);if(U)for(const ee of U){const pe=Se(W,ee);pe?vt(n.errors,ee,pe):Kt(n.errors,ee)}else n.errors=W;return W},O=async(U,W,ee={valid:!0})=>{for(const pe in U){const he=U[pe];if(he){const{_f:ce,..._e}=he;if(ce){const Be=f.array.has(ce.name),Ge=he._f&&cz(he._f);Ge&&y.validatingFields&&z([pe],!0);const Ke=await JS(he,f.disabled,l,w,e.shouldUseNativeValidation&&!W,Be);if(Ge&&y.validatingFields&&z([pe]),Ke[ce.name]&&(ee.valid=!1,W))break;!W&&(Se(Ke,ce.name)?Be?sz(n.errors,Ke,ce.name):vt(n.errors,ce.name,Ke[ce.name]):Kt(n.errors,ce.name))}!Pn(_e)&&await O(_e,W,ee)}}return ee.valid},V=()=>{for(const U of f.unMount){const W=Se(i,U);W&&(W._f.refs?W._f.refs.every(ee=>!Ug(ee)):!Ug(W._f.ref))&&Oe(U)}f.unMount=new Set},L=(U,W)=>!e.disabled&&(U&&W&&vt(l,U,W),!Bs(oe(),a)),x=(U,W,ee)=>rz(U,f,{...c.mount?l:Bt(W)?a:ni(U)?{[U]:W}:W},ee,W),Ue=U=>rp(Se(c.mount?l:a,U,e.shouldUnregister?Se(a,U,[]):[])),Ne=(U,W,ee={})=>{const pe=Se(i,U);let he=W;if(pe){const ce=pe._f;ce&&(!ce.disabled&&vt(l,U,OI(W,ce)),he=Th(ce.ref)&&On(W)?"":W,CI(ce.ref)?[...ce.ref.options].forEach(_e=>_e.selected=he.includes(_e.value)):ce.refs?qc(ce.ref)?ce.refs.length>1?ce.refs.forEach(_e=>(!_e.defaultChecked||!_e.disabled)&&(_e.checked=Array.isArray(he)?!!he.find(Be=>Be===_e.value):he===_e.value)):ce.refs[0]&&(ce.refs[0].checked=!!he):ce.refs.forEach(_e=>_e.checked=_e.value===he):i_(ce.ref)?ce.ref.value="":(ce.ref.value=he,ce.ref.type||_.values.next({name:U,values:{...l}})))}(ee.shouldDirty||ee.shouldTouch)&&se(U,he,ee.shouldTouch,ee.shouldDirty,!0),ee.shouldValidate&&B(U)},ue=(U,W,ee)=>{for(const pe in W){const he=W[pe],ce=`${U}.${pe}`,_e=Se(i,ce);(f.array.has(U)||Mt(he)||_e&&!_e._f)&&!$a(he)?ue(ce,he,ee):Ne(ce,he,ee)}},Ee=(U,W,ee={})=>{const pe=Se(i,U),he=f.array.has(U),ce=fr(W);vt(l,U,ce),he?(_.array.next({name:U,values:{...l}}),(y.isDirty||y.dirtyFields)&&ee.shouldDirty&&_.state.next({name:U,dirtyFields:Hu(a,l),isDirty:L(U,ce)})):pe&&!pe._f&&!On(ce)?ue(U,ce,ee):Ne(U,ce,ee),WS(U,f)&&_.state.next({...n}),_.values.next({name:c.mount?U:void 0,values:{...l}})},ve=async U=>{c.mount=!0;const W=U.target;let ee=W.name,pe=!0;const he=Se(i,ee),ce=()=>W.type?Bg(he._f):Q5(U),_e=Be=>{pe=Number.isNaN(Be)||$a(Be)&&isNaN(Be.getTime())||Bs(Be,Se(l,ee,Be))};if(he){let Be,Ge;const Ke=ce(),Xt=U.type===$S.BLUR||U.type===$S.FOCUS_OUT,uo=!fz(he._f)&&!e.resolver&&!Se(n.errors,ee)&&!he._f.deps||dz(Xt,Se(n.touchedFields,ee),n.isSubmitted,S,E),ci=WS(ee,f,Xt);vt(l,ee,Ke),Xt?(he._f.onBlur&&he._f.onBlur(U),p&&p(0)):he._f.onChange&&he._f.onChange(U);const sa=se(ee,Ke,Xt,!1),fi=!Pn(sa)||ci;if(!Xt&&_.values.next({name:ee,type:U.type,values:{...l}}),uo)return y.isValid&&(e.mode==="onBlur"&&Xt?D():Xt||D()),fi&&_.state.next({name:ee,...ci?{}:sa});if(!Xt&&ci&&_.state.next({...n}),e.resolver){const{errors:Er}=await I([ee]);if(_e(Ke),pe){const Zt=tA(n.errors,i,ee),Zi=tA(Er,i,Zt.name||ee);Be=Zi.error,ee=Zi.name,Ge=Pn(Er)}}else z([ee],!0),Be=(await JS(he,f.disabled,l,w,e.shouldUseNativeValidation))[ee],z([ee]),_e(Ke),pe&&(Be?Ge=!1:y.isValid&&(Ge=await O(i,!0)));pe&&(he._f.deps&&B(he._f.deps),P(ee,Ge,Be,sa))}},je=(U,W)=>{if(Se(n.errors,W)&&U.focus)return U.focus(),1},B=async(U,W={})=>{let ee,pe;const he=Bd(U);if(e.resolver){const ce=await C(Bt(U)?U:he);ee=Pn(ce),pe=U?!he.some(_e=>Se(ce,_e)):ee}else U?(pe=(await Promise.all(he.map(async ce=>{const _e=Se(i,ce);return await O(_e&&_e._f?{[ce]:_e}:_e)}))).every(Boolean),!(!pe&&!n.isValid)&&D()):pe=ee=await O(i);return _.state.next({...!ni(U)||y.isValid&&ee!==n.isValid?{}:{name:U},...e.resolver||!U?{isValid:ee}:{},errors:n.errors}),W.shouldFocus&&!pe&&sc(i,je,U?he:f.mount),pe},oe=U=>{const W={...c.mount?l:a};return Bt(U)?W:ni(U)?Se(W,U):U.map(ee=>Se(W,ee))},be=(U,W)=>({invalid:!!Se((W||n).errors,U),isDirty:!!Se((W||n).dirtyFields,U),error:Se((W||n).errors,U),isValidating:!!Se(n.validatingFields,U),isTouched:!!Se((W||n).touchedFields,U)}),me=U=>{U&&Bd(U).forEach(W=>Kt(n.errors,W)),_.state.next({errors:U?n.errors:{}})},ge=(U,W,ee)=>{const pe=(Se(i,U,{_f:{}})._f||{}).ref,he=Se(n.errors,U)||{},{ref:ce,message:_e,type:Be,...Ge}=he;vt(n.errors,U,{...Ge,...W,ref:pe}),_.state.next({name:U,errors:n.errors,isValid:!1}),ee&&ee.shouldFocus&&pe&&pe.focus&&pe.focus()},Me=(U,W)=>ti(U)?_.values.subscribe({next:ee=>U(x(void 0,W),ee)}):x(U,W,!0),Oe=(U,W={})=>{for(const ee of U?Bd(U):f.mount)f.mount.delete(ee),f.array.delete(ee),W.keepValue||(Kt(i,ee),Kt(l,ee)),!W.keepError&&Kt(n.errors,ee),!W.keepDirty&&Kt(n.dirtyFields,ee),!W.keepTouched&&Kt(n.touchedFields,ee),!W.keepIsValidating&&Kt(n.validatingFields,ee),!e.shouldUnregister&&!W.keepDefaultValue&&Kt(a,ee);_.values.next({values:{...l}}),_.state.next({...n,...W.keepDirty?{isDirty:L()}:{}}),!W.keepIsValid&&D()},mt=({disabled:U,name:W,field:ee,fields:pe})=>{(ei(U)&&c.mount||U||f.disabled.has(W))&&(U?f.disabled.add(W):f.disabled.delete(W),se(W,Bg(ee?ee._f:Se(pe,W)._f),!1,!1,!0))},qe=(U,W={})=>{let ee=Se(i,U);const pe=ei(W.disabled)||ei(e.disabled);return vt(i,U,{...ee||{},_f:{...ee&&ee._f?ee._f:{ref:{name:U}},name:U,mount:!0,...W}}),f.mount.add(U),ee?mt({field:ee,disabled:ei(W.disabled)?W.disabled:e.disabled,name:U}):X(U,!0,W.value),{...pe?{disabled:W.disabled||e.disabled}:{},...e.progressive?{required:!!W.required,min:qu(W.min),max:qu(W.max),minLength:qu(W.minLength),maxLength:qu(W.maxLength),pattern:qu(W.pattern)}:{},name:U,onChange:ve,onBlur:ve,ref:he=>{if(he){qe(U,W),ee=Se(i,U);const ce=Bt(he.value)&&he.querySelectorAll&&he.querySelectorAll("input,select,textarea")[0]||he,_e=lz(ce),Be=ee._f.refs||[];if(_e?Be.find(Ge=>Ge===ce):ce===ee._f.ref)return;vt(i,U,{_f:{...ee._f,..._e?{refs:[...Be.filter(Ug),ce,...Array.isArray(Se(a,U))?[{}]:[]],ref:{type:ce.type,name:U}}:{ref:ce}}}),X(U,!1,void 0,ce)}else ee=Se(i,U,{}),ee._f&&(ee._f.mount=!1),(e.shouldUnregister||W.shouldUnregister)&&!(Z5(f.array,U)&&c.action)&&f.unMount.add(U)}}},lt=()=>e.shouldFocusError&&sc(i,je,f.mount),Xe=U=>{ei(U)&&(_.state.next({disabled:U}),sc(i,(W,ee)=>{const pe=Se(i,ee);pe&&(W.disabled=pe._f.disabled||U,Array.isArray(pe._f.refs)&&pe._f.refs.forEach(he=>{he.disabled=pe._f.disabled||U}))},0,!1))},Ft=(U,W)=>async ee=>{let pe;ee&&(ee.preventDefault&&ee.preventDefault(),ee.persist&&ee.persist());let he=fr(l);if(f.disabled.size)for(const ce of f.disabled)vt(he,ce,void 0);if(_.state.next({isSubmitting:!0}),e.resolver){const{errors:ce,values:_e}=await I();n.errors=ce,he=_e}else await O(i);if(Kt(n.errors,"root"),Pn(n.errors)){_.state.next({errors:{}});try{await U(he,ee)}catch(ce){pe=ce}}else W&&await W({...n.errors},ee),lt(),setTimeout(lt);if(_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Pn(n.errors)&&!pe,submitCount:n.submitCount+1,errors:n.errors}),pe)throw pe},_t=(U,W={})=>{Se(i,U)&&(Bt(W.defaultValue)?Ee(U,fr(Se(a,U))):(Ee(U,W.defaultValue),vt(a,U,fr(W.defaultValue))),W.keepTouched||Kt(n.touchedFields,U),W.keepDirty||(Kt(n.dirtyFields,U),n.isDirty=W.defaultValue?L(U,fr(Se(a,U))):L()),W.keepError||(Kt(n.errors,U),y.isValid&&D()),_.state.next({...n}))},Ot=(U,W={})=>{const ee=U?fr(U):a,pe=fr(ee),he=Pn(U),ce=he?a:pe;if(W.keepDefaultValues||(a=ee),!W.keepValues){if(W.keepDirtyValues){const _e=new Set([...f.mount,...Object.keys(Hu(a,l))]);for(const Be of Array.from(_e))Se(n.dirtyFields,Be)?vt(ce,Be,Se(l,Be)):Ee(Be,Se(ce,Be))}else{if(n_&&Bt(U))for(const _e of f.mount){const Be=Se(i,_e);if(Be&&Be._f){const Ge=Array.isArray(Be._f.refs)?Be._f.refs[0]:Be._f.ref;if(Th(Ge)){const Ke=Ge.closest("form");if(Ke){Ke.reset();break}}}}i={}}l=e.shouldUnregister?W.keepDefaultValues?fr(a):{}:fr(ce),_.array.next({values:{...ce}}),_.values.next({values:{...ce}})}f={mount:W.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!y.isValid||!!W.keepIsValid||!!W.keepDirtyValues,c.watch=!!e.shouldUnregister,_.state.next({submitCount:W.keepSubmitCount?n.submitCount:0,isDirty:he?!1:W.keepDirty?n.isDirty:!!(W.keepDefaultValues&&!Bs(U,a)),isSubmitted:W.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:he?{}:W.keepDirtyValues?W.keepDefaultValues&&l?Hu(a,l):n.dirtyFields:W.keepDefaultValues&&U?Hu(a,U):W.keepDirty?n.dirtyFields:{},touchedFields:W.keepTouched?n.touchedFields:{},errors:W.keepErrors?n.errors:{},isSubmitSuccessful:W.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},_r=(U,W)=>Ot(ti(U)?U(l):U,W);return{control:{register:qe,unregister:Oe,getFieldState:be,handleSubmit:Ft,setError:ge,_executeSchema:I,_getWatch:x,_getDirty:L,_updateValid:D,_removeUnmounted:V,_updateFieldArray:F,_updateDisabledField:mt,_getFieldArray:Ue,_reset:Ot,_resetDefaultValues:()=>ti(e.defaultValues)&&e.defaultValues().then(U=>{_r(U,e.resetOptions),_.state.next({isLoading:!1})}),_updateFormState:U=>{n={...n,...U}},_disableForm:Xe,_subjects:_,_proxyFormState:y,_setErrors:Z,get _fields(){return i},get _formValues(){return l},get _state(){return c},set _state(U){c=U},get _defaultValues(){return a},get _names(){return f},set _names(U){f=U},get _formState(){return n},set _formState(U){n=U},get _options(){return e},set _options(U){e={...e,...U}}},trigger:B,register:qe,handleSubmit:Ft,watch:Me,setValue:Ee,getValues:oe,reset:_r,resetField:_t,clearErrors:me,unregister:Oe,setError:ge,setFocus:(U,W={})=>{const ee=Se(i,U),pe=ee&&ee._f;if(pe){const he=pe.refs?pe.refs[0]:pe.ref;he.focus&&(he.focus(),W.shouldSelect&&ti(he.select)&&he.select())}},getFieldState:be}}function gz(t={}){const e=Fe.useRef(void 0),n=Fe.useRef(void 0),[i,a]=Fe.useState({isDirty:!1,isValidating:!1,isLoading:ti(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:ti(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...mz(t),formState:i});const l=e.current.control;return l._options=t,nz({subject:l._subjects.state,next:c=>{tz(c,l._proxyFormState,l._updateFormState)&&a({...l._formState})}}),Fe.useEffect(()=>l._disableForm(t.disabled),[l,t.disabled]),Fe.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==i.isDirty&&l._subjects.state.next({isDirty:c})}},[l,i.isDirty]),Fe.useEffect(()=>{t.values&&!Bs(t.values,n.current)?(l._reset(t.values,l._options.resetOptions),n.current=t.values,a(c=>({...c}))):l._resetDefaultValues()},[t.values,l]),Fe.useEffect(()=>{t.errors&&l._setErrors(t.errors)},[t.errors,l]),Fe.useEffect(()=>{l._state.mount||(l._updateValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),Fe.useEffect(()=>{t.shouldUnregister&&l._subjects.values.next({values:l._getWatch()})},[t.shouldUnregister,l]),e.current.formState=ez(i,l),e.current}const yz="_title_utcd8_1",vz="_authForm_utcd8_6",_z="_inputGroup_utcd8_17",Ez="_error_utcd8_38",Ua={title:yz,authForm:vz,inputGroup:_z,error:Ez},xI=({title:t,buttonText:e,onSubmit:n})=>{const{register:i,handleSubmit:a,formState:{errors:l}}=gz();return Y.jsxs("form",{onSubmit:a(n),className:Ua.authForm,children:[Y.jsx("h2",{className:Ua.title,children:t}),Y.jsxs("div",{className:Ua.inputGroup,children:[Y.jsx("label",{htmlFor:"email",children:"Email:"}),Y.jsx("input",{id:"email",type:"email",...i("email",{required:"Email обязателен",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Введите корректный email"}})}),l.email&&Y.jsx("p",{className:Ua.error,children:l.email.message})]}),Y.jsxs("div",{className:Ua.inputGroup,children:[Y.jsx("label",{htmlFor:"password",children:"Пароль:"}),Y.jsx("input",{id:"password",type:"password",...i("password",{required:"Пароль обязателен",minLength:{value:6,message:"Пароль должен содержать минимум 6 символа"}})}),l.password&&Y.jsx("p",{className:Ua.error,children:l.password.message})]}),Y.jsx("button",{type:"submit",className:Ua.submitButton,children:e})]})},bz=async(t,e)=>{const n=Tv();return(await BU(n,t,e)).user},Tz=async(t,e)=>{const n=Tv();return(await zU(n,t,e)).user},Sz="_authPage_18bi1_1",Az="_dark_18bi1_11",wz="_link_18bi1_15",Rz="_error_18bi1_36",wd={authPage:Sz,dark:Az,link:wz,error:Rz},Cz=()=>{const t=Oc(),e=kn(),{theme:n}=zt(f=>f.board),{isLoading:i}=zt(f=>f.auth),[a,l]=k.useState(null),c=async({email:f,password:p})=>{e(Hy());try{const m=await Tz(f,p);e(qA({email:m.email,id:m.uid,token:await m.getIdToken()})),t("/board")}catch(m){l(m.message),e(NN())}};return Y.jsxs("div",{className:`${wd.authPage} ${n==="dark"?wd.dark:""}`,children:[i?Y.jsx(np,{}):Y.jsx(xI,{title:"Вход",buttonText:"Войти",onSubmit:c}),a&&Y.jsxs("p",{className:wd.error,children:["Ошибка: ",a]}),Y.jsxs("p",{className:wd.link,children:["Нет аккаунта? ",Y.jsx(Ih,{to:"/register",children:"Зарегистрироваться"})]})]})},Iz="_authPage_18bi1_1",Dz="_dark_18bi1_11",Oz="_link_18bi1_15",xz="_error_18bi1_36",Rd={authPage:Iz,dark:Dz,link:Oz,error:xz},Nz=()=>{const t=Oc(),e=kn(),{theme:n}=zt(f=>f.board),{isLoading:i}=zt(f=>f.auth),[a,l]=k.useState(null),c=async({email:f,password:p})=>{e(Hy());try{await bz(f,p),e(G0()),t("/login")}catch(m){l(m.message),e(G0())}};return Y.jsxs("div",{className:`${Rd.authPage} ${n==="dark"?Rd.dark:""}`,children:[i?Y.jsx(np,{}):Y.jsx(xI,{title:"Регистрация",buttonText:"Зарегистрироваться",onSubmit:c}),a&&Y.jsxs("p",{className:Rd.error,children:["Ошибка: ",a]}),Y.jsxs("p",{className:Rd.link,children:["Уже есть аккаунт? ",Y.jsx("a",{href:"/login",children:"Войти"})]})]})},Pz="_overlay_133b1_1",Mz="_popup_133b1_14",kz="_input_133b1_24",Vz="_modalButtons_133b1_32",Lz="_addButton_133b1_37",Uz="_cancelButton_133b1_38",Ba={overlay:Pz,popup:Mz,input:kz,modalButtons:Vz,addButton:Lz,cancelButton:Uz},Bz=()=>{const t=kn(),{theme:e}=zt(f=>f.board),{isOpen:n}=zt(f=>f.popup.addColumnModal),[i,a]=k.useState(""),l=f=>{f.target===f.currentTarget&&t(hd())};k.useEffect(()=>{const f=p=>{p.key==="Escape"&&t(hd())};return n&&window.addEventListener("keydown",f),()=>{window.removeEventListener("keydown",f)}},[n,t]);const c=()=>{if(i.trim()){const f={id:`column-${Date.now()}`,title:i,taskIds:[]};t(SN(f)),a(""),t(hd())}};return n?Y.jsx("div",{className:`${Ba.overlay} ${e==="dark"?Ba.dark:""}`,onClick:l,children:Y.jsxs("div",{className:Ba.popup,children:[Y.jsx("h2",{children:"Add New Column"}),Y.jsx("input",{type:"text",value:i,onChange:f=>a(f.target.value),placeholder:"Column title",className:Ba.input,onKeyPress:f=>f.key==="Enter"&&c()}),Y.jsxs("div",{className:Ba.modalButtons,children:[Y.jsx("button",{onClick:c,className:Ba.addButton,children:"Добавить"}),Y.jsx("button",{onClick:()=>t(hd()),className:Ba.cancelButton,children:"Отмена"})]})]})}):null},zz="_overlay_13ksf_1",Fz="_popup_13ksf_26",jz="_buttons_13ksf_45",Hz="_confirmButton_13ksf_52",qz="_cancelButton_13ksf_65",Gu={overlay:zz,popup:Fz,buttons:jz,confirmButton:Hz,cancelButton:qz},Gz=()=>{const t=kn(),{isOpen:e,type:n,targetId:i}=zt(c=>c.popup.confirmationModal),a=c=>{c.target===c.currentTarget&&t(pd())};k.useEffect(()=>{const c=f=>{f.key==="Escape"&&t(pd())};return document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}},[t]);const l=()=>{n==="column"&&i?t(wN(i.columnId)):n==="task"&&i&&t(TN({taskId:i.taskId,columnId:i.columnId})),t(pd())};return e?Y.jsx("div",{className:Gu.overlay,onClick:a,children:Y.jsxs("div",{className:Gu.popup,children:[Y.jsx("h3",{children:"Вы уверены?"}),Y.jsxs("p",{children:["Вы действительно хотите удалить"," ",n==="column"?"колонку":"задачу","?"]}),Y.jsxs("div",{className:Gu.buttons,children:[Y.jsx("button",{onClick:l,className:Gu.confirmButton,children:"Удалить"}),Y.jsx("button",{onClick:()=>t(pd()),className:Gu.cancelButton,children:"Отмена"})]})]})}):null},$z="_content_ie76o_1",Kz={content:$z};function Wz(){return Y.jsxs("div",{className:Kz.content,children:[Y.jsx("h1",{children:"404 - Страница не найдена"}),Y.jsx(Ih,{to:"/",children:"Вернуться на главную"})]})}const Yz=()=>zt(e=>e.auth.isAuthenticated)?Y.jsx(mA,{}):Y.jsx(pA,{to:"/login",replace:!0}),Qz=()=>zt(e=>e.auth.isAuthenticated)?Y.jsx(pA,{to:"/board",replace:!0}):Y.jsx(mA,{}),Xz="_container_4of2k_1",Zz="_dark_4of2k_7",nA={container:Xz,dark:Zz};function Jz(){const t=kn(),e=Oc(),{theme:n}=zt(l=>l.board),{isAuthenticated:i,isLoading:a}=zt(l=>l.auth);return k.useEffect(()=>{t(Hy());const l=t_.onAuthStateChanged(c=>{t(c?qA({email:c.email,token:c.refreshToken,id:c.uid}):GA())});return()=>l()},[t]),k.useEffect(()=>{window.location.pathname==="/"&&e(i?"/board":"/login",{replace:!0})},[i,e]),a?Y.jsx(np,{}):Y.jsxs("div",{className:n==="dark"?"dark":"",children:[Y.jsxs("div",{className:`${nA.container} ${n==="dark"?nA.dark:""}`,children:[Y.jsx(Y5,{}),Y.jsxs(nO,{children:[Y.jsx(za,{path:"/board",element:Y.jsx(Yz,{}),children:Y.jsx(za,{index:!0,element:Y.jsx(P5,{})})}),Y.jsxs(za,{path:"/",element:Y.jsx(Qz,{}),children:[Y.jsx(za,{index:!0,path:"login",element:Y.jsx(Cz,{})}),Y.jsx(za,{path:"register",element:Y.jsx(Nz,{})})]}),Y.jsx(za,{path:"*",element:Y.jsx(Wz,{})})]})]}),Y.jsx(Bz,{}),Y.jsx(Gz,{})]})}const eF=wO;cD.createRoot(document.getElementById("root")).render(Y.jsx(k.StrictMode,{children:Y.jsx(eF,{children:Y.jsx(RA,{store:cc,children:Y.jsx(Jz,{})})})}));
